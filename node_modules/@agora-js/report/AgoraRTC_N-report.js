/**
 * AgoraWebSDK_N-v4.24.2-0-g002485b1-dirty Copyright AgoraInc.
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).AgoraRTCReport={})}(this,(function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var n=function(t){try{return!!t()}catch(t){return!0}},i=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),o=i,s=Function.prototype,a=s.call,c=o&&s.bind.bind(a,a),u=o?c:function(t){return function(){return a.apply(t,arguments)}},E=u({}.isPrototypeOf),l=function(t){return t&&t.Math===Math&&t},d=l("object"==typeof globalThis&&globalThis)||l("object"==typeof window&&window)||l("object"==typeof self&&self)||l("object"==typeof e&&e)||l("object"==typeof e&&e)||function(){return this}()||Function("return this")(),p=i,_=Function.prototype,h=_.apply,f=_.call,T="object"==typeof Reflect&&Reflect.apply||(p?f.bind(h):function(){return f.apply(h,arguments)}),R=u,A=R({}.toString),O=R("".slice),S=function(t){return O(A(t),8,-1)},I=S,m=u,N=function(t){if("Function"===I(t))return m(t)},g="object"==typeof document&&document.all,b=void 0===g&&void 0!==g?function(t){return"function"==typeof t||t===g}:function(t){return"function"==typeof t},C={},w=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),L=i,y=Function.prototype.call,v=L?y.bind(y):function(){return y.apply(y,arguments)},D={},P={}.propertyIsEnumerable,M=Object.getOwnPropertyDescriptor,U=M&&!P.call({1:2},1);D.f=U?function(t){var e=M(this,t);return!!e&&e.enumerable}:P;var x,F,k=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},V=n,B=S,j=Object,W=u("".split),G=V((function(){return!j("z").propertyIsEnumerable(0)}))?function(t){return"String"===B(t)?W(t,""):j(t)}:j,K=function(t){return null==t},H=K,Y=TypeError,z=function(t){if(H(t))throw new Y("Can't call method on "+t);return t},X=G,J=z,q=function(t){return X(J(t))},Q=b,$=function(t){return"object"==typeof t?null!==t:Q(t)},Z={},tt=Z,et=d,rt=b,nt=function(t){return rt(t)?t:void 0},it=function(t,e){return arguments.length<2?nt(tt[t])||nt(et[t]):tt[t]&&tt[t][e]||et[t]&&et[t][e]},ot=d.navigator,st=ot&&ot.userAgent,at=st?String(st):"",ct=d,ut=at,Et=ct.process,lt=ct.Deno,dt=Et&&Et.versions||lt&&lt.version,pt=dt&&dt.v8;pt&&(F=(x=pt.split("."))[0]>0&&x[0]<4?1:+(x[0]+x[1])),!F&&ut&&(!(x=ut.match(/Edge\/(\d+)/))||x[1]>=74)&&(x=ut.match(/Chrome\/(\d+)/))&&(F=+x[1]);var _t=F,ht=_t,ft=n,Tt=d.String,Rt=!!Object.getOwnPropertySymbols&&!ft((function(){var t=Symbol("symbol detection");return!Tt(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&ht&&ht<41})),At=Rt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ot=it,St=b,It=E,mt=Object,Nt=At?function(t){return"symbol"==typeof t}:function(t){var e=Ot("Symbol");return St(e)&&It(e.prototype,mt(t))},gt=String,bt=function(t){try{return gt(t)}catch(t){return"Object"}},Ct=b,wt=bt,Lt=TypeError,yt=function(t){if(Ct(t))return t;throw new Lt(wt(t)+" is not a function")},vt=yt,Dt=K,Pt=function(t,e){var r=t[e];return Dt(r)?void 0:vt(r)},Mt=v,Ut=b,xt=$,Ft=TypeError,kt={exports:{}},Vt=d,Bt=Object.defineProperty,jt=d,Wt=function(t,e){try{Bt(Vt,t,{value:e,configurable:!0,writable:!0})}catch(r){Vt[t]=e}return e},Gt="__core-js_shared__",Kt=kt.exports=jt[Gt]||Wt(Gt,{});(Kt.versions||(Kt.versions=[])).push({version:"3.46.0",mode:"pure",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.46.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Ht=kt.exports,Yt=Ht,zt=function(t,e){return Yt[t]||(Yt[t]=e||{})},Xt=z,Jt=Object,qt=function(t){return Jt(Xt(t))},Qt=qt,$t=u({}.hasOwnProperty),Zt=Object.hasOwn||function(t,e){return $t(Qt(t),e)},te=u,ee=0,re=Math.random(),ne=te(1.1.toString),ie=function(t){return"Symbol("+(void 0===t?"":t)+")_"+ne(++ee+re,36)},oe=zt,se=Zt,ae=ie,ce=Rt,ue=At,Ee=d.Symbol,le=oe("wks"),de=ue?Ee.for||Ee:Ee&&Ee.withoutSetter||ae,pe=function(t){return se(le,t)||(le[t]=ce&&se(Ee,t)?Ee[t]:de("Symbol."+t)),le[t]},_e=v,he=$,fe=Nt,Te=Pt,Re=function(t,e){var r,n;if("string"===e&&Ut(r=t.toString)&&!xt(n=Mt(r,t)))return n;if(Ut(r=t.valueOf)&&!xt(n=Mt(r,t)))return n;if("string"!==e&&Ut(r=t.toString)&&!xt(n=Mt(r,t)))return n;throw new Ft("Can't convert object to primitive value")},Ae=TypeError,Oe=pe("toPrimitive"),Se=function(t,e){if(!he(t)||fe(t))return t;var r,n=Te(t,Oe);if(n){if(void 0===e&&(e="default"),r=_e(n,t,e),!he(r)||fe(r))return r;throw new Ae("Can't convert object to primitive value")}return void 0===e&&(e="number"),Re(t,e)},Ie=Nt,me=function(t){var e=Se(t,"string");return Ie(e)?e:e+""},Ne=$,ge=d.document,be=Ne(ge)&&Ne(ge.createElement),Ce=function(t){return be?ge.createElement(t):{}},we=Ce,Le=!w&&!n((function(){return 7!==Object.defineProperty(we("div"),"a",{get:function(){return 7}}).a})),ye=w,ve=v,De=D,Pe=k,Me=q,Ue=me,xe=Zt,Fe=Le,ke=Object.getOwnPropertyDescriptor;C.f=ye?ke:function(t,e){if(t=Me(t),e=Ue(e),Fe)try{return ke(t,e)}catch(t){}if(xe(t,e))return Pe(!ve(De.f,t,e),t[e])};var Ve=n,Be=b,je=/#|\.prototype\./,We=function(t,e){var r=Ke[Ge(t)];return r===Ye||r!==He&&(Be(e)?Ve(e):!!e)},Ge=We.normalize=function(t){return String(t).replace(je,".").toLowerCase()},Ke=We.data={},He=We.NATIVE="N",Ye=We.POLYFILL="P",ze=We,Xe=yt,Je=i,qe=N(N.bind),Qe=function(t,e){return Xe(t),void 0===e?t:Je?qe(t,e):function(){return t.apply(e,arguments)}},$e={},Ze=w&&n((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),tr=$,er=String,rr=TypeError,nr=function(t){if(tr(t))return t;throw new rr(er(t)+" is not an object")},ir=w,or=Le,sr=Ze,ar=nr,cr=me,ur=TypeError,Er=Object.defineProperty,lr=Object.getOwnPropertyDescriptor,dr="enumerable",pr="configurable",_r="writable";$e.f=ir?sr?function(t,e,r){if(ar(t),e=cr(e),ar(r),"function"==typeof t&&"prototype"===e&&"value"in r&&_r in r&&!r[_r]){var n=lr(t,e);n&&n[_r]&&(t[e]=r.value,r={configurable:pr in r?r[pr]:n[pr],enumerable:dr in r?r[dr]:n[dr],writable:!1})}return Er(t,e,r)}:Er:function(t,e,r){if(ar(t),e=cr(e),ar(r),or)try{return Er(t,e,r)}catch(t){}if("get"in r||"set"in r)throw new ur("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var hr=$e,fr=k,Tr=w?function(t,e,r){return hr.f(t,e,fr(1,r))}:function(t,e,r){return t[e]=r,t},Rr=d,Ar=T,Or=N,Sr=b,Ir=C.f,mr=ze,Nr=Z,gr=Qe,br=Tr,Cr=Zt,wr=function(t){var e=function(r,n,i){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,n)}return new t(r,n,i)}return Ar(t,this,arguments)};return e.prototype=t.prototype,e},Lr=function(t,e){var r,n,i,o,s,a,c,u,E,l=t.target,d=t.global,p=t.stat,_=t.proto,h=d?Rr:p?Rr[l]:Rr[l]&&Rr[l].prototype,f=d?Nr:Nr[l]||br(Nr,l,{})[l],T=f.prototype;for(o in e)n=!(r=mr(d?o:l+(p?".":"#")+o,t.forced))&&h&&Cr(h,o),a=f[o],n&&(c=t.dontCallGetSet?(E=Ir(h,o))&&E.value:h[o]),s=n&&c?c:e[o],(r||_||typeof a!=typeof s)&&(u=t.bind&&n?gr(s,Rr):t.wrap&&n?wr(s):_&&Sr(s)?Or(s):s,(t.sham||s&&s.sham||a&&a.sham)&&br(u,"sham",!0),br(f,o,u),_&&(Cr(Nr,i=l+"Prototype")||br(Nr,i,{}),br(Nr[i],o,s),t.real&&T&&(r||!T[o])&&br(T,o,s)))},yr=Math.ceil,vr=Math.floor,Dr=Math.trunc||function(t){var e=+t;return(e>0?vr:yr)(e)},Pr=function(t){var e=+t;return e!=e||0===e?0:Dr(e)},Mr=Pr,Ur=Math.min,xr=function(t){var e=Mr(t);return e>0?Ur(e,9007199254740991):0},Fr=function(t){return xr(t.length)},kr=yt,Vr=qt,Br=G,jr=Fr,Wr=TypeError,Gr="Reduce of empty array with no initial value",Kr=function(t){return function(e,r,n,i){var o=Vr(e),s=Br(o),a=jr(o);if(kr(r),0===a&&n<2)throw new Wr(Gr);var c=t?a-1:0,u=t?-1:1;if(n<2)for(;;){if(c in s){i=s[c],c+=u;break}if(c+=u,t?c<0:a<=c)throw new Wr(Gr)}for(;t?c>=0:a>c;c+=u)c in s&&(i=r(i,s[c],c,o));return i}},Hr={left:Kr(!1),right:Kr(!0)},Yr=n,zr=function(t,e){var r=[][t];return!!r&&Yr((function(){r.call(null,e||function(){return 1},1)}))},Xr=d,Jr=at,qr=S,Qr=function(t){return Jr.slice(0,t.length)===t},$r=Qr("Bun/")?"BUN":Qr("Cloudflare-Workers")?"CLOUDFLARE":Qr("Deno/")?"DENO":Qr("Node.js/")?"NODE":Xr.Bun&&"string"==typeof Bun.version?"BUN":Xr.Deno&&"object"==typeof Deno.version?"DENO":"process"===qr(Xr.process)?"NODE":Xr.window&&Xr.document?"BROWSER":"REST",Zr="NODE"===$r,tn=Hr.left;Lr({target:"Array",proto:!0,forced:!Zr&&_t>79&&_t<83||!zr("reduce")},{reduce:function(t){var e=arguments.length;return tn(this,t,e,e>1?arguments[1]:void 0)}});var en=d,rn=Z,nn=function(t,e){var r=rn[t+"Prototype"],n=r&&r[e];if(n)return n;var i=en[t],o=i&&i.prototype;return o&&o[e]},on=nn("Array","reduce"),sn=E,an=on,cn=Array.prototype,un=r((function(t){var e=t.reduce;return t===cn||sn(cn,t)&&e===cn.reduce?an:e})),En={},ln=Pr,dn=Math.max,pn=Math.min,_n=q,hn=function(t,e){var r=ln(t);return r<0?dn(r+e,0):pn(r,e)},fn=Fr,Tn=function(t){return function(e,r,n){var i=_n(e),o=fn(i);if(0===o)return!t&&-1;var s,a=hn(n,o);if(t&&r!=r){for(;o>a;)if((s=i[a++])!=s)return!0}else for(;o>a;a++)if((t||a in i)&&i[a]===r)return t||a||0;return!t&&-1}},Rn={includes:Tn(!0),indexOf:Tn(!1)},An={},On=Zt,Sn=q,In=Rn.indexOf,mn=An,Nn=u([].push),gn=function(t,e){var r,n=Sn(t),i=0,o=[];for(r in n)!On(mn,r)&&On(n,r)&&Nn(o,r);for(;e.length>i;)On(n,r=e[i++])&&(~In(o,r)||Nn(o,r));return o},bn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Cn=gn,wn=bn,Ln=Object.keys||function(t){return Cn(t,wn)},yn=w,vn=Ze,Dn=$e,Pn=nr,Mn=q,Un=Ln;En.f=yn&&!vn?Object.defineProperties:function(t,e){Pn(t);for(var r,n=Mn(e),i=Un(e),o=i.length,s=0;o>s;)Dn.f(t,r=i[s++],n[r]);return t};var xn,Fn=it("document","documentElement"),kn=ie,Vn=zt("keys"),Bn=function(t){return Vn[t]||(Vn[t]=kn(t))},jn=nr,Wn=En,Gn=bn,Kn=An,Hn=Fn,Yn=Ce,zn="prototype",Xn="script",Jn=Bn("IE_PROTO"),qn=function(){},Qn=function(t){return"<"+Xn+">"+t+"</"+Xn+">"},$n=function(t){t.write(Qn("")),t.close();var e=t.parentWindow.Object;return t=null,e},Zn=function(){try{xn=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;Zn="undefined"!=typeof document?document.domain&&xn?$n(xn):(e=Yn("iframe"),r="java"+Xn+":",e.style.display="none",Hn.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(Qn("document.F=Object")),t.close(),t.F):$n(xn);for(var n=Gn.length;n--;)delete Zn[zn][Gn[n]];return Zn()};Kn[Jn]=!0;var ti=Object.create||function(t,e){var r;return null!==t?(qn[zn]=jn(t),r=new qn,qn[zn]=null,r[Jn]=t):r=Zn(),void 0===e?r:Wn.f(r,e)};Lr({target:"Object",stat:!0,sham:!w},{create:ti});var ei=Z.Object,ri=r((function(t,e){return ei.create(t,e)})),ni={exports:{}},ii=Lr,oi=w,si=$e.f;ii({target:"Object",stat:!0,forced:Object.defineProperty!==si,sham:!oi},{defineProperty:si});var ai=Z.Object,ci=ni.exports=function(t,e,r){return ai.defineProperty(t,e,r)};ai.defineProperty.sham&&(ci.sham=!0);var ui=r(ni.exports),Ei=u,li=yt,di=$,pi=function(t){return di(t)||null===t},_i=String,hi=TypeError,fi=function(t,e,r){try{return Ei(li(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}},Ti=$,Ri=z,Ai=function(t){if(pi(t))return t;throw new hi("Can't set "+_i(t)+" as a prototype")},Oi=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=fi(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return Ri(r),Ai(n),Ti(r)?(e?t(r,n):r.__proto__=n,r):r}}():void 0);Lr({target:"Object",stat:!0},{setPrototypeOf:Oi});var Si=r(Z.Object.setPrototypeOf),Ii=u([].slice),mi=u,Ni=yt,gi=$,bi=Zt,Ci=Ii,wi=i,Li=Function,yi=mi([].concat),vi=mi([].join),Di={},Pi=function(t,e,r){if(!bi(Di,e)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";Di[e]=Li("C,a","return new C("+vi(n,",")+")")}return Di[e](t,r)},Mi=wi?Li.bind:function(t){var e=Ni(this),r=e.prototype,n=Ci(arguments,1),i=function(){var r=yi(n,Ci(arguments));return this instanceof i?Pi(e,r.length,r):e.apply(t,r)};return gi(r)&&(i.prototype=r),i},Ui=Mi;Lr({target:"Function",proto:!0,forced:Function.bind!==Ui},{bind:Ui});var xi=nn("Function","bind"),Fi=E,ki=xi,Vi=Function.prototype,Bi=r((function(t){var e=t.bind;return t===Vi||Fi(Vi,t)&&e===Vi.bind?ki:e}));function ji(t,e){var r;return ji=Si?Bi(r=Si).call(r):function(t,e){return t.__proto__=e,t},ji(t,e)}var Wi=S,Gi=Array.isArray||function(t){return"Array"===Wi(t)},Ki=TypeError,Hi=w,Yi=$e,zi=k,Xi={};Xi[pe("toStringTag")]="z";var Ji="[object z]"===String(Xi),qi=Ji,Qi=b,$i=S,Zi=pe("toStringTag"),to=Object,eo="Arguments"===$i(function(){return arguments}()),ro=qi?$i:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=to(t),Zi))?r:eo?$i(e):"Object"===(n=$i(e))&&Qi(e.callee)?"Arguments":n},no=b,io=Ht,oo=u(Function.toString);no(io.inspectSource)||(io.inspectSource=function(t){return oo(t)});var so=io.inspectSource,ao=u,co=n,uo=b,Eo=ro,lo=so,po=function(){},_o=it("Reflect","construct"),ho=/^\s*(?:class|function)\b/,fo=ao(ho.exec),To=!ho.test(po),Ro=function(t){if(!uo(t))return!1;try{return _o(po,[],t),!0}catch(t){return!1}},Ao=function(t){if(!uo(t))return!1;switch(Eo(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return To||!!fo(ho,lo(t))}catch(t){return!0}};Ao.sham=!0;var Oo=!_o||co((function(){var t;return Ro(Ro.call)||!Ro(Object)||!Ro((function(){t=!0}))||t}))?Ao:Ro,So=Gi,Io=Oo,mo=$,No=pe("species"),go=Array,bo=function(t){var e;return So(t)&&(e=t.constructor,(Io(e)&&(e===go||So(e.prototype))||mo(e)&&null===(e=e[No]))&&(e=void 0)),void 0===e?go:e},Co=function(t,e){return new(bo(t))(0===e?0:e)},wo=n,Lo=_t,yo=pe("species"),vo=Lr,Do=n,Po=Gi,Mo=$,Uo=qt,xo=Fr,Fo=function(t){if(t>9007199254740991)throw Ki("Maximum allowed index exceeded");return t},ko=function(t,e,r){Hi?Yi.f(t,e,zi(0,r)):t[e]=r},Vo=Co,Bo=function(t){return Lo>=51||!wo((function(){var e=[];return(e.constructor={})[yo]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},jo=_t,Wo=pe("isConcatSpreadable"),Go=jo>=51||!Do((function(){var t=[];return t[Wo]=!1,t.concat()[0]!==t})),Ko=function(t){if(!Mo(t))return!1;var e=t[Wo];return void 0!==e?!!e:Po(t)};vo({target:"Array",proto:!0,arity:1,forced:!Go||!Bo("concat")},{concat:function(t){var e,r,n,i,o,s=Uo(this),a=Vo(s,0),c=0;for(e=-1,n=arguments.length;e<n;e++)if(Ko(o=-1===e?s:arguments[e]))for(i=xo(o),Fo(c+i),r=0;r<i;r++,c++)r in o&&ko(a,c,o[r]);else Fo(c+1),ko(a,c++,o);return a.length=c,a}});var Ho=ro,Yo=String,zo=function(t){if("Symbol"===Ho(t))throw new TypeError("Cannot convert a Symbol value to a string");return Yo(t)},Xo={},Jo=gn,qo=bn.concat("length","prototype");Xo.f=Object.getOwnPropertyNames||function(t){return Jo(t,qo)};var Qo={},$o=S,Zo=q,ts=Xo.f,es=Ii,rs="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Qo.f=function(t){return rs&&"Window"===$o(t)?function(t){try{return ts(t)}catch(t){return es(rs)}}(t):ts(Zo(t))};var ns={};ns.f=Object.getOwnPropertySymbols;var is=Tr,os=function(t,e,r,n){return n&&n.enumerable?t[e]=r:is(t,e,r),t},ss=$e,as=function(t,e,r){return ss.f(t,e,r)},cs={},us=pe;cs.f=us;var Es,ls,ds,ps=Z,_s=Zt,hs=cs,fs=$e.f,Ts=function(t){var e=ps.Symbol||(ps.Symbol={});_s(e,t)||fs(e,t,{value:hs.f(t)})},Rs=v,As=it,Os=pe,Ss=os,Is=function(){var t=As("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,n=Os("toPrimitive");e&&!e[n]&&Ss(e,n,(function(t){return Rs(r,this)}),{arity:1})},ms=ro,Ns=Ji?{}.toString:function(){return"[object "+ms(this)+"]"},gs=Ji,bs=$e.f,Cs=Tr,ws=Zt,Ls=Ns,ys=pe("toStringTag"),vs=function(t,e,r,n){var i=r?t:t&&t.prototype;i&&(ws(i,ys)||bs(i,ys,{configurable:!0,value:e}),n&&!gs&&Cs(i,"toString",Ls))},Ds=b,Ps=d.WeakMap,Ms=Ds(Ps)&&/native code/.test(String(Ps)),Us=d,xs=$,Fs=Tr,ks=Zt,Vs=Ht,Bs=Bn,js=An,Ws="Object already initialized",Gs=Us.TypeError,Ks=Us.WeakMap;if(Ms||Vs.state){var Hs=Vs.state||(Vs.state=new Ks);Hs.get=Hs.get,Hs.has=Hs.has,Hs.set=Hs.set,Es=function(t,e){if(Hs.has(t))throw new Gs(Ws);return e.facade=t,Hs.set(t,e),e},ls=function(t){return Hs.get(t)||{}},ds=function(t){return Hs.has(t)}}else{var Ys=Bs("state");js[Ys]=!0,Es=function(t,e){if(ks(t,Ys))throw new Gs(Ws);return e.facade=t,Fs(t,Ys,e),e},ls=function(t){return ks(t,Ys)?t[Ys]:{}},ds=function(t){return ks(t,Ys)}}var zs={set:Es,get:ls,has:ds,enforce:function(t){return ds(t)?ls(t):Es(t,{})},getterFor:function(t){return function(e){var r;if(!xs(e)||(r=ls(e)).type!==t)throw new Gs("Incompatible receiver, "+t+" required");return r}}},Xs=Qe,Js=G,qs=qt,Qs=Fr,$s=Co,Zs=u([].push),ta=function(t){var e=1===t,r=2===t,n=3===t,i=4===t,o=6===t,s=7===t,a=5===t||o;return function(c,u,E,l){for(var d,p,_=qs(c),h=Js(_),f=Qs(h),T=Xs(u,E),R=0,A=l||$s,O=e?A(c,f):r||s?A(c,0):void 0;f>R;R++)if((a||R in h)&&(p=T(d=h[R],R,_),t))if(e)O[R]=p;else if(p)switch(t){case 3:return!0;case 5:return d;case 6:return R;case 2:Zs(O,d)}else switch(t){case 4:return!1;case 7:Zs(O,d)}return o?-1:n||i?i:O}},ea={forEach:ta(0),map:ta(1),filter:ta(2),some:ta(3),every:ta(4),find:ta(5),findIndex:ta(6),filterReject:ta(7)},ra=Lr,na=d,ia=v,oa=u,sa=w,aa=Rt,ca=n,ua=Zt,Ea=E,la=nr,da=q,pa=me,_a=zo,ha=k,fa=ti,Ta=Ln,Ra=Xo,Aa=Qo,Oa=ns,Sa=C,Ia=$e,ma=En,Na=D,ga=os,ba=as,Ca=zt,wa=An,La=ie,ya=pe,va=cs,Da=Ts,Pa=Is,Ma=vs,Ua=zs,xa=ea.forEach,Fa=Bn("hidden"),ka="Symbol",Va="prototype",Ba=Ua.set,ja=Ua.getterFor(ka),Wa=Object[Va],Ga=na.Symbol,Ka=Ga&&Ga[Va],Ha=na.RangeError,Ya=na.TypeError,za=na.QObject,Xa=Sa.f,Ja=Ia.f,qa=Aa.f,Qa=Na.f,$a=oa([].push),Za=Ca("symbols"),tc=Ca("op-symbols"),ec=Ca("wks"),rc=!za||!za[Va]||!za[Va].findChild,nc=function(t,e,r){var n=Xa(Wa,e);n&&delete Wa[e],Ja(t,e,r),n&&t!==Wa&&Ja(Wa,e,n)},ic=sa&&ca((function(){return 7!==fa(Ja({},"a",{get:function(){return Ja(this,"a",{value:7}).a}})).a}))?nc:Ja,oc=function(t,e){var r=Za[t]=fa(Ka);return Ba(r,{type:ka,tag:t,description:e}),sa||(r.description=e),r},sc=function(t,e,r){t===Wa&&sc(tc,e,r),la(t);var n=pa(e);return la(r),ua(Za,n)?(r.enumerable?(ua(t,Fa)&&t[Fa][n]&&(t[Fa][n]=!1),r=fa(r,{enumerable:ha(0,!1)})):(ua(t,Fa)||Ja(t,Fa,ha(1,fa(null))),t[Fa][n]=!0),ic(t,n,r)):Ja(t,n,r)},ac=function(t,e){la(t);var r=da(e),n=Ta(r).concat(lc(r));return xa(n,(function(e){sa&&!ia(cc,r,e)||sc(t,e,r[e])})),t},cc=function(t){var e=pa(t),r=ia(Qa,this,e);return!(this===Wa&&ua(Za,e)&&!ua(tc,e))&&(!(r||!ua(this,e)||!ua(Za,e)||ua(this,Fa)&&this[Fa][e])||r)},uc=function(t,e){var r=da(t),n=pa(e);if(r!==Wa||!ua(Za,n)||ua(tc,n)){var i=Xa(r,n);return!i||!ua(Za,n)||ua(r,Fa)&&r[Fa][n]||(i.enumerable=!0),i}},Ec=function(t){var e=qa(da(t)),r=[];return xa(e,(function(t){ua(Za,t)||ua(wa,t)||$a(r,t)})),r},lc=function(t){var e=t===Wa,r=qa(e?tc:da(t)),n=[];return xa(r,(function(t){!ua(Za,t)||e&&!ua(Wa,t)||$a(n,Za[t])})),n};aa||(Ga=function(){if(Ea(Ka,this))throw new Ya("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?_a(arguments[0]):void 0,e=La(t),r=function(t){var n=void 0===this?na:this;n===Wa&&ia(r,tc,t),ua(n,Fa)&&ua(n[Fa],e)&&(n[Fa][e]=!1);var i=ha(1,t);try{ic(n,e,i)}catch(t){if(!(t instanceof Ha))throw t;nc(n,e,i)}};return sa&&rc&&ic(Wa,e,{configurable:!0,set:r}),oc(e,t)},ga(Ka=Ga[Va],"toString",(function(){return ja(this).tag})),ga(Ga,"withoutSetter",(function(t){return oc(La(t),t)})),Na.f=cc,Ia.f=sc,ma.f=ac,Sa.f=uc,Ra.f=Aa.f=Ec,Oa.f=lc,va.f=function(t){return oc(ya(t),t)},sa&&ba(Ka,"description",{configurable:!0,get:function(){return ja(this).description}})),ra({global:!0,constructor:!0,wrap:!0,forced:!aa,sham:!aa},{Symbol:Ga}),xa(Ta(ec),(function(t){Da(t)})),ra({target:ka,stat:!0,forced:!aa},{useSetter:function(){rc=!0},useSimple:function(){rc=!1}}),ra({target:"Object",stat:!0,forced:!aa,sham:!sa},{create:function(t,e){return void 0===e?fa(t):ac(fa(t),e)},defineProperty:sc,defineProperties:ac,getOwnPropertyDescriptor:uc}),ra({target:"Object",stat:!0,forced:!aa},{getOwnPropertyNames:Ec}),Pa(),Ma(Ga,ka),wa[Fa]=!0;var dc=Rt&&!!Symbol.for&&!!Symbol.keyFor,pc=Lr,_c=it,hc=Zt,fc=zo,Tc=zt,Rc=dc,Ac=Tc("string-to-symbol-registry"),Oc=Tc("symbol-to-string-registry");pc({target:"Symbol",stat:!0,forced:!Rc},{for:function(t){var e=fc(t);if(hc(Ac,e))return Ac[e];var r=_c("Symbol")(e);return Ac[e]=r,Oc[r]=e,r}});var Sc=Lr,Ic=Zt,mc=Nt,Nc=bt,gc=dc,bc=zt("symbol-to-string-registry");Sc({target:"Symbol",stat:!0,forced:!gc},{keyFor:function(t){if(!mc(t))throw new TypeError(Nc(t)+" is not a symbol");if(Ic(bc,t))return bc[t]}});var Cc=Gi,wc=b,Lc=S,yc=zo,vc=u([].push),Dc=Lr,Pc=it,Mc=T,Uc=v,xc=u,Fc=n,kc=b,Vc=Nt,Bc=Ii,jc=function(t){if(wc(t))return t;if(Cc(t)){for(var e=t.length,r=[],n=0;n<e;n++){var i=t[n];"string"==typeof i?vc(r,i):"number"!=typeof i&&"Number"!==Lc(i)&&"String"!==Lc(i)||vc(r,yc(i))}var o=r.length,s=!0;return function(t,e){if(s)return s=!1,e;if(Cc(this))return e;for(var n=0;n<o;n++)if(r[n]===t)return e}}},Wc=Rt,Gc=String,Kc=Pc("JSON","stringify"),Hc=xc(/./.exec),Yc=xc("".charAt),zc=xc("".charCodeAt),Xc=xc("".replace),Jc=xc(1.1.toString),qc=/[\uD800-\uDFFF]/g,Qc=/^[\uD800-\uDBFF]$/,$c=/^[\uDC00-\uDFFF]$/,Zc=!Wc||Fc((function(){var t=Pc("Symbol")("stringify detection");return"[null]"!==Kc([t])||"{}"!==Kc({a:t})||"{}"!==Kc(Object(t))})),tu=Fc((function(){return'"\\udf06\\ud834"'!==Kc("\udf06\ud834")||'"\\udead"'!==Kc("\udead")})),eu=function(t,e){var r=Bc(arguments),n=jc(e);if(kc(n)||void 0!==t&&!Vc(t))return r[1]=function(t,e){if(kc(n)&&(e=Uc(n,this,Gc(t),e)),!Vc(e))return e},Mc(Kc,null,r)},ru=function(t,e,r){var n=Yc(r,e-1),i=Yc(r,e+1);return Hc(Qc,t)&&!Hc($c,i)||Hc($c,t)&&!Hc(Qc,n)?"\\u"+Jc(zc(t,0),16):t};Kc&&Dc({target:"JSON",stat:!0,arity:3,forced:Zc||tu},{stringify:function(t,e,r){var n=Bc(arguments),i=Mc(Zc?eu:Kc,null,n);return tu&&"string"==typeof i?Xc(i,qc,ru):i}});var nu=ns,iu=qt;Lr({target:"Object",stat:!0,forced:!Rt||n((function(){nu.f(1)}))},{getOwnPropertySymbols:function(t){var e=nu.f;return e?e(iu(t)):[]}}),Ts("asyncDispose"),Ts("asyncIterator"),Ts("dispose"),Ts("hasInstance"),Ts("isConcatSpreadable"),Ts("iterator"),Ts("match"),Ts("matchAll"),Ts("replace"),Ts("search"),Ts("species"),Ts("split");var ou=Is;Ts("toPrimitive"),ou();var su=it,au=vs;Ts("toStringTag"),au(su("Symbol"),"Symbol"),Ts("unscopables"),vs(d.JSON,"JSON",!0);var cu,uu,Eu,lu=Z.Symbol,du={},pu=w,_u=Zt,hu=Function.prototype,fu=pu&&Object.getOwnPropertyDescriptor,Tu=_u(hu,"name"),Ru={EXISTS:Tu,PROPER:Tu&&"something"===function(){}.name,CONFIGURABLE:Tu&&(!pu||pu&&fu(hu,"name").configurable)},Au=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Ou=Zt,Su=b,Iu=qt,mu=Au,Nu=Bn("IE_PROTO"),gu=Object,bu=gu.prototype,Cu=mu?gu.getPrototypeOf:function(t){var e=Iu(t);if(Ou(e,Nu))return e[Nu];var r=e.constructor;return Su(r)&&e instanceof r?r.prototype:e instanceof gu?bu:null},wu=n,Lu=b,yu=$,vu=ti,Du=Cu,Pu=os,Mu=pe("iterator"),Uu=!1;[].keys&&("next"in(Eu=[].keys())?(uu=Du(Du(Eu)))!==Object.prototype&&(cu=uu):Uu=!0);var xu=!yu(cu)||wu((function(){var t={};return cu[Mu].call(t)!==t}));Lu((cu=xu?{}:vu(cu))[Mu])||Pu(cu,Mu,(function(){return this}));var Fu={IteratorPrototype:cu,BUGGY_SAFARI_ITERATORS:Uu},ku=Fu.IteratorPrototype,Vu=ti,Bu=k,ju=vs,Wu=du,Gu=function(){return this},Ku=Lr,Hu=v,Yu=Ru,zu=function(t,e,r,n){var i=e+" Iterator";return t.prototype=Vu(ku,{next:Bu(+!n,r)}),ju(t,i,!1,!0),Wu[i]=Gu,t},Xu=Cu,Ju=vs,qu=os,Qu=du,$u=Fu,Zu=Yu.PROPER,tE=$u.BUGGY_SAFARI_ITERATORS,eE=pe("iterator"),rE="keys",nE="values",iE="entries",oE=function(){return this},sE=function(t,e,r,n,i,o,s){zu(r,e,n);var a,c,u,E=function(t){if(t===i&&h)return h;if(!tE&&t&&t in p)return p[t];switch(t){case rE:case nE:case iE:return function(){return new r(this,t)}}return function(){return new r(this)}},l=e+" Iterator",d=!1,p=t.prototype,_=p[eE]||p["@@iterator"]||i&&p[i],h=!tE&&_||E(i),f="Array"===e&&p.entries||_;if(f&&(a=Xu(f.call(new t)))!==Object.prototype&&a.next&&(Ju(a,l,!0,!0),Qu[l]=oE),Zu&&i===nE&&_&&_.name!==nE&&(d=!0,h=function(){return Hu(_,this)}),i)if(c={values:E(nE),keys:o?h:E(rE),entries:E(iE)},s)for(u in c)(tE||d||!(u in p))&&qu(p,u,c[u]);else Ku({target:e,proto:!0,forced:tE||d},c);return s&&p[eE]!==h&&qu(p,eE,h,{name:i}),Qu[e]=h,c},aE=function(t,e){return{value:t,done:e}},cE=q,uE=du,EE=zs;$e.f;var lE=sE,dE=aE,pE="Array Iterator",_E=EE.set,hE=EE.getterFor(pE);lE(Array,"Array",(function(t,e){_E(this,{type:pE,target:cE(t),index:0,kind:e})}),(function(){var t=hE(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,dE(void 0,!0);switch(t.kind){case"keys":return dE(r,!1);case"values":return dE(e[r],!1)}return dE([r,e[r]],!1)}),"values"),uE.Arguments=uE.Array;var fE={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},TE=d,RE=vs,AE=du;for(var OE in fE)RE(TE[OE],OE),AE[OE]=AE.Array;var SE=lu,IE=pe,mE=$e.f,NE=IE("metadata"),gE=Function.prototype;void 0===gE[NE]&&mE(gE,NE,{value:null}),Ts("metadata");var bE=SE,CE=u,wE=it("Symbol"),LE=wE.keyFor,yE=CE(wE.prototype.valueOf),vE=wE.isRegisteredSymbol||function(t){try{return void 0!==LE(yE(t))}catch(t){return!1}};Lr({target:"Symbol",stat:!0},{isRegisteredSymbol:vE});for(var DE=zt,PE=it,ME=u,UE=Nt,xE=pe,FE=PE("Symbol"),kE=FE.isWellKnownSymbol,VE=PE("Object","getOwnPropertyNames"),BE=ME(FE.prototype.valueOf),jE=DE("wks"),WE=0,GE=VE(FE),KE=GE.length;WE<KE;WE++)try{var HE=GE[WE];UE(FE[HE])&&xE(HE)}catch(t){}var YE=function(t){if(kE&&kE(t))return!0;try{for(var e=BE(t),r=0,n=VE(jE),i=n.length;r<i;r++)if(jE[n[r]]==e)return!0}catch(t){}return!1};Lr({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:YE}),Ts("customMatcher"),Ts("observable"),Lr({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:vE}),Lr({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:YE}),Ts("matcher"),Ts("metadataKey"),Ts("patternMatch"),Ts("replaceAll");var zE=r(bE),XE=u,JE=Pr,qE=zo,QE=z,$E=XE("".charAt),ZE=XE("".charCodeAt),tl=XE("".slice),el=function(t){return function(e,r){var n,i,o=qE(QE(e)),s=JE(r),a=o.length;return s<0||s>=a?t?"":void 0:(n=ZE(o,s))<55296||n>56319||s+1===a||(i=ZE(o,s+1))<56320||i>57343?t?$E(o,s):n:t?tl(o,s,s+2):i-56320+(n-55296<<10)+65536}},rl={codeAt:el(!1),charAt:el(!0)}.charAt,nl=zo,il=zs,ol=sE,sl=aE,al="String Iterator",cl=il.set,ul=il.getterFor(al);ol(String,"String",(function(t){cl(this,{type:al,string:nl(t),index:0})}),(function(){var t,e=ul(this),r=e.string,n=e.index;return n>=r.length?sl(void 0,!0):(t=rl(r,n),e.index+=t.length,sl(t,!1))}));var El=r(cs.f("iterator"));function ll(t){return ll="function"==typeof zE&&"symbol"==typeof El?function(t){return typeof t}:function(t){return t&&"function"==typeof zE&&t.constructor===zE&&t!==zE.prototype?"symbol":typeof t},ll(t)}var dl=r(cs.f("toPrimitive"));function pl(t){var e=function(t,e){if("object"!=ll(t)||!t)return t;var r=t[dl];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ll(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ll(e)?e:e+""}function _l(t,e,r){return(e=pl(e))in t?ui(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var hl=nn("Array","keys"),fl=ro,Tl=Zt,Rl=E,Al=hl,Ol=Array.prototype,Sl={DOMTokenList:!0,NodeList:!0},Il=r((function(t){var e=t.keys;return t===Ol||Rl(Ol,t)&&e===Ol.keys||Tl(Sl,fl(t))?Al:e})),ml=Rn.includes;Lr({target:"Array",proto:!0,forced:n((function(){return!Array(1).includes()}))},{includes:function(t){return ml(this,t,arguments.length>1?arguments[1]:void 0)}});var Nl=nn("Array","includes"),gl=$,bl=S,Cl=pe("match"),wl=function(t){var e;return gl(t)&&(void 0!==(e=t[Cl])?!!e:"RegExp"===bl(t))},Ll=TypeError,yl=pe("match"),vl=Lr,Dl=function(t){if(wl(t))throw new Ll("The method doesn't accept regular expressions");return t},Pl=z,Ml=zo,Ul=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[yl]=!1,"/./"[t](e)}catch(t){}}return!1},xl=u("".indexOf);vl({target:"String",proto:!0,forced:!Ul("includes")},{includes:function(t){return!!~xl(Ml(Pl(this)),Ml(Dl(t)),arguments.length>1?arguments[1]:void 0)}});var Fl=nn("String","includes"),kl=E,Vl=Nl,Bl=Fl,jl=Array.prototype,Wl=String.prototype,Gl=r((function(t){var e=t.includes;return t===jl||kl(jl,t)&&e===jl.includes?Vl:"string"==typeof t||t===Wl||kl(Wl,t)&&e===Wl.includes?Bl:e})),Kl=bt,Hl=TypeError,Yl=Ii,zl=Math.floor,Xl=function(t,e){var r=t.length;if(r<8)for(var n,i,o=1;o<r;){for(i=o,n=t[o];i&&e(t[i-1],n)>0;)t[i]=t[--i];i!==o++&&(t[i]=n)}else for(var s=zl(r/2),a=Xl(Yl(t,0,s),e),c=Xl(Yl(t,s),e),u=a.length,E=c.length,l=0,d=0;l<u||d<E;)t[l+d]=l<u&&d<E?e(a[l],c[d])<=0?a[l++]:c[d++]:l<u?a[l++]:c[d++];return t},Jl=Xl,ql=at.match(/firefox\/(\d+)/i),Ql=!!ql&&+ql[1],$l=/MSIE|Trident/.test(at),Zl=at.match(/AppleWebKit\/(\d+)\./),td=!!Zl&&+Zl[1],ed=Lr,rd=u,nd=yt,id=qt,od=Fr,sd=function(t,e){if(!delete t[e])throw new Hl("Cannot delete property "+Kl(e)+" of "+Kl(t))},ad=zo,cd=n,ud=Jl,Ed=zr,ld=Ql,dd=$l,pd=_t,_d=td,hd=[],fd=rd(hd.sort),Td=rd(hd.push),Rd=cd((function(){hd.sort(void 0)})),Ad=cd((function(){hd.sort(null)})),Od=Ed("sort"),Sd=!cd((function(){if(pd)return pd<70;if(!(ld&&ld>3)){if(dd)return!0;if(_d)return _d<603;var t,e,r,n,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)hd.push({k:e+n,v:r})}for(hd.sort((function(t,e){return e.v-t.v})),n=0;n<hd.length;n++)e=hd[n].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));ed({target:"Array",proto:!0,forced:Rd||!Ad||!Od||!Sd},{sort:function(t){void 0!==t&&nd(t);var e=id(this);if(Sd)return void 0===t?fd(e):fd(e,t);var r,n,i=[],o=od(e);for(n=0;n<o;n++)n in e&&Td(i,e[n]);for(ud(i,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:ad(e)>ad(r)?1:-1}}(t)),r=od(i),n=0;n<r;)e[n]=i[n++];for(;n<o;)sd(e,n++);return e}});var Id=nn("Array","sort"),md=E,Nd=Id,gd=Array.prototype,bd=r((function(t){var e=t.sort;return t===gd||md(gd,t)&&e===gd.sort?Nd:e})),Cd=it,wd=Xo,Ld=ns,yd=nr,vd=u([].concat),Dd=Cd("Reflect","ownKeys")||function(t){var e=wd.f(yd(t)),r=Ld.f;return r?vd(e,r(t)):e},Pd=Zt,Md=Dd,Ud=C,xd=$e,Fd=$,kd=Tr,Vd=Error,Bd=u("".replace),jd=String(new Vd("zxcasd").stack),Wd=/\n\s*at [^:]*:[^\n]*/,Gd=Wd.test(jd),Kd=k,Hd=!n((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",Kd(1,7)),7!==t.stack)})),Yd=Tr,zd=function(t,e){if(Gd&&"string"==typeof t&&!Vd.prepareStackTrace)for(;e--;)t=Bd(t,Wd,"");return t},Xd=Hd,Jd=Error.captureStackTrace,qd=du,Qd=pe("iterator"),$d=Array.prototype,Zd=ro,tp=Pt,ep=K,rp=du,np=pe("iterator"),ip=function(t){if(!ep(t))return tp(t,np)||tp(t,"@@iterator")||rp[Zd(t)]},op=v,sp=yt,ap=nr,cp=bt,up=ip,Ep=TypeError,lp=v,dp=nr,pp=Pt,_p=Qe,hp=v,fp=nr,Tp=bt,Rp=function(t){return void 0!==t&&(qd.Array===t||$d[Qd]===t)},Ap=Fr,Op=E,Sp=function(t,e){var r=arguments.length<2?up(t):e;if(sp(r))return ap(op(r,t));throw new Ep(cp(t)+" is not iterable")},Ip=ip,mp=function(t,e,r){var n,i;dp(t);try{if(!(n=pp(t,"return"))){if("throw"===e)throw r;return r}n=lp(n,t)}catch(t){i=!0,n=t}if("throw"===e)throw r;if(i)throw n;return dp(n),r},Np=TypeError,gp=function(t,e){this.stopped=t,this.result=e},bp=gp.prototype,Cp=function(t,e,r){var n,i,o,s,a,c,u,E=r&&r.that,l=!(!r||!r.AS_ENTRIES),d=!(!r||!r.IS_RECORD),p=!(!r||!r.IS_ITERATOR),_=!(!r||!r.INTERRUPTED),h=_p(e,E),f=function(t){return n&&mp(n,"normal"),new gp(!0,t)},T=function(t){return l?(fp(t),_?h(t[0],t[1],f):h(t[0],t[1])):_?h(t,f):h(t)};if(d)n=t.iterator;else if(p)n=t;else{if(!(i=Ip(t)))throw new Np(Tp(t)+" is not iterable");if(Rp(i)){for(o=0,s=Ap(t);s>o;o++)if((a=T(t[o]))&&Op(bp,a))return a;return new gp(!1)}n=Sp(t,i)}for(c=d?t.next:n.next;!(u=hp(c,n)).done;){try{a=T(u.value)}catch(t){mp(n,"throw",t)}if("object"==typeof a&&a&&Op(bp,a))return a}return new gp(!1)},wp=zo,Lp=Lr,yp=E,vp=Cu,Dp=Oi,Pp=function(t,e,r){for(var n=Md(e),i=xd.f,o=Ud.f,s=0;s<n.length;s++){var a=n[s];Pd(t,a)||r&&Pd(r,a)||i(t,a,o(e,a))}},Mp=ti,Up=Tr,xp=k,Fp=function(t,e){Fd(e)&&"cause"in e&&kd(t,"cause",e.cause)},kp=function(t,e,r,n){Xd&&(Jd?Jd(t,e):Yd(t,"stack",zd(r,n)))},Vp=Cp,Bp=function(t,e){return void 0===t?arguments.length<2?"":e:wp(t)},jp=pe("toStringTag"),Wp=Error,Gp=[].push,Kp=function(t,e){var r,n=yp(Hp,this);Dp?r=Dp(new Wp,n?vp(this):Hp):(r=n?this:Mp(Hp),Up(r,jp,"Error")),void 0!==e&&Up(r,"message",Bp(e)),kp(r,Kp,r.stack,1),arguments.length>2&&Fp(r,arguments[2]);var i=[];return Vp(t,Gp,{that:i}),Up(r,"errors",i),r};Dp?Dp(Kp,Wp):Pp(Kp,Wp,{name:!0});var Hp=Kp.prototype=Mp(Wp.prototype,{constructor:xp(1,Kp),message:xp(1,""),name:xp(1,"AggregateError")});Lp({global:!0,constructor:!0,arity:2},{AggregateError:Kp});var Yp,zp,Xp,Jp,qp=it,Qp=as,$p=w,Zp=pe("species"),t_=E,e_=TypeError,r_=Oo,n_=bt,i_=TypeError,o_=nr,s_=function(t){if(r_(t))return t;throw new i_(n_(t)+" is not a constructor")},a_=K,c_=pe("species"),u_=function(t,e){var r,n=o_(t).constructor;return void 0===n||a_(r=o_(n)[c_])?e:s_(r)},E_=TypeError,l_=/(?:ipad|iphone|ipod).*applewebkit/i.test(at),d_=d,p_=T,__=Qe,h_=b,f_=Zt,T_=n,R_=Fn,A_=Ii,O_=Ce,S_=function(t,e){if(t<e)throw new E_("Not enough arguments");return t},I_=l_,m_=Zr,N_=d_.setImmediate,g_=d_.clearImmediate,b_=d_.process,C_=d_.Dispatch,w_=d_.Function,L_=d_.MessageChannel,y_=d_.String,v_=0,D_={},P_="onreadystatechange";T_((function(){Yp=d_.location}));var M_=function(t){if(f_(D_,t)){var e=D_[t];delete D_[t],e()}},U_=function(t){return function(){M_(t)}},x_=function(t){M_(t.data)},F_=function(t){d_.postMessage(y_(t),Yp.protocol+"//"+Yp.host)};N_&&g_||(N_=function(t){S_(arguments.length,1);var e=h_(t)?t:w_(t),r=A_(arguments,1);return D_[++v_]=function(){p_(e,void 0,r)},zp(v_),v_},g_=function(t){delete D_[t]},m_?zp=function(t){b_.nextTick(U_(t))}:C_&&C_.now?zp=function(t){C_.now(U_(t))}:L_&&!I_?(Jp=(Xp=new L_).port2,Xp.port1.onmessage=x_,zp=__(Jp.postMessage,Jp)):d_.addEventListener&&h_(d_.postMessage)&&!d_.importScripts&&Yp&&"file:"!==Yp.protocol&&!T_(F_)?(zp=F_,d_.addEventListener("message",x_,!1)):zp=P_ in O_("script")?function(t){R_.appendChild(O_("script"))[P_]=function(){R_.removeChild(this),M_(t)}}:function(t){setTimeout(U_(t),0)});var k_={set:N_,clear:g_},V_=d,B_=w,j_=Object.getOwnPropertyDescriptor,W_=function(){this.head=null,this.tail=null};W_.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var G_,K_,H_,Y_,z_,X_=W_,J_=/ipad|iphone|ipod/i.test(at)&&"undefined"!=typeof Pebble,q_=/web0s(?!.*chrome)/i.test(at),Q_=d,$_=function(t){if(!B_)return V_[t];var e=j_(V_,t);return e&&e.value},Z_=Qe,th=k_.set,eh=X_,rh=l_,nh=J_,ih=q_,oh=Zr,sh=Q_.MutationObserver||Q_.WebKitMutationObserver,ah=Q_.document,ch=Q_.process,uh=Q_.Promise,Eh=$_("queueMicrotask");if(!Eh){var lh=new eh,dh=function(){var t,e;for(oh&&(t=ch.domain)&&t.exit();e=lh.get();)try{e()}catch(t){throw lh.head&&G_(),t}t&&t.enter()};rh||oh||ih||!sh||!ah?!nh&&uh&&uh.resolve?((Y_=uh.resolve(void 0)).constructor=uh,z_=Z_(Y_.then,Y_),G_=function(){z_(dh)}):oh?G_=function(){ch.nextTick(dh)}:(th=Z_(th,Q_),G_=function(){th(dh)}):(K_=!0,H_=ah.createTextNode(""),new sh(dh).observe(H_,{characterData:!0}),G_=function(){H_.data=K_=!K_}),Eh=function(t){lh.head||G_(),lh.add(t)}}var ph=Eh,_h=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},hh=d.Promise,fh=d,Th=hh,Rh=b,Ah=ze,Oh=so,Sh=pe,Ih=$r,mh=_t,Nh=Th&&Th.prototype,gh=Sh("species"),bh=!1,Ch=Rh(fh.PromiseRejectionEvent),wh=Ah("Promise",(function(){var t=Oh(Th),e=t!==String(Th);if(!e&&66===mh)return!0;if(!Nh.catch||!Nh.finally)return!0;if(!mh||mh<51||!/native code/.test(t)){var r=new Th((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};if((r.constructor={})[gh]=n,!(bh=r.then((function(){}))instanceof n))return!0}return!(e||"BROWSER"!==Ih&&"DENO"!==Ih||Ch)})),Lh={CONSTRUCTOR:wh,REJECTION_EVENT:Ch,SUBCLASSING:bh},yh={},vh=yt,Dh=TypeError,Ph=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw new Dh("Bad Promise constructor");e=t,r=n})),this.resolve=vh(e),this.reject=vh(r)};yh.f=function(t){return new Ph(t)};var Mh,Uh,xh,Fh=Lr,kh=Zr,Vh=d,Bh=Z,jh=v,Wh=os,Gh=vs,Kh=function(t){var e=qp(t);$p&&e&&!e[Zp]&&Qp(e,Zp,{configurable:!0,get:function(){return this}})},Hh=yt,Yh=b,zh=$,Xh=function(t,e){if(t_(e,t))return t;throw new e_("Incorrect invocation")},Jh=u_,qh=k_.set,Qh=ph,$h=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}},Zh=_h,tf=X_,ef=zs,rf=hh,nf=Lh,of=yh,sf="Promise",af=nf.CONSTRUCTOR,cf=nf.REJECTION_EVENT,uf=ef.getterFor(sf),Ef=ef.set,lf=rf&&rf.prototype,df=rf,pf=lf,_f=Vh.TypeError,hf=Vh.document,ff=Vh.process,Tf=of.f,Rf=Tf,Af=!!(hf&&hf.createEvent&&Vh.dispatchEvent),Of="unhandledrejection",Sf=function(t){var e;return!(!zh(t)||!Yh(e=t.then))&&e},If=function(t,e){var r,n,i,o=e.value,s=1===e.state,a=s?t.ok:t.fail,c=t.resolve,u=t.reject,E=t.domain;try{a?(s||(2===e.rejection&&Cf(e),e.rejection=1),!0===a?r=o:(E&&E.enter(),r=a(o),E&&(E.exit(),i=!0)),r===t.promise?u(new _f("Promise-chain cycle")):(n=Sf(r))?jh(n,r,c,u):c(r)):u(o)}catch(t){E&&!i&&E.exit(),u(t)}},mf=function(t,e){t.notified||(t.notified=!0,Qh((function(){for(var r,n=t.reactions;r=n.get();)If(r,t);t.notified=!1,e&&!t.rejection&&gf(t)})))},Nf=function(t,e,r){var n,i;Af?((n=hf.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),Vh.dispatchEvent(n)):n={promise:e,reason:r},!cf&&(i=Vh["on"+t])?i(n):t===Of&&$h("Unhandled promise rejection",r)},gf=function(t){jh(qh,Vh,(function(){var e,r=t.facade,n=t.value;if(bf(t)&&(e=Zh((function(){kh?ff.emit("unhandledRejection",n,r):Nf(Of,r,n)})),t.rejection=kh||bf(t)?2:1,e.error))throw e.value}))},bf=function(t){return 1!==t.rejection&&!t.parent},Cf=function(t){jh(qh,Vh,(function(){var e=t.facade;kh?ff.emit("rejectionHandled",e):Nf("rejectionhandled",e,t.value)}))},wf=function(t,e,r){return function(n){t(e,n,r)}},Lf=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,mf(t,!0))},yf=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new _f("Promise can't be resolved itself");var n=Sf(e);n?Qh((function(){var r={done:!1};try{jh(n,e,wf(yf,r,t),wf(Lf,r,t))}catch(e){Lf(r,e,t)}})):(t.value=e,t.state=1,mf(t,!1))}catch(e){Lf({done:!1},e,t)}}};af&&(pf=(df=function(t){Xh(this,pf),Hh(t),jh(Mh,this);var e=uf(this);try{t(wf(yf,e),wf(Lf,e))}catch(t){Lf(e,t)}}).prototype,(Mh=function(t){Ef(this,{type:sf,done:!1,notified:!1,parent:!1,reactions:new tf,rejection:!1,state:0,value:null})}).prototype=Wh(pf,"then",(function(t,e){var r=uf(this),n=Tf(Jh(this,df));return r.parent=!0,n.ok=!Yh(t)||t,n.fail=Yh(e)&&e,n.domain=kh?ff.domain:void 0,0===r.state?r.reactions.add(n):Qh((function(){If(n,r)})),n.promise})),Uh=function(){var t=new Mh,e=uf(t);this.promise=t,this.resolve=wf(yf,e),this.reject=wf(Lf,e)},of.f=Tf=function(t){return t===df||t===xh?new Uh(t):Rf(t)}),Fh({global:!0,constructor:!0,wrap:!0,forced:af},{Promise:df}),xh=Bh.Promise,Gh(df,sf,!1,!0),Kh(sf);var vf=pe("iterator"),Df=!1;try{var Pf=0,Mf={next:function(){return{done:!!Pf++}},return:function(){Df=!0}};Mf[vf]=function(){return this},Array.from(Mf,(function(){throw 2}))}catch(t){}var Uf=hh,xf=function(t,e){try{if(!e&&!Df)return!1}catch(t){return!1}var r=!1;try{var n={};n[vf]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},Ff=Lh.CONSTRUCTOR||!xf((function(t){Uf.all(t).then(void 0,(function(){}))})),kf=v,Vf=yt,Bf=yh,jf=_h,Wf=Cp;Lr({target:"Promise",stat:!0,forced:Ff},{all:function(t){var e=this,r=Bf.f(e),n=r.resolve,i=r.reject,o=jf((function(){var r=Vf(e.resolve),o=[],s=0,a=1;Wf(t,(function(t){var c=s++,u=!1;a++,kf(r,e,t).then((function(t){u||(u=!0,o[c]=t,--a||n(o))}),i)})),--a||n(o)}));return o.error&&i(o.value),r.promise}});var Gf=Lr,Kf=Lh.CONSTRUCTOR;hh&&hh.prototype,Gf({target:"Promise",proto:!0,forced:Kf,real:!0},{catch:function(t){return this.then(void 0,t)}});var Hf=v,Yf=yt,zf=yh,Xf=_h,Jf=Cp;Lr({target:"Promise",stat:!0,forced:Ff},{race:function(t){var e=this,r=zf.f(e),n=r.reject,i=Xf((function(){var i=Yf(e.resolve);Jf(t,(function(t){Hf(i,e,t).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}});var qf=yh;Lr({target:"Promise",stat:!0,forced:Lh.CONSTRUCTOR},{reject:function(t){var e=qf.f(this);return(0,e.reject)(t),e.promise}});var Qf=nr,$f=$,Zf=yh,tT=function(t,e){if(Qf(t),$f(e)&&e.constructor===t)return e;var r=Zf.f(t);return(0,r.resolve)(e),r.promise},eT=Lr,rT=hh,nT=Lh.CONSTRUCTOR,iT=tT,oT=it("Promise"),sT=!nT;eT({target:"Promise",stat:!0,forced:true},{resolve:function(t){return iT(sT&&this===oT?rT:this,t)}});var aT=v,cT=yt,uT=yh,ET=_h,lT=Cp;Lr({target:"Promise",stat:!0,forced:Ff},{allSettled:function(t){var e=this,r=uT.f(e),n=r.resolve,i=r.reject,o=ET((function(){var r=cT(e.resolve),i=[],o=0,s=1;lT(t,(function(t){var a=o++,c=!1;s++,aT(r,e,t).then((function(t){c||(c=!0,i[a]={status:"fulfilled",value:t},--s||n(i))}),(function(t){c||(c=!0,i[a]={status:"rejected",reason:t},--s||n(i))}))})),--s||n(i)}));return o.error&&i(o.value),r.promise}});var dT=v,pT=yt,_T=it,hT=yh,fT=_h,TT=Cp,RT="No one promise resolved";Lr({target:"Promise",stat:!0,forced:Ff},{any:function(t){var e=this,r=_T("AggregateError"),n=hT.f(e),i=n.resolve,o=n.reject,s=fT((function(){var n=pT(e.resolve),s=[],a=0,c=1,u=!1;TT(t,(function(t){var E=a++,l=!1;c++,dT(n,e,t).then((function(t){l||u||(u=!0,i(t))}),(function(t){l||u||(l=!0,s[E]=t,--c||o(new r(s,RT)))}))})),--c||o(new r(s,RT))}));return s.error&&o(s.value),n.promise}});var AT=Lr,OT=T,ST=Ii,IT=yh,mT=yt,NT=_h,gT=d.Promise,bT=!1;AT({target:"Promise",stat:!0,forced:!gT||!gT.try||NT((function(){gT.try((function(t){bT=8===t}),8)})).error||!bT},{try:function(t){var e=arguments.length>1?ST(arguments,1):[],r=IT.f(this),n=NT((function(){return OT(mT(t),void 0,e)}));return(n.error?r.reject:r.resolve)(n.value),r.promise}});var CT=yh;Lr({target:"Promise",stat:!0},{withResolvers:function(){var t=CT.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});var wT=Lr,LT=hh,yT=n,vT=it,DT=b,PT=u_,MT=tT,UT=LT&&LT.prototype;wT({target:"Promise",proto:!0,real:!0,forced:!!LT&&yT((function(){UT.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=PT(this,vT("Promise")),r=DT(t);return this.then(r?function(r){return MT(e,t()).then((function(){return r}))}:t,r?function(r){return MT(e,t()).then((function(){throw r}))}:t)}});var xT=r(Z.Promise),FT={exports:{}};!function(t,r){!function(e,n){var i="function",o="undefined",s="object",a="string",c="major",u="model",E="name",l="type",d="vendor",p="version",_="architecture",h="console",f="mobile",T="tablet",R="smarttv",A="wearable",O="embedded",S="Amazon",I="Apple",m="ASUS",N="BlackBerry",g="Browser",b="Chrome",C="Firefox",w="Google",L="Honor",y="Huawei",v="LG",D="Microsoft",P="Motorola",M="Nvidia",U="OnePlus",x="Opera",F="OPPO",k="Samsung",V="Sharp",B="Sony",j="Xiaomi",W="Zebra",G="Facebook",K="Chromium OS",H="Mac OS",Y=" Browser",z=function(t){for(var e={},r=0;r<t.length;r++)e[t[r].toUpperCase()]=t[r];return e},X=function(t,e){return typeof t===a&&-1!==J(e).indexOf(J(t))},J=function(t){return t.toLowerCase()},q=function(t,e){if(typeof t===a)return t=t.replace(/^\s\s*/,""),typeof e===o?t:t.substring(0,500)},Q=function(t,e){for(var r,o,a,c,u,E,l=0;l<e.length&&!u;){var d=e[l],p=e[l+1];for(r=o=0;r<d.length&&!u&&d[r];)if(u=d[r++].exec(t))for(a=0;a<p.length;a++)E=u[++o],typeof(c=p[a])===s&&c.length>0?2===c.length?typeof c[1]==i?this[c[0]]=c[1].call(this,E):this[c[0]]=c[1]:3===c.length?typeof c[1]!==i||c[1].exec&&c[1].test?this[c[0]]=E?E.replace(c[1],c[2]):n:this[c[0]]=E?c[1].call(this,E,c[2]):n:4===c.length&&(this[c[0]]=E?c[3].call(this,E.replace(c[1],c[2])):n):this[c]=E||n;l+=2}},$=function(t,e){for(var r in e)if(typeof e[r]===s&&e[r].length>0){for(var i=0;i<e[r].length;i++)if(X(e[r][i],t))return"?"===r?n:r}else if(X(e[r],t))return"?"===r?n:r;return e.hasOwnProperty("*")?e["*"]:t},Z={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},tt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[E,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[E,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[E,p],[/opios[\/ ]+([\w\.]+)/i],[p,[E,x+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[p,[E,x+" GX"]],[/\bopr\/([\w\.]+)/i],[p,[E,x]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[p,[E,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[p,[E,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[E,p],[/quark(?:pc)?\/([-\w\.]+)/i],[p,[E,"Quark"]],[/\bddg\/([\w\.]+)/i],[p,[E,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[E,"UC"+g]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[p,[E,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[E,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[E,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[p,[E,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[p,[E,"Smart Lenovo "+g]],[/(avast|avg)\/([\w\.]+)/i],[[E,/(.+)/,"$1 Secure "+g],p],[/\bfocus\/([\w\.]+)/i],[p,[E,C+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[E,x+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[E,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[E,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[E,x+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[E,"MIUI"+Y]],[/fxios\/([\w\.-]+)/i],[p,[E,C]],[/\bqihoobrowser\/?([\w\.]*)/i],[p,[E,"360"]],[/\b(qq)\/([\w\.]+)/i],[[E,/(.+)/,"$1Browser"],p],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[E,/(.+)/,"$1"+Y],p],[/samsungbrowser\/([\w\.]+)/i],[p,[E,k+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[p,[E,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[E,"Sogou Mobile"],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[E,p],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[E],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[p,E],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[E,G],p],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[E,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[E,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[p,[E,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[E,b+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[E,b+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[E,"Android "+g]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[E,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[E,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,E],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[E,[p,$,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[E,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[E,"Netscape"],p],[/(wolvic|librewolf)\/([\w\.]+)/i],[E,p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[E,C+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[E,[p,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[E,[p,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[_,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[_,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[_,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[_,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[_,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[_,/ower/,"",J]],[/ sun4\w[;\)]/i],[[_,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[_,J]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[d,k],[l,T]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[u,[d,k],[l,f]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[u,[d,I],[l,f]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[d,I],[l,T]],[/(macintosh);/i],[u,[d,I]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[d,V],[l,f]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[u,[d,L],[l,T]],[/honor([-\w ]+)[;\)]/i],[u,[d,L],[l,f]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[u,[d,y],[l,T]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[d,y],[l,f]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[u,/_/g," "],[d,j],[l,T]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[u,/_/g," "],[d,j],[l,f]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[d,F],[l,f]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[u,[d,$,{OnePlus:["304","403","203"],"*":F}],[l,T]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[d,"Vivo"],[l,f]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[u,[d,"Realme"],[l,f]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[d,P],[l,f]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[d,P],[l,T]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[d,v],[l,T]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[d,v],[l,f]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[u,[d,"Lenovo"],[l,T]],[/(nokia) (t[12][01])/i],[d,u,[l,T]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[u,/_/g," "],[l,f],[d,"Nokia"]],[/(pixel (c|tablet))\b/i],[u,[d,w],[l,T]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[d,w],[l,f]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[d,B],[l,f]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[d,B],[l,T]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[d,U],[l,f]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[d,S],[l,T]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[d,S],[l,f]],[/(playbook);[-\w\),; ]+(rim)/i],[u,d,[l,T]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[d,N],[l,f]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[d,m],[l,T]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[d,m],[l,f]],[/(nexus 9)/i],[u,[d,"HTC"],[l,T]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[d,[u,/_/g," "],[l,f]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[u,[d,"TCL"],[l,T]],[/(itel) ((\w+))/i],[[d,J],u,[l,$,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[d,"Acer"],[l,T]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[d,"Meizu"],[l,f]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[u,[d,"Ulefone"],[l,f]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[u,[d,"Energizer"],[l,f]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[u,[d,"Cat"],[l,f]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[u,[d,"Smartfren"],[l,f]],[/droid.+; (a(?:015|06[35]|142p?))/i],[u,[d,"Nothing"],[l,f]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[u,[d,"Archos"],[l,T]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[u,[d,"Archos"],[l,f]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[d,u,[l,T]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[d,u,[l,f]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,u,[l,T]],[/(surface duo)/i],[u,[d,D],[l,T]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[d,"Fairphone"],[l,f]],[/(u304aa)/i],[u,[d,"AT&T"],[l,f]],[/\bsie-(\w*)/i],[u,[d,"Siemens"],[l,f]],[/\b(rct\w+) b/i],[u,[d,"RCA"],[l,T]],[/\b(venue[\d ]{2,7}) b/i],[u,[d,"Dell"],[l,T]],[/\b(q(?:mv|ta)\w+) b/i],[u,[d,"Verizon"],[l,T]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[d,"Barnes & Noble"],[l,T]],[/\b(tm\d{3}\w+) b/i],[u,[d,"NuVision"],[l,T]],[/\b(k88) b/i],[u,[d,"ZTE"],[l,T]],[/\b(nx\d{3}j) b/i],[u,[d,"ZTE"],[l,f]],[/\b(gen\d{3}) b.+49h/i],[u,[d,"Swiss"],[l,f]],[/\b(zur\d{3}) b/i],[u,[d,"Swiss"],[l,T]],[/\b((zeki)?tb.*\b) b/i],[u,[d,"Zeki"],[l,T]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],u,[l,T]],[/\b(ns-?\w{0,9}) b/i],[u,[d,"Insignia"],[l,T]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[d,"NextBook"],[l,T]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],u,[l,f]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],u,[l,f]],[/\b(ph-1) /i],[u,[d,"Essential"],[l,f]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[d,"Envizen"],[l,T]],[/\b(trio[-\w\. ]+) b/i],[u,[d,"MachSpeed"],[l,T]],[/\btu_(1491) b/i],[u,[d,"Rotor"],[l,T]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[u,[d,M],[l,T]],[/(sprint) (\w+)/i],[d,u,[l,f]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[d,D],[l,f]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[d,W],[l,T]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[d,W],[l,f]],[/smart-tv.+(samsung)/i],[d,[l,R]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[d,k],[l,R]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,v],[l,R]],[/(apple) ?tv/i],[d,[u,I+" TV"],[l,R]],[/crkey/i],[[u,b+"cast"],[d,w],[l,R]],[/droid.+aft(\w+)( bui|\))/i],[u,[d,S],[l,R]],[/(shield \w+ tv)/i],[u,[d,M],[l,R]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[d,V],[l,R]],[/(bravia[\w ]+)( bui|\))/i],[u,[d,B],[l,R]],[/(mi(tv|box)-?\w+) bui/i],[u,[d,j],[l,R]],[/Hbbtv.*(technisat) (.*);/i],[d,u,[l,R]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[d,q],[u,q],[l,R]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[u,[l,R]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[l,R]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,u,[l,h]],[/droid.+; (shield)( bui|\))/i],[u,[d,M],[l,h]],[/(playstation \w+)/i],[u,[d,B],[l,h]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[d,D],[l,h]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[u,[d,k],[l,A]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[d,u,[l,A]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[u,[d,F],[l,A]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[u,[d,I],[l,A]],[/(opwwe\d{3})/i],[u,[d,U],[l,A]],[/(moto 360)/i],[u,[d,P],[l,A]],[/(smartwatch 3)/i],[u,[d,B],[l,A]],[/(g watch r)/i],[u,[d,v],[l,A]],[/droid.+; (wt63?0{2,3})\)/i],[u,[d,W],[l,A]],[/droid.+; (glass) \d/i],[u,[d,w],[l,A]],[/(pico) (4|neo3(?: link|pro)?)/i],[d,u,[l,A]],[/; (quest( \d| pro)?)/i],[u,[d,G],[l,A]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[l,O]],[/(aeobc)\b/i],[u,[d,S],[l,O]],[/(homepod).+mac os/i],[u,[d,I],[l,O]],[/windows iot/i],[[l,O]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[u,[l,f]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[l,T]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[l,T]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[l,f]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[u,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[E,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[E,p],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[E,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[E,p],[/ladybird\//i],[[E,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,E]],os:[[/microsoft (windows) (vista|xp)/i],[E,p],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[E,[p,$,Z]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,$,Z],[E,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[E,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[E,H],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,E],[/(ubuntu) ([\w\.]+) like android/i],[[E,/(.+)/,"$1 Touch"],p],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[E,p],[/\(bb(10);/i],[p,[E,N]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[p,[E,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[E,C+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[E,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[p,[E,"watchOS"]],[/crkey\/([\d\.]+)/i],[p,[E,b+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[E,K],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[E,p],[/(sunos) ?([\w\.\d]*)/i],[[E,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[E,p]]},et=function(t,r){if(typeof t===s&&(r=t,t=n),!(this instanceof et))return new et(t,r).getResult();var h=typeof e!==o&&e.navigator?e.navigator:n,R=t||(h&&h.userAgent?h.userAgent:""),A=h&&h.userAgentData?h.userAgentData:n,O=r?function(t,e){var r={};for(var n in t)e[n]&&e[n].length%2==0?r[n]=e[n].concat(t[n]):r[n]=t[n];return r}(tt,r):tt,S=h&&h.userAgent==R;return this.getBrowser=function(){var t={};return t[E]=n,t[p]=n,Q.call(t,R,O.browser),t[c]=function(t){return typeof t===a?t.replace(/[^\d\.]/g,"").split(".")[0]:n}(t[p]),S&&h&&h.brave&&typeof h.brave.isBrave==i&&(t[E]="Brave"),t},this.getCPU=function(){var t={};return t[_]=n,Q.call(t,R,O.cpu),t},this.getDevice=function(){var t={};return t[d]=n,t[u]=n,t[l]=n,Q.call(t,R,O.device),S&&!t[l]&&A&&A.mobile&&(t[l]=f),S&&"Macintosh"==t[u]&&h&&typeof h.standalone!==o&&h.maxTouchPoints&&h.maxTouchPoints>2&&(t[u]="iPad",t[l]=T),t},this.getEngine=function(){var t={};return t[E]=n,t[p]=n,Q.call(t,R,O.engine),t},this.getOS=function(){var t={};return t[E]=n,t[p]=n,Q.call(t,R,O.os),S&&!t[E]&&A&&A.platform&&"Unknown"!=A.platform&&(t[E]=A.platform.replace(/chrome os/i,K).replace(/macos/i,H)),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return R},this.setUA=function(t){return R=typeof t===a&&t.length>500?q(t,500):t,this},this.setUA(R),this};et.VERSION="0.7.41",et.BROWSER=z([E,p,c]),et.CPU=z([_]),et.DEVICE=z([u,d,l,h,f,R,T,A,O]),et.ENGINE=et.OS=z([E,p]),t.exports&&(r=t.exports=et),r.UAParser=et;var rt=typeof e!==o&&(e.jQuery||e.Zepto);if(rt&&!rt.ua){var nt=new et;rt.ua=nt.getResult(),rt.ua.get=function(){return nt.getUA()},rt.ua.set=function(t){nt.setUA(t);var e=nt.getResult();for(var r in e)rt.ua[r]=e[r]}}}("object"==typeof window?window:e)}(FT,FT.exports);var kT=r(FT.exports);function VT(t,e){return function(){return t.apply(e,arguments)}}const{toString:BT}=Object.prototype,{getPrototypeOf:jT}=Object,{iterator:WT,toStringTag:GT}=Symbol,KT=(HT=Object.create(null),t=>{const e=BT.call(t);return HT[e]||(HT[e]=e.slice(8,-1).toLowerCase())});var HT;const YT=t=>(t=t.toLowerCase(),e=>KT(e)===t),zT=t=>e=>typeof e===t,{isArray:XT}=Array,JT=zT("undefined");function qT(t){return null!==t&&!JT(t)&&null!==t.constructor&&!JT(t.constructor)&&ZT(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const QT=YT("ArrayBuffer");const $T=zT("string"),ZT=zT("function"),tR=zT("number"),eR=t=>null!==t&&"object"==typeof t,rR=t=>{if("object"!==KT(t))return!1;const e=jT(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||GT in t||WT in t)},nR=YT("Date"),iR=YT("File"),oR=YT("Blob"),sR=YT("FileList"),aR=YT("URLSearchParams"),[cR,uR,ER,lR]=["ReadableStream","Request","Response","Headers"].map(YT);function dR(t,e,{allOwnKeys:r=!1}={}){if(null==t)return;let n,i;if("object"!=typeof t&&(t=[t]),XT(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(qT(t))return;const i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let s;for(n=0;n<o;n++)s=i[n],e.call(null,t[s],s,t)}}function pR(t,e){if(qT(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n,i=r.length;for(;i-- >0;)if(n=r[i],e===n.toLowerCase())return n;return null}const _R="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,hR=t=>!JT(t)&&t!==_R;const fR=(TR="undefined"!=typeof Uint8Array&&jT(Uint8Array),t=>TR&&t instanceof TR);var TR;const RR=YT("HTMLFormElement"),AR=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),OR=YT("RegExp"),SR=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};dR(r,((r,i)=>{let o;!1!==(o=e(r,i,t))&&(n[i]=o||r)})),Object.defineProperties(t,n)};const IR=YT("AsyncFunction"),mR=(NR="function"==typeof setImmediate,gR=ZT(_R.postMessage),NR?setImmediate:gR?(bR=`axios@${Math.random()}`,CR=[],_R.addEventListener("message",(({source:t,data:e})=>{t===_R&&e===bR&&CR.length&&CR.shift()()}),!1),t=>{CR.push(t),_R.postMessage(bR,"*")}):t=>setTimeout(t));var NR,gR,bR,CR;const wR="undefined"!=typeof queueMicrotask?queueMicrotask.bind(_R):"undefined"!=typeof process&&process.nextTick||mR;var LR={isArray:XT,isArrayBuffer:QT,isBuffer:qT,isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||ZT(t.append)&&("formdata"===(e=KT(t))||"object"===e&&ZT(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&QT(t.buffer),e},isString:$T,isNumber:tR,isBoolean:t=>!0===t||!1===t,isObject:eR,isPlainObject:rR,isEmptyObject:t=>{if(!eR(t)||qT(t))return!1;try{return 0===Object.keys(t).length&&Object.getPrototypeOf(t)===Object.prototype}catch(t){return!1}},isReadableStream:cR,isRequest:uR,isResponse:ER,isHeaders:lR,isUndefined:JT,isDate:nR,isFile:iR,isBlob:oR,isRegExp:OR,isFunction:ZT,isStream:t=>eR(t)&&ZT(t.pipe),isURLSearchParams:aR,isTypedArray:fR,isFileList:sR,forEach:dR,merge:function t(){const{caseless:e,skipUndefined:r}=hR(this)&&this||{},n={},i=(i,o)=>{const s=e&&pR(n,o)||o;rR(n[s])&&rR(i)?n[s]=t(n[s],i):rR(i)?n[s]=t({},i):XT(i)?n[s]=i.slice():r&&JT(i)||(n[s]=i)};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&dR(arguments[t],i);return n},extend:(t,e,r,{allOwnKeys:n}={})=>(dR(e,((e,n)=>{r&&ZT(e)?t[n]=VT(e,r):t[n]=e}),{allOwnKeys:n}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},toFlatObject:(t,e,r,n)=>{let i,o,s;const a={};if(e=e||{},null==t)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],n&&!n(s,t,e)||a[s]||(e[s]=t[s],a[s]=!0);t=!1!==r&&jT(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},kindOf:KT,kindOfTest:YT,endsWith:(t,e,r)=>{t=String(t),(void 0===r||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return-1!==n&&n===r},toArray:t=>{if(!t)return null;if(XT(t))return t;let e=t.length;if(!tR(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},forEachEntry:(t,e)=>{const r=(t&&t[WT]).call(t);let n;for(;(n=r.next())&&!n.done;){const r=n.value;e.call(t,r[0],r[1])}},matchAll:(t,e)=>{let r;const n=[];for(;null!==(r=t.exec(e));)n.push(r);return n},isHTMLForm:RR,hasOwnProperty:AR,hasOwnProp:AR,reduceDescriptors:SR,freezeMethods:t=>{SR(t,((e,r)=>{if(ZT(t)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=t[r];ZT(n)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(t,e)=>{const r={},n=t=>{t.forEach((t=>{r[t]=!0}))};return XT(t)?n(t):n(String(t).split(e)),r},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,r){return e.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(t,e)=>null!=t&&Number.isFinite(t=+t)?t:e,findKey:pR,global:_R,isContextDefined:hR,isSpecCompliantForm:function(t){return!!(t&&ZT(t.append)&&"FormData"===t[GT]&&t[WT])},toJSONObject:t=>{const e=new Array(10),r=(t,n)=>{if(eR(t)){if(e.indexOf(t)>=0)return;if(qT(t))return t;if(!("toJSON"in t)){e[n]=t;const i=XT(t)?[]:{};return dR(t,((t,e)=>{const o=r(t,n+1);!JT(o)&&(i[e]=o)})),e[n]=void 0,i}}return t};return r(t,0)},isAsyncFn:IR,isThenable:t=>t&&(eR(t)||ZT(t))&&ZT(t.then)&&ZT(t.catch),setImmediate:mR,asap:wR,isIterable:t=>null!=t&&ZT(t[WT])};function yR(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}LR.inherits(yR,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:LR.toJSONObject(this.config),code:this.code,status:this.status}}});const vR=yR.prototype,DR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{DR[t]={value:t}})),Object.defineProperties(yR,DR),Object.defineProperty(vR,"isAxiosError",{value:!0}),yR.from=(t,e,r,n,i,o)=>{const s=Object.create(vR);LR.toFlatObject(t,s,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t));const a=t&&t.message?t.message:"Error",c=null==e&&t?t.code:e;return yR.call(s,a,c,r,n,i),t&&null==s.cause&&Object.defineProperty(s,"cause",{value:t,configurable:!0}),s.name=t&&t.name||"Error",o&&Object.assign(s,o),s};function PR(t){return LR.isPlainObject(t)||LR.isArray(t)}function MR(t){return LR.endsWith(t,"[]")?t.slice(0,-2):t}function UR(t,e,r){return t?t.concat(e).map((function(t,e){return t=MR(t),!r&&e?"["+t+"]":t})).join(r?".":""):e}const xR=LR.toFlatObject(LR,{},null,(function(t){return/^is[A-Z]/.test(t)}));function FR(t,e,r){if(!LR.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const n=(r=LR.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!LR.isUndefined(e[t])}))).metaTokens,i=r.visitor||u,o=r.dots,s=r.indexes,a=(r.Blob||"undefined"!=typeof Blob&&Blob)&&LR.isSpecCompliantForm(e);if(!LR.isFunction(i))throw new TypeError("visitor must be a function");function c(t){if(null===t)return"";if(LR.isDate(t))return t.toISOString();if(LR.isBoolean(t))return t.toString();if(!a&&LR.isBlob(t))throw new yR("Blob is not supported. Use a Buffer instead.");return LR.isArrayBuffer(t)||LR.isTypedArray(t)?a&&"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}function u(t,r,i){let a=t;if(t&&!i&&"object"==typeof t)if(LR.endsWith(r,"{}"))r=n?r:r.slice(0,-2),t=JSON.stringify(t);else if(LR.isArray(t)&&function(t){return LR.isArray(t)&&!t.some(PR)}(t)||(LR.isFileList(t)||LR.endsWith(r,"[]"))&&(a=LR.toArray(t)))return r=MR(r),a.forEach((function(t,n){!LR.isUndefined(t)&&null!==t&&e.append(!0===s?UR([r],n,o):null===s?r:r+"[]",c(t))})),!1;return!!PR(t)||(e.append(UR(i,r,o),c(t)),!1)}const E=[],l=Object.assign(xR,{defaultVisitor:u,convertValue:c,isVisitable:PR});if(!LR.isObject(t))throw new TypeError("data must be an object");return function t(r,n){if(!LR.isUndefined(r)){if(-1!==E.indexOf(r))throw Error("Circular reference detected in "+n.join("."));E.push(r),LR.forEach(r,(function(r,o){!0===(!(LR.isUndefined(r)||null===r)&&i.call(e,r,LR.isString(o)?o.trim():o,n,l))&&t(r,n?n.concat(o):[o])})),E.pop()}}(t),e}function kR(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function VR(t,e){this._pairs=[],t&&FR(t,this,e)}const BR=VR.prototype;function jR(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function WR(t,e,r){if(!e)return t;const n=r&&r.encode||jR;LR.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let o;if(o=i?i(e,r):LR.isURLSearchParams(e)?e.toString():new VR(e,r).toString(n),o){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}BR.append=function(t,e){this._pairs.push([t,e])},BR.toString=function(t){const e=t?function(e){return t.call(this,e,kR)}:kR;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var GR=class{constructor(){this.handlers=[]}use(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){LR.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},KR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},HR={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:VR,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const YR="undefined"!=typeof window&&"undefined"!=typeof document,zR="object"==typeof navigator&&navigator||void 0,XR=YR&&(!zR||["ReactNative","NativeScript","NS"].indexOf(zR.product)<0),JR="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,qR=YR&&window.location.href||"http://localhost";var QR={...Object.freeze({__proto__:null,hasBrowserEnv:YR,hasStandardBrowserEnv:XR,hasStandardBrowserWebWorkerEnv:JR,navigator:zR,origin:qR}),...HR};function $R(t){function e(t,r,n,i){let o=t[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=t.length;if(o=!o&&LR.isArray(n)?n.length:o,a)return LR.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!s;n[o]&&LR.isObject(n[o])||(n[o]=[]);return e(t,r,n[o],i)&&LR.isArray(n[o])&&(n[o]=function(t){const e={},r=Object.keys(t);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],e[o]=t[o];return e}(n[o])),!s}if(LR.isFormData(t)&&LR.isFunction(t.entries)){const r={};return LR.forEachEntry(t,((t,n)=>{e(function(t){return LR.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),n,r,0)})),r}return null}const ZR={transitional:KR,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const r=e.getContentType()||"",n=r.indexOf("application/json")>-1,i=LR.isObject(t);i&&LR.isHTMLForm(t)&&(t=new FormData(t));if(LR.isFormData(t))return n?JSON.stringify($R(t)):t;if(LR.isArrayBuffer(t)||LR.isBuffer(t)||LR.isStream(t)||LR.isFile(t)||LR.isBlob(t)||LR.isReadableStream(t))return t;if(LR.isArrayBufferView(t))return t.buffer;if(LR.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return FR(t,new QR.classes.URLSearchParams,{visitor:function(t,e,r,n){return QR.isNode&&LR.isBuffer(t)?(this.append(e,t.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)},...e})}(t,this.formSerializer).toString();if((o=LR.isFileList(t))||r.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return FR(o?{"files[]":t}:t,e&&new e,this.formSerializer)}}return i||n?(e.setContentType("application/json",!1),function(t,e,r){if(LR.isString(t))try{return(e||JSON.parse)(t),LR.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(r||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||ZR.transitional,r=e&&e.forcedJSONParsing,n="json"===this.responseType;if(LR.isResponse(t)||LR.isReadableStream(t))return t;if(t&&LR.isString(t)&&(r&&!this.responseType||n)){const r=!(e&&e.silentJSONParsing)&&n;try{return JSON.parse(t,this.parseReviver)}catch(t){if(r){if("SyntaxError"===t.name)throw yR.from(t,yR.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:QR.classes.FormData,Blob:QR.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};LR.forEach(["delete","get","head","post","put","patch"],(t=>{ZR.headers[t]={}}));var tA=ZR;const eA=LR.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const rA=Symbol("internals");function nA(t){return t&&String(t).trim().toLowerCase()}function iA(t){return!1===t||null==t?t:LR.isArray(t)?t.map(iA):String(t)}function oA(t,e,r,n,i){return LR.isFunction(n)?n.call(this,e,r):(i&&(e=r),LR.isString(e)?LR.isString(n)?-1!==e.indexOf(n):LR.isRegExp(n)?n.test(e):void 0:void 0)}class sA{constructor(t){t&&this.set(t)}set(t,e,r){const n=this;function i(t,e,r){const i=nA(e);if(!i)throw new Error("header name must be a non-empty string");const o=LR.findKey(n,i);(!o||void 0===n[o]||!0===r||void 0===r&&!1!==n[o])&&(n[o||e]=iA(t))}const o=(t,e)=>LR.forEach(t,((t,r)=>i(t,r,e)));if(LR.isPlainObject(t)||t instanceof this.constructor)o(t,e);else if(LR.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim()))o((t=>{const e={};let r,n,i;return t&&t.split("\n").forEach((function(t){i=t.indexOf(":"),r=t.substring(0,i).trim().toLowerCase(),n=t.substring(i+1).trim(),!r||e[r]&&eA[r]||("set-cookie"===r?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)})),e})(t),e);else if(LR.isObject(t)&&LR.isIterable(t)){let r,n,i={};for(const e of t){if(!LR.isArray(e))throw TypeError("Object iterator must return a key-value pair");i[n=e[0]]=(r=i[n])?LR.isArray(r)?[...r,e[1]]:[r,e[1]]:e[1]}o(i,e)}else null!=t&&i(e,t,r);return this}get(t,e){if(t=nA(t)){const r=LR.findKey(this,t);if(r){const t=this[r];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}(t);if(LR.isFunction(e))return e.call(this,t,r);if(LR.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=nA(t)){const r=LR.findKey(this,t);return!(!r||void 0===this[r]||e&&!oA(0,this[r],r,e))}return!1}delete(t,e){const r=this;let n=!1;function i(t){if(t=nA(t)){const i=LR.findKey(r,t);!i||e&&!oA(0,r[i],i,e)||(delete r[i],n=!0)}}return LR.isArray(t)?t.forEach(i):i(t),n}clear(t){const e=Object.keys(this);let r=e.length,n=!1;for(;r--;){const i=e[r];t&&!oA(0,this[i],i,t,!0)||(delete this[i],n=!0)}return n}normalize(t){const e=this,r={};return LR.forEach(this,((n,i)=>{const o=LR.findKey(r,i);if(o)return e[o]=iA(n),void delete e[i];const s=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,r)=>e.toUpperCase()+r))}(i):String(i).trim();s!==i&&delete e[i],e[s]=iA(n),r[s]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return LR.forEach(this,((r,n)=>{null!=r&&!1!==r&&(e[n]=t&&LR.isArray(r)?r.join(", "):r)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const r=new this(t);return e.forEach((t=>r.set(t))),r}static accessor(t){const e=(this[rA]=this[rA]={accessors:{}}).accessors,r=this.prototype;function n(t){const n=nA(t);e[n]||(!function(t,e){const r=LR.toCamelCase(" "+e);["get","set","has"].forEach((n=>{Object.defineProperty(t,n+r,{value:function(t,r,i){return this[n].call(this,e,t,r,i)},configurable:!0})}))}(r,t),e[n]=!0)}return LR.isArray(t)?t.forEach(n):n(t),this}}sA.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),LR.reduceDescriptors(sA.prototype,(({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(t){this[r]=t}}})),LR.freezeMethods(sA);var aA=sA;function cA(t,e){const r=this||tA,n=e||r,i=aA.from(n.headers);let o=n.data;return LR.forEach(t,(function(t){o=t.call(r,o,i.normalize(),e?e.status:void 0)})),i.normalize(),o}function uA(t){return!(!t||!t.__CANCEL__)}function EA(t,e,r){yR.call(this,null==t?"canceled":t,yR.ERR_CANCELED,e,r),this.name="CanceledError"}function lA(t,e,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?e(new yR("Request failed with status code "+r.status,[yR.ERR_BAD_REQUEST,yR.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):t(r)}LR.inherits(EA,yR,{__CANCEL__:!0});const dA=(t,e,r=3)=>{let n=0;const i=function(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i,o=0,s=0;return e=void 0!==e?e:1e3,function(a){const c=Date.now(),u=n[s];i||(i=c),r[o]=a,n[o]=c;let E=s,l=0;for(;E!==o;)l+=r[E++],E%=t;if(o=(o+1)%t,o===s&&(s=(s+1)%t),c-i<e)return;const d=u&&c-u;return d?Math.round(1e3*l/d):void 0}}(50,250);return function(t,e){let r,n,i=0,o=1e3/e;const s=(e,o=Date.now())=>{i=o,r=null,n&&(clearTimeout(n),n=null),t(...e)};return[(...t)=>{const e=Date.now(),a=e-i;a>=o?s(t,e):(r=t,n||(n=setTimeout((()=>{n=null,s(r)}),o-a)))},()=>r&&s(r)]}((r=>{const o=r.loaded,s=r.lengthComputable?r.total:void 0,a=o-n,c=i(a);n=o;t({loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&o<=s?(s-o)/c:void 0,event:r,lengthComputable:null!=s,[e?"download":"upload"]:!0})}),r)},pA=(t,e)=>{const r=null!=t;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},_A=t=>(...e)=>LR.asap((()=>t(...e)));var hA=QR.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,QR.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(QR.origin),QR.navigator&&/(msie|trident)/i.test(QR.navigator.userAgent)):()=>!0,fA=QR.hasStandardBrowserEnv?{write(t,e,r,n,i,o,s){if("undefined"==typeof document)return;const a=[`${t}=${encodeURIComponent(e)}`];LR.isNumber(r)&&a.push(`expires=${new Date(r).toUTCString()}`),LR.isString(n)&&a.push(`path=${n}`),LR.isString(i)&&a.push(`domain=${i}`),!0===o&&a.push("secure"),LR.isString(s)&&a.push(`SameSite=${s}`),document.cookie=a.join("; ")},read(t){if("undefined"==typeof document)return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function TA(t,e,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e);return t&&(n||0==r)?function(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const RA=t=>t instanceof aA?{...t}:t;function AA(t,e){e=e||{};const r={};function n(t,e,r,n){return LR.isPlainObject(t)&&LR.isPlainObject(e)?LR.merge.call({caseless:n},t,e):LR.isPlainObject(e)?LR.merge({},e):LR.isArray(e)?e.slice():e}function i(t,e,r,i){return LR.isUndefined(e)?LR.isUndefined(t)?void 0:n(void 0,t,0,i):n(t,e,0,i)}function o(t,e){if(!LR.isUndefined(e))return n(void 0,e)}function s(t,e){return LR.isUndefined(e)?LR.isUndefined(t)?void 0:n(void 0,t):n(void 0,e)}function a(r,i,o){return o in e?n(r,i):o in t?n(void 0,r):void 0}const c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(t,e,r)=>i(RA(t),RA(e),0,!0)};return LR.forEach(Object.keys({...t,...e}),(function(n){const o=c[n]||i,s=o(t[n],e[n],n);LR.isUndefined(s)&&o!==a||(r[n]=s)})),r}var OA=t=>{const e=AA({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;if(e.headers=s=aA.from(s),e.url=WR(TA(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),LR.isFormData(r))if(QR.hasStandardBrowserEnv||QR.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(LR.isFunction(r.getHeaders)){const t=r.getHeaders(),e=["content-type","content-length"];Object.entries(t).forEach((([t,r])=>{e.includes(t.toLowerCase())&&s.set(t,r)}))}if(QR.hasStandardBrowserEnv&&(n&&LR.isFunction(n)&&(n=n(e)),n||!1!==n&&hA(e.url))){const t=i&&o&&fA.read(o);t&&s.set(i,t)}return e};var SA="undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,r){const n=OA(t);let i=n.data;const o=aA.from(n.headers).normalize();let s,a,c,u,E,{responseType:l,onUploadProgress:d,onDownloadProgress:p}=n;function _(){u&&u(),E&&E(),n.cancelToken&&n.cancelToken.unsubscribe(s),n.signal&&n.signal.removeEventListener("abort",s)}let h=new XMLHttpRequest;function f(){if(!h)return;const n=aA.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());lA((function(t){e(t),_()}),(function(t){r(t),_()}),{data:l&&"text"!==l&&"json"!==l?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:t,request:h}),h=null}h.open(n.method.toUpperCase(),n.url,!0),h.timeout=n.timeout,"onloadend"in h?h.onloadend=f:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(f)},h.onabort=function(){h&&(r(new yR("Request aborted",yR.ECONNABORTED,t,h)),h=null)},h.onerror=function(e){const n=new yR(e&&e.message?e.message:"Network Error",yR.ERR_NETWORK,t,h);n.event=e||null,r(n),h=null},h.ontimeout=function(){let e=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const i=n.transitional||KR;n.timeoutErrorMessage&&(e=n.timeoutErrorMessage),r(new yR(e,i.clarifyTimeoutError?yR.ETIMEDOUT:yR.ECONNABORTED,t,h)),h=null},void 0===i&&o.setContentType(null),"setRequestHeader"in h&&LR.forEach(o.toJSON(),(function(t,e){h.setRequestHeader(e,t)})),LR.isUndefined(n.withCredentials)||(h.withCredentials=!!n.withCredentials),l&&"json"!==l&&(h.responseType=n.responseType),p&&([c,E]=dA(p,!0),h.addEventListener("progress",c)),d&&h.upload&&([a,u]=dA(d),h.upload.addEventListener("progress",a),h.upload.addEventListener("loadend",u)),(n.cancelToken||n.signal)&&(s=e=>{h&&(r(!e||e.type?new EA(null,t,h):e),h.abort(),h=null)},n.cancelToken&&n.cancelToken.subscribe(s),n.signal&&(n.signal.aborted?s():n.signal.addEventListener("abort",s)));const T=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(n.url);T&&-1===QR.protocols.indexOf(T)?r(new yR("Unsupported protocol "+T+":",yR.ERR_BAD_REQUEST,t)):h.send(i||null)}))};var IA=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let r,n=new AbortController;const i=function(t){if(!r){r=!0,s();const e=t instanceof Error?t:this.reason;n.abort(e instanceof yR?e:new EA(e instanceof Error?e.message:e))}};let o=e&&setTimeout((()=>{o=null,i(new yR(`timeout ${e} of ms exceeded`,yR.ETIMEDOUT))}),e);const s=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach((t=>{t.unsubscribe?t.unsubscribe(i):t.removeEventListener("abort",i)})),t=null)};t.forEach((t=>t.addEventListener("abort",i)));const{signal:a}=n;return a.unsubscribe=()=>LR.asap(s),a}};const mA=function*(t,e){let r=t.byteLength;if(!e||r<e)return void(yield t);let n,i=0;for(;i<r;)n=i+e,yield t.slice(i,n),i=n},NA=async function*(t){if(t[Symbol.asyncIterator])return void(yield*t);const e=t.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},gA=(t,e,r,n)=>{const i=async function*(t,e){for await(const r of NA(t))yield*mA(r,e)}(t,e);let o,s=0,a=t=>{o||(o=!0,n&&n(t))};return new ReadableStream({async pull(t){try{const{done:e,value:n}=await i.next();if(e)return a(),void t.close();let o=n.byteLength;if(r){let t=s+=o;r(t)}t.enqueue(new Uint8Array(n))}catch(t){throw a(t),t}},cancel:t=>(a(t),i.return())},{highWaterMark:2})},{isFunction:bA}=LR,CA=(({Request:t,Response:e})=>({Request:t,Response:e}))(LR.global),{ReadableStream:wA,TextEncoder:LA}=LR.global,yA=(t,...e)=>{try{return!!t(...e)}catch(t){return!1}},vA=t=>{t=LR.merge.call({skipUndefined:!0},CA,t);const{fetch:e,Request:r,Response:n}=t,i=e?bA(e):"function"==typeof fetch,o=bA(r),s=bA(n);if(!i)return!1;const a=i&&bA(wA),c=i&&("function"==typeof LA?(u=new LA,t=>u.encode(t)):async t=>new Uint8Array(await new r(t).arrayBuffer()));var u;const E=o&&a&&yA((()=>{let t=!1;const e=new r(QR.origin,{body:new wA,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})),l=s&&a&&yA((()=>LR.isReadableStream(new n("").body))),d={stream:l&&(t=>t.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach((t=>{!d[t]&&(d[t]=(e,r)=>{let n=e&&e[t];if(n)return n.call(e);throw new yR(`Response type '${t}' is not supported`,yR.ERR_NOT_SUPPORT,r)})}));const p=async(t,e)=>{const n=LR.toFiniteNumber(t.getContentLength());return null==n?(async t=>{if(null==t)return 0;if(LR.isBlob(t))return t.size;if(LR.isSpecCompliantForm(t)){const e=new r(QR.origin,{method:"POST",body:t});return(await e.arrayBuffer()).byteLength}return LR.isArrayBufferView(t)||LR.isArrayBuffer(t)?t.byteLength:(LR.isURLSearchParams(t)&&(t+=""),LR.isString(t)?(await c(t)).byteLength:void 0)})(e):n};return async t=>{let{url:i,method:s,data:a,signal:c,cancelToken:u,timeout:_,onDownloadProgress:h,onUploadProgress:f,responseType:T,headers:R,withCredentials:A="same-origin",fetchOptions:O}=OA(t),S=e||fetch;T=T?(T+"").toLowerCase():"text";let I=IA([c,u&&u.toAbortSignal()],_),m=null;const N=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let g;try{if(f&&E&&"get"!==s&&"head"!==s&&0!==(g=await p(R,a))){let t,e=new r(i,{method:"POST",body:a,duplex:"half"});if(LR.isFormData(a)&&(t=e.headers.get("content-type"))&&R.setContentType(t),e.body){const[t,r]=pA(g,dA(_A(f)));a=gA(e.body,65536,t,r)}}LR.isString(A)||(A=A?"include":"omit");const e=o&&"credentials"in r.prototype,c={...O,signal:I,method:s.toUpperCase(),headers:R.normalize().toJSON(),body:a,duplex:"half",credentials:e?A:void 0};m=o&&new r(i,c);let u=await(o?S(m,O):S(i,c));const _=l&&("stream"===T||"response"===T);if(l&&(h||_&&N)){const t={};["status","statusText","headers"].forEach((e=>{t[e]=u[e]}));const e=LR.toFiniteNumber(u.headers.get("content-length")),[r,i]=h&&pA(e,dA(_A(h),!0))||[];u=new n(gA(u.body,65536,r,(()=>{i&&i(),N&&N()})),t)}T=T||"text";let b=await d[LR.findKey(d,T)||"text"](u,t);return!_&&N&&N(),await new Promise(((e,r)=>{lA(e,r,{data:b,headers:aA.from(u.headers),status:u.status,statusText:u.statusText,config:t,request:m})}))}catch(e){if(N&&N(),e&&"TypeError"===e.name&&/Load failed|fetch/i.test(e.message))throw Object.assign(new yR("Network Error",yR.ERR_NETWORK,t,m),{cause:e.cause||e});throw yR.from(e,e&&e.code,t,m)}}},DA=new Map,PA=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,o=[n,i,r];let s,a,c=o.length,u=DA;for(;c--;)s=o[c],a=u.get(s),void 0===a&&u.set(s,a=c?new Map:vA(e)),u=a;return a};PA();const MA={http:null,xhr:SA,fetch:{get:PA}};LR.forEach(MA,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));const UA=t=>`- ${t}`,xA=t=>LR.isFunction(t)||null===t||!1===t;var FA={getAdapter:function(t,e){t=LR.isArray(t)?t:[t];const{length:r}=t;let n,i;const o={};for(let s=0;s<r;s++){let r;if(n=t[s],i=n,!xA(n)&&(i=MA[(r=String(n)).toLowerCase()],void 0===i))throw new yR(`Unknown adapter '${r}'`);if(i&&(LR.isFunction(i)||(i=i.get(e))))break;o[r||"#"+s]=i}if(!i){const t=Object.entries(o).map((([t,e])=>`adapter ${t} `+(!1===e?"is not supported by the environment":"is not available in the build")));throw new yR("There is no suitable adapter to dispatch the request "+(r?t.length>1?"since :\n"+t.map(UA).join("\n"):" "+UA(t[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return i},adapters:MA};function kA(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new EA(null,t)}function VA(t){kA(t),t.headers=aA.from(t.headers),t.data=cA.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return FA.getAdapter(t.adapter||tA.adapter,t)(t).then((function(e){return kA(t),e.data=cA.call(t,t.transformResponse,e),e.headers=aA.from(e.headers),e}),(function(e){return uA(e)||(kA(t),e&&e.response&&(e.response.data=cA.call(t,t.transformResponse,e.response),e.response.headers=aA.from(e.response.headers))),Promise.reject(e)}))}const BA="1.13.2",jA={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{jA[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));const WA={};jA.transitional=function(t,e,r){function n(t,e){return"[Axios v"+BA+"] Transitional option '"+t+"'"+e+(r?". "+r:"")}return(r,i,o)=>{if(!1===t)throw new yR(n(i," has been removed"+(e?" in "+e:"")),yR.ERR_DEPRECATED);return e&&!WA[i]&&(WA[i]=!0,console.warn(n(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,i,o)}},jA.spelling=function(t){return(e,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};var GA={assertOptions:function(t,e,r){if("object"!=typeof t)throw new yR("options must be an object",yR.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const o=n[i],s=e[o];if(s){const e=t[o],r=void 0===e||s(e,o,t);if(!0!==r)throw new yR("option "+o+" must be "+r,yR.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new yR("Unknown option "+o,yR.ERR_BAD_OPTION)}},validators:jA};const KA=GA.validators;let HA=class{constructor(t){this.defaults=t||{},this.interceptors={request:new GR,response:new GR}}async request(t,e){try{return await this._request(t,e)}catch(t){if(t instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const r=e.stack?e.stack.replace(/^.+\n/,""):"";try{t.stack?r&&!String(t.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(t.stack+="\n"+r):t.stack=r}catch(t){}}throw t}}_request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=AA(this.defaults,e);const{transitional:r,paramsSerializer:n,headers:i}=e;void 0!==r&&GA.assertOptions(r,{silentJSONParsing:KA.transitional(KA.boolean),forcedJSONParsing:KA.transitional(KA.boolean),clarifyTimeoutError:KA.transitional(KA.boolean)},!1),null!=n&&(LR.isFunction(n)?e.paramsSerializer={serialize:n}:GA.assertOptions(n,{encode:KA.function,serialize:KA.function},!0)),void 0!==e.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),GA.assertOptions(e,{baseUrl:KA.spelling("baseURL"),withXsrfToken:KA.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=i&&LR.merge(i.common,i[e.method]);i&&LR.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete i[t]})),e.headers=aA.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,s.unshift(t.fulfilled,t.rejected))}));const c=[];let u;this.interceptors.response.forEach((function(t){c.push(t.fulfilled,t.rejected)}));let E,l=0;if(!a){const t=[VA.bind(this),void 0];for(t.unshift(...s),t.push(...c),E=t.length,u=Promise.resolve(e);l<E;)u=u.then(t[l++],t[l++]);return u}E=s.length;let d=e;for(;l<E;){const t=s[l++],e=s[l++];try{d=t(d)}catch(t){e.call(this,t);break}}try{u=VA.call(this,d)}catch(t){return Promise.reject(t)}for(l=0,E=c.length;l<E;)u=u.then(c[l++],c[l++]);return u}getUri(t){return WR(TA((t=AA(this.defaults,t)).baseURL,t.url,t.allowAbsoluteUrls),t.params,t.paramsSerializer)}};LR.forEach(["delete","get","head","options"],(function(t){HA.prototype[t]=function(e,r){return this.request(AA(r||{},{method:t,url:e,data:(r||{}).data}))}})),LR.forEach(["post","put","patch"],(function(t){function e(e){return function(r,n,i){return this.request(AA(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}HA.prototype[t]=e(),HA.prototype[t+"Form"]=e(!0)}));var YA=HA;class zA{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const r=this;this.promise.then((t=>{if(!r._listeners)return;let e=r._listeners.length;for(;e-- >0;)r._listeners[e](t);r._listeners=null})),this.promise.then=t=>{let e;const n=new Promise((t=>{r.subscribe(t),e=t})).then(t);return n.cancel=function(){r.unsubscribe(e)},n},t((function(t,n,i){r.reason||(r.reason=new EA(t,n,i),e(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=e=>{t.abort(e)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new zA((function(e){t=e})),cancel:t}}}var XA=zA;const JA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(JA).forEach((([t,e])=>{JA[e]=t}));var qA=JA;const QA=function t(e){const r=new YA(e),n=VT(YA.prototype.request,r);return LR.extend(n,YA.prototype,r,{allOwnKeys:!0}),LR.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return t(AA(e,r))},n}(tA);QA.Axios=YA,QA.CanceledError=EA,QA.CancelToken=XA,QA.isCancel=uA,QA.VERSION=BA,QA.toFormData=FR,QA.AxiosError=yR,QA.Cancel=QA.CanceledError,QA.all=function(t){return Promise.all(t)},QA.spread=function(t){return function(e){return t.apply(null,e)}},QA.isAxiosError=function(t){return LR.isObject(t)&&!0===t.isAxiosError},QA.mergeConfig=AA,QA.AxiosHeaders=aA,QA.formToJSON=t=>$R(LR.isHTMLForm(t)?new FormData(t):t),QA.getAdapter=FA.getAdapter,QA.HttpStatusCode=qA,QA.default=QA;var $A=QA;!function(t){t.WIN_10="Windows 10",t.WIN_81="Windows 8.1",t.WIN_8="Windows 8",t.WIN_7="Windows 7",t.WIN_VISTA="Windows Vista",t.WIN_SERVER_2003="Windows Server 2003",t.WIN_XP="Windows XP",t.WIN_2000="Windows 2000",t.ANDROID="Android",t.HARMONY_OS="HarmonyOS",t.OPEN_BSD="Open BSD",t.SUN_OS="Sun OS",t.LINUX="Linux",t.IOS="iOS",t.MAC_OS="Mac OS",t.CHROMIUM_OS="Chromium OS",t.QNX="QNX",t.UNIX="UNIX",t.BEOS="BeOS",t.OS_2="OS/2",t.SEARCH_BOT="Search Bot"}({}),function(t){t.CHROME="Chrome",t.SAFARI="Safari",t.EDGE="Edge",t.FIREFOX="Firefox",t.OPERA="OPR",t.QQ="QQBrowser",t.WECHAT="MicroMessenger"}({});function ZA(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function eO(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tO(Object(r),!0).forEach((function(e){ZA(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}(new kT).getResult();let rO=function(t){return t.UNEXPECTED_ERROR="UNEXPECTED_ERROR",t.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",t.TIMEOUT="TIMEOUT",t.INVALID_PARAMS="INVALID_PARAMS",t.NOT_READABLE="NOT_READABLE",t.NOT_SUPPORTED="NOT_SUPPORTED",t.INVALID_OPERATION="INVALID_OPERATION",t.OPERATION_ABORTED="OPERATION_ABORTED",t.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",t.EXCHANGE_SDP_FAILED="EXCHANGE_SDP_FAILED",t.ADD_CANDIDATE_FAILED="ADD_CANDIDATE_FAILED",t.DATACHANNEL_FAILED="DATACHANNEL_FAILED",t.NETWORK_ERROR="NETWORK_ERROR",t.NETWORK_TIMEOUT="NETWORK_TIMEOUT",t.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",t.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",t.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",t.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",t.ELECTRON_IS_NULL="ELECTRON_IS_NULL",t.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",t.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",t.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",t.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",t.PERMISSION_DENIED="PERMISSION_DENIED",t.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",t.TRACK_IS_DISABLED="TRACK_IS_DISABLED",t.GET_VIDEO_ELEMENT_VISIBLE_ERROR="GET_VIDEO_ELEMENT_VISIBLE_ERROR",t.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",t.LOW_STREAM_ENCODING_ERROR="LOW_STREAM_ENCODING_ERROR",t.SET_ENCODING_PARAMETER_ERROR="SET_ENCODING_PARAMETER_ERROR",t.TRACK_STATE_UNREACHABLE="TRACK_STATE_UNREACHABLE",t.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",t.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",t.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",t.VOID_GATEWAY_ADDRESS="VOID_GATEWAY_ADDRESS",t.UID_CONFLICT="UID_CONFLICT",t.MULTI_UNILBS_RESPONSE_ERROR="MULTI_UNILBS_RESPONSE_ERROR",t.UPDATE_TICKET_FAILED="UPDATE_TICKET_FAILED",t.TOKEN_EXPIRE="TOKEN_EXPIRE",t.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",t.INVALID_TRACK="INVALID_TRACK",t.SENDER_NOT_FOUND="SENDER_NOT_FOUND",t.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",t.SET_ANSWER_FAILED="SET_ANSWER_FAILED",t.ICE_FAILED="ICE_FAILED",t.PC_CLOSED="PC_CLOSED",t.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",t.GET_LOCAL_CAPABILITIES_FAILED="GET_LOCAL_CAPABILITIES_FAILED",t.GET_LOCAL_CONNECTION_PARAMS_FAILED="GET_LOCAL_CONNECTION_PARAMS_FAILED",t.SUBSCRIBE_FAILED="SUBSCRIBE_FAILED",t.UNSUBSCRIBE_FAILED="UNSUBSCRIBE_FAILED",t.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",t.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",t.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",t.EXIST_DISABLED_VIDEO_TRACK="EXIST_DISABLED_VIDEO_TRACK",t.INVALID_REMOTE_USER="INVALID_REMOTE_USER",t.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",t.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",t.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",t.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",t.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",t.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",t.WS_ABORT="WS_ABORT",t.WS_DISCONNECT="WS_DISCONNECT",t.WS_ERR="WS_ERR",t.EXTERNAL_SIGNAL_ABORT="EXTERNAL_SIGNAL_ABORT",t.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",t.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",t.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",t.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",t.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED="LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED",t.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",t.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",t.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",t.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",t.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",t.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",t.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",t.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",t.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",t.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",t.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",t.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",t.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE",t.LOCAL_AEC_ERROR="LOCAL_AEC_ERROR",t.INVALID_PLUGIN="INVALID_PLUGIN",t.DISCONNECT_P2P="DISCONNECT_P2P",t.CONVERTING_IMAGEDATA_TO_BLOB_FAILED="CONVERTING_IMAGEDATA_TO_BLOB_FAILED",t.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED="CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED",t.INIT_DATACHANNEL_TIMEOUT="INIT_DATACHANNEL_TIMEOUT",t.CREATE_DATACHANNEL_ERROR="CREATE_DATACHANNEL_ERROR",t.DATACHANNEL_CONNECTION_TIMEOUT="DATACHANNEL_CONNECTION_TIMEOUT",t.PROHIBITED_OPERATION="PROHIBITED_OPERATION",t.IMAGE_MODERATION_UPLOAD_FAILED="IMAGE_MODERATION_UPLOAD_FAILED",t.P2P_MESSAGE_FAILED="P2P_MESSAGE_FAILED",t}({});class nO extends Error{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;super(e),ZA(this,"code",void 0),ZA(this,"message",void 0),ZA(this,"data",void 0),ZA(this,"name","AgoraRTCException"),this.code=t,this.message="AgoraRTCError ".concat(this.code,": ").concat(e),this.data=r}toString(){return this.data?"".concat(this.message,"\ndata: ").concat(JSON.stringify(this.data)):this.message}print(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error",e=arguments.length>1?arguments[1]:void 0;return"error"===t&&(e||console).error(this.toString()),"warning"===t&&(e||console).warn(this.toString()),this}throw(t){throw this.print("error",t),this}}function iO(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(null==t)throw new nO(rO.INVALID_PARAMS,"".concat(e||"param"," cannot be empty"));if(!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return"string"==typeof t&&t.length<=r&&t.length>=e&&(!n||function(t){if("string"!=typeof t)return!1;for(let e=0;e<t.length;e+=1){const r=t.charCodeAt(e);if(r<0||r>255)return!1}return!0}(t))}(t,r,n,i))throw new nO(rO.INVALID_PARAMS,"Invalid ".concat(e||"string param",": Length of the string: [").concat(r,",").concat(n,"].").concat(i?" ASCII characters only.":""))}var oO=function(t){return t.COVERED="COVERED",t.POSITION="POSITION",t.SIZE="SIZE",t.STYLE="STYLE",t}(oO||{}),sO=function(t){return t.UNMOUNTED="UNMOUNTED",t.INVALID_HTML_ELEMENT="INVALID_HTML_ELEMENT",t}(sO||{});new class{constructor(){ZA(this,"_clientSize",null),ZA(this,"getClientWidth",(()=>document.documentElement?document.documentElement.clientWidth:document.body.clientWidth)),ZA(this,"getClientHeight",(()=>document.documentElement?document.documentElement.clientHeight:document.body.clientHeight)),ZA(this,"getStyle",(t=>window.getComputedStyle(t,null))),ZA(this,"checkCssVisibleProperty",(t=>{let e=!0;const r=this.getStyle(t),{display:n,visibility:i,opacity:o,filter:s}=r;return("none"===n||["hidden","collapse"].includes(i)||Number(o)<.1)&&(e=!1),!!e&&(s&&s.split(" ").filter((t=>{const e=t.split("(")[0];return["brightness","blur","opacity"].includes(e)})).map((t=>{const[e,r]=t.split(/\(|\)/);return[e,Number(r.match(/^[0-9\.]+/))]})).forEach((t=>{const[r,n]=t;switch(r){case"brightness":(n<.1||n>3)&&(e=!1);break;case"blur":n>3&&(e=!1);break;case"opacity":n<.1&&(e=!1)}})),e)})),ZA(this,"checkPropertyUpToAllParentNodes",((t,e)=>{let r=!0,n=!0;const i=t=>e(t);let o=t;for(;o&&n;)i(o)||(r=!1,n=!1),o=o.parentElement,o||(n=!1);return r})),ZA(this,"checkActualCssVisibleIncludeInherit",(t=>this.checkPropertyUpToAllParentNodes(t,this.checkCssVisibleProperty))),ZA(this,"getSizeAboutClient",(t=>{const{width:e,height:r,left:n,right:i,top:o,bottom:s}=t.getBoundingClientRect(),a=this.getClientWidth(),c=this.getClientHeight();return{width:e,height:r,left:n,right:i,top:o,bottom:s,clientWidth:a,clientHeight:c,clientMin:Math.min(a,c)}})),ZA(this,"checkActualSize",(()=>{const{width:t,height:e,clientMin:r}=this._clientSize;return this.checkSizeIsVisible(t,e,r)})),ZA(this,"elementFromPoint",((t,e)=>document.elementFromPoint?document.elementFromPoint(t,e):null)),ZA(this,"checkCoverForAPoint",((t,e,r)=>{const n=this.elementFromPoint(t,e);return null!==n&&n!==r})),ZA(this,"getPointPositionList",(()=>{const{width:t,height:e,left:r,top:n}=this._clientSize,i=t/6,o=e/6,s=[],a=10**6;for(let t=0;t<5;t++)for(let e=0;e<5;e++){const c=(r*a+(0===t?.1:4===t?(i*t*a-1e5)/a:i*t)*a)/a,u=(n*a+(0===e?.1:4===e?(o*e*a-1e5)/a:o*e)*a)/a;s.push({x:c,y:u})}return[...s]})),ZA(this,"checkElementCover",(t=>this.getPointPositionList().map((e=>this.checkCoverForAPoint(e.x,e.y,t))).filter((t=>!!t)).length>6)),ZA(this,"checkSizeIsVisible",((t,e,r)=>(t>50||r/t<=10)&&(e>50||r/e<=10))),ZA(this,"checkSizeOfPartInClient",(()=>{const{left:t,right:e,top:r,bottom:n,clientHeight:i,clientWidth:o,clientMin:s}=this._clientSize;let a,c,u,E;if(t<0)a=0;else{if(!(t<o))return!1;a=t}if(e<0)return!1;if(c=e<o?e:o,r<0)u=0;else{if(!(r<i))return!1;u=r}if(n<0)return!1;E=n<i?n:i;const l=c-a,d=E-u;return this.checkSizeIsVisible(l,d,s)})),ZA(this,"returnHiddenResult",(t=>(this._clientSize=null,{visible:!1,reason:t}))),ZA(this,"checkOneElementVisible",(t=>{if(t instanceof HTMLElement){if(this.checkElementIsMountedOnDom(t)){if(this.checkActualCssVisibleIncludeInherit(t)){if(this._clientSize=this.getSizeAboutClient(t),this.checkElementCover(t))return this.returnHiddenResult(oO.COVERED);{const t=this.checkActualSize(),e=this.checkSizeOfPartInClient();return t&&!e?this.returnHiddenResult(oO.POSITION):t?(this._clientSize=null,{visible:!0}):this.returnHiddenResult(oO.SIZE)}}return this.returnHiddenResult(oO.STYLE)}return this.returnHiddenResult(sO.UNMOUNTED)}return this.returnHiddenResult(sO.INVALID_HTML_ELEMENT)})),ZA(this,"checkElementIsMountedOnDom",(t=>this.checkPropertyUpToAllParentNodes(t,(t=>"HTML"!==t.nodeName.toUpperCase()?null!==t.parentElement:!!document.documentElement))))}};const aO=function(t,e){const r=new Uint8Array(t.byteLength+e.byteLength);return r.set(new Uint8Array(t),0),r.set(new Uint8Array(e),t.byteLength),r};class cO{constructor(){ZA(this,"_events",{}),ZA(this,"addListener",this.on)}getListeners(t){return this._events[t]?this._events[t].map((t=>t.listener)):[]}on(t,e){this._events[t]||(this._events[t]=[]);const r=this._events[t];-1===this._indexOfListener(r,e)&&r.push({listener:e,once:!1})}once(t,e){this._events[t]||(this._events[t]=[]);const r=this._events[t];-1===this._indexOfListener(r,e)&&r.push({listener:e,once:!0})}off(t,e){if(!this._events[t])return;const r=this._events[t],n=this._indexOfListener(r,e);-1!==n&&r.splice(n,1),0===this._events[t].length&&delete this._events[t]}removeAllListeners(t){t?delete this._events[t]:this._events={}}emit(t){this._events[t]||(this._events[t]=[]);const e=this._events[t].map((t=>t));for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];for(let r=0;r<e.length;r+=1){const i=e[r];i.once&&this.off(t,i.listener),i.listener.apply(this,n||[])}}safeEmit(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];[...this._events[t]||[]].forEach((e=>{e.once&&this.off(t,e.listener);try{e.listener.apply(this,r)}catch(e){console.error("safeEmit event:".concat(t," error ").concat(null==e?void 0:e.toString()))}}))}_indexOfListener(t,e){let r=t.length;for(;r--;)if(t[r].listener===e)return r;return-1}}let uO=function(t){return t.CREATE_CLIENT="createClient",t.CHECK_SYSTEM_REQUIREMENTS="checkSystemRequirements",t.SET_AREA="setArea",t.PRELOAD="PRELOAD",t.CHECK_VIDEO_TRACK_IS_ACTIVE="checkVideoTrackIsActive",t.CHECK_AUDIO_TRACK_IS_ACTIVE="checkAudioTrackIsActive",t.CREATE_MIC_AUDIO_TRACK="createMicrophoneAudioTrack",t.CREATE_CUSTOM_AUDIO_TRACK="createCustomAudioTrack",t.CREATE_BUFFER_AUDIO_TRACK="createBufferSourceAudioTrack",t.CREATE_CAM_VIDEO_TRACK="createCameraVideoTrack",t.CREATE_CUSTOM_VIDEO_TRACK="createCustomVideoTrack",t.CREATE_MIC_AND_CAM_TRACKS="createMicrophoneAndCameraTracks",t.CREATE_SCREEN_VIDEO_TRACK="createScreenVideoTrack",t.SET_ENCRYPTION_CONFIG="Client.setEncryptionConfig",t.START_PROXY_SERVER="Client.startProxyServer",t.STOP_PROXY_SERVER="Client.stopProxyServer",t.SET_PROXY_SERVER="Client.setProxyServer",t.SET_TURN_SERVER="Client.setTurnServer",t.SET_CLIENT_ROLE="Client.setClientRole",t.SET_LOW_STREAM_PARAMETER="Client.setLowStreamParameter",t.ENABLE_DUAL_STREAM="Client.enableDualStream",t.DISABLE_DUAL_STREAM="Client.disableDualStream",t.JOIN="Client.join",t.LEAVE="Client.leave",t.PUBLISH="Client.publish",t.UNPUBLISH="Client.unpublish",t.SUBSCRIBE="Client.subscribe",t.MASS_SUBSCRIBE="Client.massSubscribe",t.MASS_UNSUBSCRIBE="Client.massUnsubscribe",t.UNSUBSCRIBE="Client.unsubscribe",t.RENEW_TOKEN="Client.renewToken",t.SET_REMOTE_VIDEO_STREAM_TYPE="Client.setRemoteVideoStreamType",t.SET_STREAM_FALLBACK_OPTION="Client.setStreamFallbackOption",t.ENABLE_AUDIO_VOLUME_INDICATOR="Client.enableAudioVolumeIndicator",t.SEND_CUSTOM_REPORT_MESSAGE="Client.sendCustomReportMessage",t.INSPECT_VIDEO_CONTENT="Client.inspectVideoContent",t.STOP_INSPECT_VIDEO_CONTENT="Client.stopInspectVideoContent",t.JOIN_FALLBACK_TO_PROXY="Client._joinFallbackToProxy",t.ON_LIVE_STREAM_WARNING="Client.onLiveStreamWarning",t.ON_LIVE_STREAM_ERROR="Client.onLiveStreamingError",t.START_LIVE_STREAMING="Client.startLiveStreaming",t.SET_LIVE_TRANSCODING="Client.setLiveTranscoding",t.STOP_LIVE_STREAMING="Client.stopLiveStreaming",t.START_CHANNEL_MEDIA_RELAY="Client.startChannelMediaRelay",t.UPDATE_CHANNEL_MEDIA_RELAY="Client.updateChannelMediaRelay",t.STOP_CHANNEL_MEDIA_RELAY="Client.stopChannelMediaRelay",t.REQUEST_CONFIG_DISTRIBUTE="_config-distribute-request",t.SET_CONFIG_DISTRIBUTE="_configDistribute",t.LOCAL_TRACK_SET_MUTED="LocalTrack.setMute",t.LOCAL_AUDIO_TRACK_PLAY="LocalAudioTrack.play",t.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT="LocalAudioTrack.playInElement",t.LOCAL_AUDIO_TRACK_STOP="LocalAudioTrack.stop",t.LOCAL_AUDIO_TRACK_SET_VOLUME="LocalAudioTrack.setVolume",t.MIC_AUDIO_TRACK_SET_DEVICE="MicrophoneAudioTrack.setDevice",t.BUFFER_AUDIO_TRACK_START="BufferSourceAudioTrack.startProcessAudioBuffer",t.BUFFER_AUDIO_TRACK_STOP="BufferSourceAudioTrack.stopProcessAudioBuffer",t.BUFFER_AUDIO_TRACK_PAUSE="BufferSourceAudioTrack.pauseProcessAudioBuffer",t.BUFFER_AUDIO_TRACK_RESUME="BufferSourceAudioTrack.resumeProcessAudioBuffer",t.BUFFER_AUDIO_TRACK_SEEK="BufferSourceAudioTrack.seekAudioBuffer",t.LOCAL_VIDEO_TRACK_PLAY="LocalVideoTrack.play",t.LOCAL_VIDEO_TRACK_STOP="LocalVideoTrack.stop",t.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE="LocalVideoTrack.getVideoElementVisibleStatus",t.LOCAL_VIDEO_TRACK_BEAUTY="LocalVideoTrack.setBeautyEffect",t.LOCAL_VIDEO_SEND_SEI_DATA="LocalVideoTrack.sendSeiData",t.CAM_VIDEO_TRACK_SET_DEVICE="CameraVideoTrack.setDevice",t.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG="CameraVideoTrack.setEncoderConfiguration",t.REMOTE_VIDEO_TRACK_PLAY="RemoteVideoTrack.play",t.REMOTE_VIDEO_TRACK_STOP="RemoteVideoTrack.stop",t.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE="RemoteVideoTrack.getVideoElementVisibleStatus",t.REMOTE_AUDIO_TRACK_PLAY="RemoteAudioTrack.play",t.REMOTE_AUDIO_TRACK_STOP="RemoteAudioTrack.stop",t.REMOTE_AUDIO_SET_VOLUME="RemoteAudioTrack.setVolume",t.REMOTE_AUDIO_SET_OUTPUT_DEVICE="RemoteAudioTrack.setOutputDevice",t.GET_MEDIA_STREAM_TRACK="Track.getMediaStreamTrack",t.STREAM_TYPE_CHANGE="streamTypeChange",t.CONNECTION_STATE_CHANGE="connectionStateChange",t.LOAD_CONFIG_FROM_LOCALSTORAGE="loadConfigFromLocalStorage",t.IMAGE_MODERATION_UPLOAD="imageModerationUpload",t.REPUB_AFTER_PC_CONNECTED="repubAfterPCConnected",t.PRELOAD_MEDIA_FAILED="preloadMediaFailed",t.MISMATCH_DTLS_PARAMETERS="mismatchDtlsParameters",t.VOS_FALLBACK_CN="vosFallbackCN",t.DATACHANNEL_FAILBACK="datachannelFailback",t}({}),EO=function(t){return t.TRACER="tracer",t}({});!function(t){t[t.AUDIENCE_LEVEL_LOW_LATENCY=1]="AUDIENCE_LEVEL_LOW_LATENCY",t[t.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]="AUDIENCE_LEVEL_ULTRA_LOW_LATENCY",t[t.AUDIENCE_LEVEL_SYNC_LATENCY=3]="AUDIENCE_LEVEL_SYNC_LATENCY"}({}),function(t){t.LEAVE="LEAVE",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.UID_BANNED="UID_BANNED",t.FALLBACK="FALLBACK",t.IP_BANNED="IP_BANNED",t.CHANNEL_BANNED="CHANNEL_BANNED",t.LICENSE_MISSING="LICENSE_MISSING",t.LICENSE_EXPIRED="LICENSE_EXPIRED",t.LICENSE_MINUTES_EXCEEDED="LICENSE_MINUTES_EXCEEDED",t.LICENSE_PERIOD_INVALID="LICENSE_PERIOD_INVALID",t.LICENSE_MULTIPLE_SDK_SERVICE="LICENSE_MULTIPLE_SDK_SERVICE",t.LICENSE_ILLEGAL="LICENSE_ILLEGAL",t.TOKEN_EXPIRE="TOKEN_EXPIRE",t.FALLBACK_TO_HLS="FALLBACK_TO_HLS",t.UID_CONFLICT="UID_CONFLICT"}({}),function(t){t[t.AUTO_SIMULCAST_STREAM=-1]="AUTO_SIMULCAST_STREAM",t[t.DISABLE_SIMULCAST_STREM=0]="DISABLE_SIMULCAST_STREM",t[t.ENABLE_SIMULCAST_STREAM=1]="ENABLE_SIMULCAST_STREAM"}({}),function(t){t.PEERCONNECTION_STATE_CHANGE="peerconnection-state-change",t.AUDIO_METADATA="audio-metadata",t.AUDIO_PTS="audio-pts",t.CONNECTION_STATE_CHANGE="connection-state-change",t.MEDIA_RECONNECT_START="media-reconnect-start",t.MEDIA_RECONNECT_END="media-reconnect-end",t.IS_USING_CLOUD_PROXY="is-using-cloud-proxy",t.USER_JOINED="user-joined",t.USER_LEAVED="user-left",t.USER_PUBLISHED="user-published",t.USER_UNPUBLISHED="user-unpublished",t.USER_INFO_UPDATED="user-info-updated",t.CLIENT_BANNED="client-banned",t.CHANNEL_MEDIA_RELAY_STATE="channel-media-relay-state",t.CHANNEL_MEDIA_RELAY_EVENT="channel-media-relay-event",t.VOLUME_INDICATOR="volume-indicator",t.CRYPT_ERROR="crypt-error",t.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="token-privilege-will-expire",t.ON_TOKEN_PRIVILEGE_DID_EXPIRE="token-privilege-did-expire",t.NETWORK_QUALITY="network-quality",t.STREAM_TYPE_CHANGED="stream-type-changed",t.STREAM_FALLBACK="stream-fallback",t.RECEIVE_METADATA="receive-metadata",t.STREAM_MESSAGE="stream-message",t.LIVE_STREAMING_ERROR="live-streaming-error",t.LIVE_STREAMING_WARNING="live-streaming-warning",t.EXCEPTION="exception",t.ERROR="error",t.P2P_LOST="p2p_lost",t.JOIN_FALLBACK_TO_PROXY="join-fallback-to-proxy",t.CHANNEL_FALLBACK_TO_WEBSOCKET="channel-fallback-to-websocket",t.MEDIA_CONNECTION_TYPE_CHANGE="media-connection-type-change",t.PUBLISHED_USER_LIST="published-user-list",t.CONTENT_INSPECT_CONNECTION_STATE_CHANGE="content-inspect-connection-state-change",t.CONTENT_INSPECT_ERROR="content-inspect-error",t.CONTENT_INSPECT_RESULT="content-inspect-result",t.IMAGE_MODERATION_CONNECTION_STATE_CHANGE="image-moderation-connection-state-change",t.FALLBACK_TO_HLS="fallback-to-hls",t.FIRST_VIDEO_BUFFER_READY="first-video-buffer-ready",t.FIRST_VIDEO_PRE_RENDER="first-video-pre-render",t.AV1_DECODABLE_RESULT="av1-decodable-result"}({}),function(t){t.CONFIG="config",t.VOSERROR="vos_error",t.AP_ERROR="ap_error"}({}),function(t){t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.MULTI_IP="MULTI_IP",t.TIMEOUT="TIMEOUT",t.OFFLINE="OFFLINE",t.LEAVE="LEAVE",t.P2P_FAILED="P2P_FAILED",t.FALLBACK="FALLBACK",t.REGIONAL_DISTRIBUTION="REGIONAL_DISTRIBUTION"}({});let lO=function(t){return t.ONLINE="ONLINE",t.OFFLINE="OFFLINE",t}({}),dO=function(t){return t.NETWORK_STATE_CHANGE="NETWORK_STATE_CHANGE",t.ONLINE="ONLINE",t.OFFLINE="OFFLINE",t}({});const pO=new class extends cO{set networkState(t){this.emit(dO.NETWORK_STATE_CHANGE,t,this._networkState),t===lO.ONLINE?this.emit(dO.ONLINE):t===lO.OFFLINE&&(this.onlineWaiter=new Promise((t=>{this.once(dO.ONLINE,(()=>{this.onlineWaiter=void 0,t(lO.ONLINE)}))})),this.emit(dO.OFFLINE)),this._networkState=t}get networkState(){return this._networkState}get isOnline(){return this._networkState===lO.ONLINE}constructor(){super(),ZA(this,"_moduleName","network-indicator"),ZA(this,"_networkState",lO.ONLINE),ZA(this,"onlineWaiter",void 0),window.addEventListener("online",(()=>{this.networkState=lO.ONLINE})),window.addEventListener("offline",(()=>{this.networkState=lO.OFFLINE}))}},_O=[];for(let t=0;t<256;++t)_O.push((t+256).toString(16).slice(1));const hO="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);let fO;const TO=new Uint8Array(16);function RO(){return hO?hO():function(t,e,r){var n,i,o,s;const a=null!==(n=null!==(i=(t=t||{}).random)&&void 0!==i?i:null===(o=(s=t).rng)||void 0===o?void 0:o.call(s))&&void 0!==n?n:function(){if(!fO){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");fO=crypto.getRandomValues.bind(crypto)}return fO(TO)}();if(a.length<16)throw new Error("Random bytes length must be >= 16");if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e){if((r=r||0)<0||r+16>e.length)throw new RangeError("UUID byte range ".concat(r,":").concat(r+15," is out of buffer bounds"));for(let t=0;t<16;++t)e[r+t]=a[t];return e}return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(_O[t[e+0]]+_O[t[e+1]]+_O[t[e+2]]+_O[t[e+3]]+"-"+_O[t[e+4]]+_O[t[e+5]]+"-"+_O[t[e+6]]+_O[t[e+7]]+"-"+_O[t[e+8]]+_O[t[e+9]]+"-"+_O[t[e+10]]+_O[t[e+11]]+_O[t[e+12]]+_O[t[e+13]]+_O[t[e+14]]+_O[t[e+15]]).toLowerCase()}(a)}(t,e,undefined);var t,e}function AO(t){return window.TextEncoder?(new TextEncoder).encode(t).length:t.length}function OO(t){return new Promise((e=>{window.setTimeout(e,t)}))}function SO(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,e=arguments.length>1?arguments[1]:void 0;const r=Math.random().toString(16).substr(2,t).toLowerCase();return r.length===t?"".concat(e).concat(r):"".concat(e).concat(r)+SO(t-r.length,"")}function IO(){let t,e=!1;try{t=RO().replaceAll("-","")}catch(t){e=!0}return!e&&t&&32===t.length||(t=SO(32,"")),t.toUpperCase()}const mO=new class{constructor(){ZA(this,"fnMap",new Map)}throttleByKey(t,e,r,n){for(var i=arguments.length,o=new Array(i>4?i-4:0),s=4;s<i;s++)o[s-4]=arguments[s];if(this.fnMap.has(e)){const i=this.fnMap.get(e);if(i.threshold!==r){i.fn(...i.args),clearTimeout(i.timer);const s=window.setTimeout((()=>{const t=this.fnMap.get(e);t&&t.fn(...t.args),this.fnMap.delete(e)}),r);this.fnMap.set(e,{fn:t,threshold:r,timer:s,args:o,skipFn:n})}else i.skipFn&&i.skipFn(...i.args),this.fnMap.set(e,eO(eO({},i),{},{fn:t,args:o,skipFn:n}))}else{const i=window.setTimeout((()=>{const t=this.fnMap.get(e);t&&t.fn(...t.args),this.fnMap.delete(e)}),r);this.fnMap.set(e,{fn:t,threshold:r,timer:i,args:o,skipFn:n})}}},NO=mO.throttleByKey.bind(mO),gO={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4};let bO=0,CO=0;function wO(t,e,r,n){return new Promise(((i,o)=>{e.responseType=e.responseType||"json",e.data&&!r?(e.data=JSON.stringify(e.data),bO+=AO(e.data)):r&&(e.data.size?bO+=e.data.size:e.data instanceof FormData?bO+=function(t){let e=0;return(/DingTalk/i.test(navigator.userAgent)||/AliApp/i.test(navigator.userAgent))&&t.realFormData&&(t=t.realFormData),t.forEach((t=>{e+="string"==typeof t?AO(t):t.size})),e+138}(e.data):bO+=AO(JSON.stringify(e.data))),e.headers=e.headers||{},e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.method="POST",e.url=t,$A.request(e).then((t=>{"string"==typeof t.data?CO+=AO(t.data):t.data instanceof ArrayBuffer||t.data instanceof Uint8Array?CO+=t.data.byteLength:CO+=AO(JSON.stringify(t.data)),n&&i({data:t.data,headers:t.headers}),i(t.data)})).catch((t=>{$A.isCancel(t)?o(new nO(rO.OPERATION_ABORTED,"cancel token canceled")):"ECONNABORTED"===t.code?o(new nO(rO.NETWORK_TIMEOUT,t.message)):t.response?o(new nO(rO.NETWORK_RESPONSE_ERROR,t.response.status)):o(new nO(rO.NETWORK_ERROR,t.message))}))}))}async function LO(t,e){const r=new Blob([e.data],{type:"buffer"});return await wO(t,eO(eO({},e),{},{data:r,headers:{"Content-Type":"application/octet-stream"}}),!0)}!function(t){t.BANDWIDTH="bandwidth",t.CPU="cpu",t.NONE="none",t.OTHER="other"}({}),function(t){t.L1T1="L1T1",t.L1T2="L1T2",t.L1T3="L1T3",t.L1T3_KEY="L1T3_KEY",t.L2T1_KEY="L2T1_KEY",t.L2T2_KEY="L2T2_KEY",t.L2T3_KEY="L2T3_KEY",t.L3T1_KEY="L3T1_KEY",t.L3T2_KEY="L3T2_KEY",t.L3T3_KEY="L3T3_KEY"}({}),function(t){t[t.new=0]="new",t[t.connecting=1]="connecting",t[t.connected=2]="connected",t[t.disconnected=3]="disconnected",t[t.failed=4]="failed",t[t.closed=5]="closed"}({}),function(t){t.CERTIFICATE="certificate",t.CODEC="codec",t.CANDIDATE_PAIR="candidate-pair",t.LOCAL_CANDIDATE="local-candidate",t.REMOTE_CANDIDATE="remote-candidate",t.INBOUND="inbound-rtp",t.TRACK="track",t.OUTBOUND="outbound-rtp",t.PC="peer-connection",t.REMOTE_INBOUND="remote-inbound-rtp",t.REMOTE_OUTBOUND="remote-outbound-rtp",t.TRANSPORT="transport",t.CSRC="csrc",t.DATA_CHANNEL="data-channel",t.STREAM="stream",t.SENDER="sender",t.RECEIVER="receiver"}({});var yO=function(t){return t[t.kNone=1]="kNone",t[t.kMillisecondsFromSeconds=1e3]="kMillisecondsFromSeconds",t[t.kBytesToBits=8]="kBytesToBits",t}(yO||{});const vO="websdk_ng_install_id";function DO(){try{if(kO("INSTALL_ID"))return kO("INSTALL_ID");let t=window.localStorage.getItem(vO);return t||(t=IO(),window.localStorage.setItem(vO,t)),FO("INSTALL_ID",t),t}catch(t){return}}const PO=function(t){if(t.match(/[0-9]+\.[0-9]+\.[0-9]+$/))return t;const e=t.match(/([0-9]+\.[0-9]+\.[0-9]+)\-([0-9]+)/);if(e&&e[1]&&e[2]){const t=e[1],r=e[2];return"".concat(t,".").concat(r)}return"4.0.0.999"}("4.24.2"),MO=function(){try{return!0===JSON.parse("true")}catch(t){return!0}}();!function(t){t.Default="default",t.Auto="auto",t.Relay="relay",t.SdRtn="sd-rtn"}({});const UO=function(){const t="us".concat("erna","me"),e="pa".concat("sswo","rd"),r=["t","s","t"];r.splice(1,0,"e");const n=r.join(""),i=[];for(let t=0;t<6;t++)i.push("1");const o=i.join(""),s={};return s[t]=n,s[e]=o,Object.assign(s,{turnServerURL:"",tcpport:3433,udpport:3478,forceturn:!1})}();window.DEFAULT_TURN_CONFIG=UO;const xO=eO(eO(eO(eO({},{ENABLE_EVENT_REPORT:!0,UPLOAD_LOG:!1,ENABLE_AG_ADAPTATION:!0,FORCE_AG_HIGH_FRAMERATE:!1,FORCE_SUPPORT_AG_ADAPTATION:!1,ENCODER_CONFIG_LIMIT:{},CAMERA_CAPTURE_CONFIG:void 0,ENABLE_PRELOAD:!0,NEW_ICE_RESTART:!0,ICE_RESTART_INTERVAL:1e4,RESTART_SEQUENCE:["udp_tcp_relay","relay"],FIRST_TCP_CANDIDATE:!1,FIRST_TCP_CANDIDATE_INTERVAL:1e3,TURN_DOMAIN:"edge.agora.io",TURN_DOMAINS:["edge.agora.io"],USE_TURN_IP:!0,NEW_TURN_MODE:4,NEW_FORCE_TURN:!1,USE_NEW_RENDER_FREEZE_TIME:!1,FLS_FALLBACK_TIMEOUT:3e4,RTE_DETAIL_REPORT_INTERVAL:6e4,ENCODE_EXCEPTION_TIMES:5,ENABLE_ENCODE_EXCEPTION:!0,ENCODE_EXCEPTION_VALIDATE_CODEC:["h264"],VIDEO_ENCODER_CONFIG_LIST:[{width:240,height:180},{width:320,height:240},{width:400,height:300},{width:480,height:360},{width:560,height:420},{width:640,height:480}],DELETE_NEQ_AFTER_USER_LEAVE:!0,UPDATE_RTP_CAP_IN_HOST:!1,IOS_BG_TAG:!0,IOS_AUTO_RESTART_BG_TAG:!0,IGNORE_UID_CHECK:!1,ENABLE_UP_SPS_PPS:!1,ENABLE_DOWN_SPS_PPS:!1,NO_EDGES_RETRY:!0,BUFFER_READY_FRAMES:3,FLS_SYNC_AV_PLAY_LIMIT:0,FLS_BUFFER_WAIT_TIME:1500,VOS_CONFIGURE:void 0,ENABLE_QUALITY_FALLBACK:!1,QUALITY_FALLBACK_REHEARSAL:!0,ENABLE_FLS_AV1_FIRST:!1,ENABLE_AP_MULTI_IP:!0,FLS_ENABLE_AV1_DETECT:!0,FLS_ENABLE_AV1_DECODE_DETECT:!0}),{},{PROCESS_ID:"",ENCRYPT_AES:!0,AREAS:["CHINA","GLOBAL"],WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io","webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io","webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-web-2.ap.sd-rtn.com","cds-ap-web-3.agora.io","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-web-2.ap.sd-rtn.com","sua-ap-web-3.agora.io","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-ap-web-1.agora.io","uap-web-2.ap.sd-rtn.com","uap-ap-web-3.agora.io","uap-web-4.ap.sd-rtn.com"],LOG_UPLOAD_SERVER:"logservice.agora.io",EVENT_REPORT_DOMAIN:"statscollector-1.agora.io",EVENT_REPORT_BACKUP_DOMAIN:"web-2.statscollector.sd-rtn.com",GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:"",LIVE_STREAMING_ADDRESS:"",HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,NOT_REPORT_EVENT:[],PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,ENABLE_CONFIG_DISTRIBUTE:!0,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,SHOW_REPORT_USER_INVOKER_LOG:!0,JOIN_EXTEND:"",PUB_EXTEND:"",SUB_EXTEND:"",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:["edge.agora.io","edge.sd-rtn.com"],CONNECT_GATEWAY_WITHOUT_DOMAIN:!1,WORKER_DOMAIN:"edge.agora.io",EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,GET_VOLUME_OF_MUTED_AUDIO_TRACK:!1,STATS_UPDATE_INTERVAL:250,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:"webnginx-proxy.agora.io",PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com","webrtc-cloud-proxy.agora.io"],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:"high",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,CHECK_LOCAL_STATS_INTERVAL:250,PROFILE_SWITCH_INTERVAL:2e3,UNSUPPORTED_VIDEO_CODEC:[],ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,CLOSE_AFB_FOR_LOCAL_AP:!0,JOIN_MAX_CONCURRENCY:6,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_GATEWAY_TRY_443PORT_DURATION:2e3,JOIN_GATEWAY_USE_443PORT_ONLY:!1,JOIN_GATEWAY_USE_DUAL_DOMAIN:!0,JOIN_GATEWAY_FALLBACK_PORT:443,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:"",USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,CSP_DETECTED_HOSTNAME_LIST:["agora.io","sd-rtn.com"],REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!1,BITRATE_ADAPTER_TYPE:"STANDARD_BITRATE",AI_DENOISER_PARAMETERS:{excludedLinks:[]},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,FIRST_H264_PROFILE_LEVEL_ID:"42001f",FIRST_PACKETIZATION_MODE:"",X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:["data-reporting.agora.io","data-reporting.agora.io"],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:"edge.agora.io",VIDEO_INSPECT_WORKER_MANAGER_PORT:"",VIDEO_INSPECT_WORKER_MANAGER_WSS:"",VIDEO_INSPECT_WORKER_PORT:"",SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,CHROME_DUAL_STREAM_USE_ENCODING:!0,DISABLE_DUAL_STREAM_USE_ENCODING:!1,EXTENSION_USAGE_UPLOAD_INTERVAL:1e4,ICE_RESTART:!0,FINGERPRINT:null,ENABLE_VIDEO_FRAME_CALLBACK:!0,VIDEO_FREEZE_DURATION:500,SPATIALIZER_PARAMETERS:{},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0,DISABLE_WEBAUDIO:!1,CHANNEL_MEDIA_RELAY_SERVERS:void 0,KEEP_LAST_FRAME:!0,FORWARD_P2P_CREATION:!0,SYNC_GROUP:!0,BLOCK_LOCAL_CLIENT:!1,ENABLE_AUDIO_TOPN:!1,ENABLE_AUDIO_METADATA:!1,ENABLE_AUDIO_PTS:!1,TOPN_SMOOTH_LEVEL:void 0,TOPN_NEW_SPEAKER_DELAY:void 0,TOPN_SWITCH_HOLD_MS:void 0,TOPN_AUDIO_GAIN:void 0,TOPN_SILENCE_THRESHOLD:250,AP_AREA:!0,ENABLE_ENCODED_TRANSFORM:!1,ENABLE_VIDEO_SEI:!1,IMAGE_MODERATION_WORKER_HOST:"edge.agora.io",IMAGE_MODERATION_WORKER_WSS:"",IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT:3e5,IMAGE_MODERATION_INTERVAL_MINIMUM:1e3,SHOW_IMAGE_MODERATION_WORKER_MESSAGE:!1,IMAGE_MODERATION_QUALITY_RATIO:.9,IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL:5e3,SHOW_GLOBAL_CLIENT_LIST:!1,DATASTREAM_MAX_RETRANSMITS:10,TCP_CANDIDATE_ONLY:!1,EXTERNAL_SIGNAL_REQUEST_TIMEOUT:3e3,SHOW_P2P_LOG:!1,MAX_P2P_TIMEOUT:3e4,P2P_TOKEN_INTERVAL:1e3,SHOW_DATASTREAM2_LOG:!1,RESTRICTION_SET_PLAYBACK_DEVICE:!0,USE_PURE_ENCRYPTION_MASTER_KEY:!1,ENABLE_AUDIO_RED:!1,OPUS_PTIME:void 0,AUDIO_DUPLICATE_NUM:void 0,ENABLE_ABSSENDTIME_AS_SENTTS:!0,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0},FILTER_VIDEO_CODEC:[],SIGNAL_CHANNEL:0,TRANSMITTER_INITIAL_RTT:30,TRANSMITTER_INITIAL_RTO:30,TRANSMITTER_MAX_BATCH_ACK_COUNT:2,TRANSMITTER_MAX_RTO:500,DATACHANNEL_COMPRESS:!1,DC_JOIN_WITH_FAILBACK:4e3,DC_CONNECTION_TIMEOUT:2e3,DC_PINGPONG_INTERVAL:2e3,DC_DEBUG_LOG:!1,UNSUPPORTED_VIDEO_UPLINK_CODEC:[],UNSUPPORTED_VIDEO_DOWNLINK_CODEC:[],USE_NEW_NETWORK_CONFIG:!1,AUTO_RESET_AUDIO_ROUTE:!1,PLUGIN_INFO:[],OVERUSE_DETECTOR_PARAMS:{MIN_FRAME_RATE:1,MAX_FRAME_RATE:30,MAX_THRESHOLD_FRAMERATE:30,BITRATE_MIN_THRESHOLD:100,BITRATE_MAX_THRESHOLD:100,MAX_SCALE:5,BWE_SCALE_UP_THRESHOLD:.6,BWE_SCALE_DOWN_THRESHOLD:.6,PERF_SCALE_UP_THRESHOLD:.7,PERF_SCALE_DOWN_THRESHOLD:.6,MOTION_RESOLUTION_FACTOR:.8,MOTION_BITRATE_FACTOR:.6,DETAIL_FRAMERATE_FACTOR:.8,DETAIL_BITRATE_FACTOR:.6,BALANCE_RESOLUTION_FACTOR:.9,BALANCE_FRAMERATE_FACTOR:.9,BALANCE_BITRATE_FACTOR:.6,OVERUSE_TIMES_THRESHOLD:10,UNDERUSE_TIMES_THRESHOLD:40},CUSTOM_ADAPTATION_DEFAULT_MODE:"",HIDE_NO_POSTER:!1,AP_CACHE_NUM:10,AP_UPDATE_INTERVAL:12e4,AP_CACHE_LIFETIME:12e4,MAX_PRELOAD_ASYNC_LENGTH:3,DISABLE_SCREEN_SHARE_REMB:!1},{ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,ENABLE_USER_LICENSE_CHECK:!0,DISABLE_FEC:void 0,ENABLE_NTP_REPORT:!1,ENABLE_INSTANT_VIDEO:!1,ENABLE_USER_AUTO_REBALANCE_CHECK:!0,ENABLE_LOSSBASED_BWE:!0,ENABLE_AUT_CC:!0,FORCE_ENABLE_AUT_CC:!1,ENABLE_CC_FALLBACK:void 0,SUBSCRIBE_TWCC:!0,PUBLISH_TWCC:!1,ENABLE_SVC_DEFAULT_CODECS:["H264","VP8","VP9","AV1"],SVC:[],ENABLE_FULL_LINK_AV_SYNC:!1,SVC_MODE:null,PRE_SUB_NUM:1,ENABLE_AUT_FEEDBACK:!0,SVC_EXTENDED:["VP9"]}),{},{USE_CANDIDATE_FROM_AP_DETAIL:!1,AP_REQUEST_DETAIL:void 0,ENABLE_ROLE_SELECT_EDGE:!1,CLIENT_ROLE_OPTIONS:void 0,REMOTE_VIDEO_STREAM_TYPE:void 0,COMPATIBLE_SDP_EXTENSION:["gdpr_forbidden"],LIMIT_BITRATE:void 0,EXPERIMENTS:{},USE_PUB_RTX:!0,USE_SUB_RTX:!0,ENABLE_DATASTREAM_2:!1,USE_XR:!0,ENABLE_PREALLOC_PC:!1,ENABLE_PRE_SUB:!1,ENABLE_SVC:!1,ENABLE_FORCE_HLS:!1,MAX_WEBAUDIO_VOLUME:300,ENABLE_VOS_FALLBACK:!1,ENABLE_FALLBACK_TO_HLS:!1,ENABLE_PRE_RENDER:!1,FORCE_DISABLE_AUTO_SUB:!1,ENABLE_PRE_SUB_WITH_PRE_PC:!0,PRE_USE_LOCAL_CODECS:!0},{INSTALL_ID:""}),{},{K_MIN_RENDER_DELAY:66,USE_STANDARD_BITRATE_DEFAULT:!1,VIDEO_NEW_BITRATE_RATIO:void 0,VIDEO_STANDARD_BITRATE_VERSION:2,BASELINE_MORE_H264_BITRATE_RATIO:1.1,IGNORE_RTC_DEVICE_CHECK:!1,FLS_AUTOPLAY_EMITS:!1,ENABLE_DUAL_STREAM_FLAG:!1,FORBID_MODIFY_LOCAL_OFFER_SDP:!1,RESERVE_MID_1_MLINE:!1});function FO(t,e,r){var n;Object.keys(xO).includes(t)&&(!r&&Object.keys(VO).includes(t)||(xO[t]=e,"ENABLE_VIDEO_SEI"!==t&&"ENABLE_AUDIO_TOPN"!==t&&"ENABLE_AUDIO_METADATA"!==t&&"ENABLE_AUDIO_PTS"!==t||!0!==e||(xO.ENABLE_ENCODED_TRANSFORM=!0),"USE_NEW_NETWORK_CONFIG"===t&&e&&(n=!!e,xO.USE_NEW_NETWORK_CONFIG=n,n&&(xO.WEBCS_DOMAIN=["webrtc2-2.ap.sd-rtn.com"],xO.WEBCS_DOMAIN_BACKUP_LIST=["webrtc2-4.ap.sd-rtn.com"],xO.CDS_AP=["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],xO.ACCOUNT_REGISTER=["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],xO.EVENT_REPORT_DOMAIN="web-2.statscollector.sd-rtn.com",xO.EVENT_REPORT_BACKUP_DOMAIN="statscollector-1.agora.io",xO.GATEWAY_DOMAINS=["edge.sd-rtn.com"])),"ENABLE_PRE_SUB"===t&&e&&(xO.ENABLE_INSTANT_VIDEO=!0,xO.ENABLE_PREALLOC_PC=!0),"ENABLE_SVC"===t&&e&&(xO.ENABLE_AUT_CC=!0),"NEW_FORCE_TURN"===t&&e&&(xO.NEW_TURN_MODE||(xO.NEW_TURN_MODE=4))))}function kO(t){if("TURN_DOMAINS"===t){const t=xO.TURN_DOMAINS;return t.includes(kO("TURN_DOMAIN"))?t:[kO("TURN_DOMAIN")].concat(t)}return xO[t]}MO||(xO.WEBCS_DOMAIN=["ap-web-1-oversea.agora.io","ap-web-1-north-america.agora.io"],xO.WEBCS_DOMAIN_BACKUP_LIST=["ap-web-2-oversea.agora.io","ap-web-2-north-america.agora.io"],xO.PROXY_CS=["proxy-ap-web-oversea.agora.io","proxy-ap-web-america.agora.io"],xO.CDS_AP=["cds-ap-web-oversea.agora.io","cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],xO.ACCOUNT_REGISTER=["sua-ap-web-oversea.agora.io","sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],xO.UAP_AP=["uap-ap-web-oversea.agora.io","uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],xO.LOG_UPLOAD_SERVER="logservice-oversea.agora.io",xO.EVENT_REPORT_DOMAIN="statscollector-1-oversea.agora.io",xO.EVENT_REPORT_BACKUP_DOMAIN="statscollector-2-oversea.agora.io",xO.PROXY_SERVER_TYPE3="webrtc-cloud-proxy.agora.io",xO.AREAS=["NORTH_AMERICA","OVERSEA"]),function(t){t[t.REALTIME=1]="REALTIME"}({});const VO={};var BO=function(t){return t.SET_SESSION_ID="SET_SESSION_ID",t.SET_RTE_URL="SET_RTE_URL",t.SET_RTE_SID="SET_RTE_SID",t.SET_P2P_ID="SET_P2P_id",t.SET_DC_ID="SET_DC_id",t.SET_UID="SET_UID",t.SET_INT_UID="SET_INT_UID",t.SET_PUB_ID="SET_PUB_ID",t.SET_CLOUD_PROXY_SERVER_MODE="SET_CLOUD_PROXY_SERVER_MODE",t.KEY_METRIC_CLIENT_CREATED="KEY_METRIC_CLIENT_CREATED",t.KEY_METRIC_JOIN_START="KEY_METRIC_JOIN_START",t.KEY_METRIC_PRELOAD_START="KEY_METRIC_PRELOAD_START",t.KEY_METRIC_PRELOAD_END="KEY_METRIC_PRELOAD_END",t.KEY_METRIC_JOIN_END="KEY_METRIC_JOIN_END",t.KEY_METRIC_REQUEST_AP_START="KEY_METRIC_REQUEST_AP_START",t.KEY_METRIC_REQUEST_AP_END="KEY_METRIC_REQUEST_AP_END",t.KEY_METRIC_REQUEST_SUA_END="KEY_METRIC_REQUEST_SUA_END",t.KEY_METRIC_BEFORE_CONNECT="KEY_METRIC_BEFORE_CONNECT",t.KEY_METRIC_PEER_RECEIVER="KEY_METRIC_PEER_RECEIVER",t.KEY_METRIC_SIGNAL_CONNECTED="KEY_METRIC_SIGNAL_CONNECTED",t.KEY_METRIC_JOIN_REQ="KEY_METRIC_JOIN_REQ",t.KEY_METRIC_JOIN_REP="KEY_METRIC_JOIN_REP",t.KEY_METRIC_JOIN_GATEWAY_START="KEY_METRIC_JOIN_GATEWAY_START",t.KEY_METRIC_JOIN_GATEWAY_END="KEY_METRIC_JOIN_GATEWAY_END",t.KEY_METRIC_PEER_CONNECTION_START="KEY_METRIC_PEER_CONNECTION_START",t.KEY_METRIC_PEER_CONNECTION_END="KEY_METRIC_PEER_CONNECTION_END",t.KEY_METRIC_FIRST_VIDEO_FRAME_DECODED="KEY_METRIC_FIRST_VIDEO_FRAME_DECODED",t.KEY_METRIC_DESCRIPTION_START="KEY_METRIC_DESCRIPTION_START",t.KEY_METRIC_ICE_CONNECTION_END="KEY_METRIC_ICE_CONNECTION_END",t.KEY_METRIC_SIGNAL_CHANNEL_OPEN="KEY_METRIC_SIGNAL_CHANNEL_OPEN",t.KEY_METRIC_PUBLISH="KEY_METRIC_PUBLISH",t.KEY_METRIC_SUBSCRIBE="KEY_METRIC_SUBSCRIBE",t.RECORD_JOIN_CHANNEL_SERVICE="RECORD_JOIN_CHANNEL_SERVICE",t.RESET_JOIN_CHANNEL_SERVICE_RECORDS="RESET_JOIN_CHANNEL_SERVICE_RECORDS",t.RESET_KEY_METRICS="RESET_KEY_METRICS",t.RESET_FIRST_VIDEO_FRAME_DECODED="RESET_FIRST_VIDEO_FRAME_DECODED",t.SET_USE_P2P="SET_USE_P2P",t.SET_TRANSPORT_TYPE="SET_TRANSPORT_TYPE",t}(BO||{});!function(t){t.h264="h264",t.h265="h265",t.vp8="vp8",t.vp9="vp9",t.av1="av1"}({}),function(t){t.opus="opus",t.pcma="pcma",t.pcmu="pcmu",t.g722="g722"}({}),(()=>{var t={8:(t,e,r)=>{r.r(e),r.d(e,{Parser:()=>I,Printer:()=>C,parse:()=>v,print:()=>D});const n="\n",i="".concat("\r").concat(n),o=" ";let s;function a(t){return t>="0"&&t<="9"}function c(t){return t>="!"&&t<="~"}function u(t){return c(t)||t>="Â"&&t<="Ã¿"}function E(t){return"!"===t||t>="#"&&t<="'"||t>="*"&&t<="+"||t>="-"&&t<="."||t>="0"&&t<="9"||t>="A"&&t<="Z"||t>="^"&&t<="~"}function l(t){return t>="1"&&t<="9"}function d(t){return t>="A"&&t<="Z"||t>="a"&&t<="z"}function p(t){return"d"===t||"h"===t||"m"===t||"s"===t}function _(t){return t>""&&t<"\t"||t>"\v"&&t<"\f"||t>""&&t<"Ã¿"}function h(t){return d(t)||a(t)||"+"===t||"/"===t}function f(t){return a(t)||d(t)||"+"===t||"/"===t||"-"===t||"_"===t}function T(t){return d(t)||a(t)||"+"===t||"/"===t}function R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function A(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?R(Object(r),!0).forEach((function(e){O(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function O(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}!function(t){t.VERSION="v",t.ORIGIN="o",t.SESSION_NAME="s",t.INFORMATION="i",t.URI="u",t.EMAIL="e",t.PHONE="p",t.CONNECTION="c",t.BANDWIDTH="b",t.TIME="t",t.REPEAT="r",t.ZONE_ADJUSTMENTS="z",t.KEY="k",t.ATTRIBUTE="a",t.MEDIA="m"}(s||(s={}));class S{consumeText(t,e){let r=e;for(;r<t.length;){const e=t[r];if("\0"===e||"\r"===e||e===n)break;r+=1}if(r-e==0)throw new Error("Invalid text, at ".concat(t));return r}consumeUnicastAddress(t,e,r){return this.consumeTill(t,e,o)}consumeOneOrMore(t,e,r){let n=e;for(;r(t[n]);)n++;if(n-e==0)throw new Error("Invalid rule at ".concat(e,"."));return n}consumeSpace(t,e){if(t[e]===o)return e+1;throw new Error("Invalid space at ".concat(e,"."))}consumeIP4Address(t,e){let r=e;for(let e=0;e<4;e++)if(r=this.consumeDecimalUChar(t,r),3!==e){if("."!==t[r])throw new Error("Invalid IP4 address.");r++}return r}consumeDecimalUChar(t,e){let r=e;for(let e=0;e<3&&a(t[r]);e++,r++);if(r-e==0)throw new Error("Invalid decimal uchar.");const n=parseInt(t.slice(e,r));if(n>=0&&n<=255)return r;throw new Error("Invalid decimal uchar")}consumeIP6Address(t,e){let r=this.consumeHexpart(t,e);return":"===t[r]?(r+=1,r=this.consumeIP4Address(t,r),r):r}consumeHexpart(t,e){let r=e;if(":"===t[r]&&":"===t[r+1]){r+=2;try{r=this.consumeHexseq(t,r)}catch(t){}return r}if(r=this.consumeHexseq(t,r),":"===t[r]&&":"===t[r+1]){r+=2;try{r=this.consumeHexseq(t,r)}catch(t){}return r}return r}consumeHexseq(t,e){let r=e;for(;r=this.consumeHex4(t,r),":"===t[r]&&":"!==t[r+1];)r+=1;return r}consumeHex4(t,e){let r=0;for(;r<4;r++)if(!((n=t[e+r])>="0"&&n<="9"||n>="a"&&n<="f"||n>="A"&&n<="F")){if(0===r)throw new Error("Invalid hex 4");break}var n;return e+r}consumeFQDN(t,e){let r=e;for(;a(t[r])||d(t[r])||"-"===t[r]||"."===t[r];)r+=1;if(r-e<4)throw new Error("Invalid FQDN");return r}consumeExtnAddr(t,e){return this.consumeOneOrMore(t,e,u)}consumeMulticastAddress(t,e,r){switch(r){case"IP4":case"ip4":return this.consumeIP4MulticastAddress(t,e);case"IP6":case"ip6":return this.consumeIP6MulticastAddress(t,e);default:try{return this.consumeFQDN(t,e)}catch(r){return this.consumeExtnAddr(t,e)}}}consumeIP6MulticastAddress(t,e){const r=this.consumeHexpart(t,e);return"/"===t[r]?this.consumeInteger(t,r+1):r}consumeIP4MulticastAddress(t,e){let r=e+3;const n=t.slice(e,r),i=parseInt(n);if(i<224||i>239)throw new Error("Invalid IP4 multicast address, IPv4 multicast addresses may be in the range 224.0.0.0 to 239.255.255.255.");for(let e=0;e<3;e++){if("."!==t[r])throw new Error("Invalid IP4 multicast address.");r+=1,r=this.consumeDecimalUChar(t,r)}return"/"===t[r]&&(r+=1),r=this.consumeTTL(t,r),"/"===t[r]&&(r=this.consumeInteger(t,r)),r}consumeInteger(t,e){if(!l(t[e]))throw new Error("Invalid integer.");for(e+=1;a(t[e]);)e+=1;return e}consumeTTL(t,e){if("0"===t[e])return e+1;if(!l(t[e]))throw new Error("Invalid TTL.");e+=1;for(let r=0;r<2&&a(t[e]);r++)e+=1;return e}consumeToken(t,e){return this.consumeOneOrMore(t,e,E)}consumeTime(t,e){let r=e;if("0"===t[r])return r+1;for(l(t[r])&&(r+=1);a(t[r]);)r++;if(r-e<10)throw new Error("Invalid time");return r}consumeAddress(t,e){return this.consumeTill(t,e,o)}consumeTypedTime(t,e){let r=e;return r=this.consumeOneOrMore(t,r,a),p(t[r])?r+1:r}consumeRepeatInterval(t,e){if(!l(t[e]))throw new Error("Invalid repeat interval");for(e+=1;a(t[e]);)e+=1;return p(t[e])&&(e+=1),e}consumePort(t,e){return this.consumeOneOrMore(t,e,a)}consume(t,e,r){for(let n=0;n<r.length;n++){if(e+n>=t.length)throw new Error("consume exceeding value length");if(t[e+n]!==r[n])throw new Error("consume ".concat(r," failed at ").concat(n))}return e+r.length}consumeTill(t,e,r){let n=e;for(;n<t.length&&("string"!=typeof r||t[n]!==r)&&("function"!=typeof r||!r(t[n]));)n++;return n}}class I extends S{constructor(){super(),O(this,"records",[]),O(this,"currentLine",0)}parse(t){const e=this.probeEOL(t);this.records=t.split(e).filter((t=>!!t.trim())).map(this.parseLine),this.currentLine=0;const r=this.parseVersion(),n=this.parseOrigin(),i=this.parseSessionName(),o=this.parseInformation(),s=this.parseUri(),a=this.parseEmail(),c=this.parsePhone(),u=this.parseConnection(),E=this.parseBandWidth(),l=this.parseTimeFields(),d=this.parseKey(),p=this.parseSessionAttribute(),_=this.parseMediaDescription();if(this.currentLine!==this.records.length)throw new Error("parsing failed, non exhaustive sdp lines.");return{version:r,origin:n,sessionName:i,information:o,uri:s,emails:a,phones:c,connection:u,bandwidths:E,timeFields:l,key:d,attributes:p,mediaDescriptions:_}}getCurrentRecord(){const t=this.records[this.currentLine];if(!t)throw new Error("Record doesn't exit.");return t}probeEOL(t){for(let e=0;e<t.length;e++)if(t[e]===n)return"\r"===t[e-1]?i:n;throw new Error("Invalid newline character.")}parseLine(t,e){if(t.length<2)throw new Error("Invalid sdp line, sdp line should be of form <type>=<value>.");const r=t[0];if("="!==t[1])throw new Error('Invalid sdp line, <type> should be a single character followed by an "=" sign.');return{type:r,value:t.slice(2),line:e,cur:0}}parseSessionAttribute(){const t=new N;for(;this.currentLine<this.records.length;){const e=this.getCurrentRecord();if(e.type!==s.ATTRIBUTE)break;const r={attField:this.extractOneOrMore(e,(t=>E(t)&&":"!==t)),_cur:0};":"===e.value[e.cur]&&(e.cur+=1,r.attValue=this.extractOneOrMore(e,_)),t.parse(r),this.currentLine++}return t.digest()}parseMediaAttributes(t){const e=new g(t);for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==s.ATTRIBUTE)break;const r={attField:this.extractOneOrMore(t,(t=>E(t)&&":"!==t)),_cur:0};":"===t.value[t.cur]&&(t.cur+=1,r.attValue=this.extractOneOrMore(t,_)),e.parse(r),this.currentLine++}return e.digest()}parseKey(){const t=this.getCurrentRecord();if(t.type===s.KEY){if("prompt"===t.value||"clear:"===t.value||"base64:"===t.value||"uri:"===t.value)return t.value;throw this.currentLine++,new Error("Invalid key.")}}parseZone(){const t=this.getCurrentRecord();if(t.type===s.ZONE_ADJUSTMENTS){const e=[];for(;;)try{const r=this.extract(t,this.consumeTime);this.consumeSpaceForRecord(t);let n=!1;"-"===t.value[t.cur]&&(n=!0,t.cur+=1);const i=this.extract(t,this.consumeTypedTime);e.push({time:r,typedTime:i,back:n})}catch(t){break}if(0===e.length)throw new Error("Invalid zone adjustments");return this.currentLine++,e}return[]}parseRepeat(){const t=[];for(;;){const e=this.getCurrentRecord();if(e.type!==s.REPEAT)break;{const r=this.extract(e,this.consumeRepeatInterval),n=this.parseTypedTime(e);t.push({repeatInterval:r,typedTimes:n}),this.currentLine++}}return t}parseTypedTime(t){const e=[];for(;;)try{this.consumeSpaceForRecord(t),e.push(this.extract(t,this.consumeTypedTime))}catch(t){break}if(0===e.length)throw new Error("Invalid typed time.");return e}parseTime(){const t=this.getCurrentRecord(),e=this.extract(t,this.consumeTime);this.consumeSpaceForRecord(t);const r=this.extract(t,this.consumeTime);return this.currentLine++,{startTime:e,stopTime:r}}parseBandWidth(){const t=[];for(;this.currentLine<this.records.length;){const e=this.getCurrentRecord();if(e.type!==s.BANDWIDTH)break;{const r=this.extractOneOrMore(e,E);if(":"!==e.value[e.cur])throw new Error("Invalid bandwidth field.");e.cur++;const n=this.extractOneOrMore(e,a);t.push({bwtype:r,bandwidth:n}),this.currentLine++}}return t}parseVersion(){const t=this.getCurrentRecord();if(t.type!==s.VERSION)throw new Error("first sdp record must be version");const e=t.value.slice(0,this.consumeOneOrMore(t.value,0,a));if(e.length!==t.value.length)throw new Error('invalid proto version, "v='.concat(t.value,'"'));return this.currentLine++,e}parseOrigin(){const t=this.getCurrentRecord();if(t.type!==s.ORIGIN)throw new Error("second line of sdp must be origin");const e=this.extractOneOrMore(t,u);this.consumeSpaceForRecord(t);const r=this.extractOneOrMore(t,a);this.consumeSpaceForRecord(t);const n=this.extractOneOrMore(t,a);this.consumeSpaceForRecord(t);const i=this.extractOneOrMore(t,E);this.consumeSpaceForRecord(t);const o=this.extractOneOrMore(t,E);this.consumeSpaceForRecord(t);const c=this.extract(t,this.consumeUnicastAddress);return this.currentLine++,{username:e,sessId:r,sessVersion:n,nettype:i,addrtype:o,unicastAddress:c}}parseSessionName(){const t=this.getCurrentRecord();if(t.type===s.SESSION_NAME){const e=this.extract(t,this.consumeText);return this.currentLine++,e}}parseInformation(){const t=this.getCurrentRecord();if(t.type!==s.INFORMATION)return;const e=this.extract(t,this.consumeText);return this.currentLine++,e}parseUri(){const t=this.getCurrentRecord();if(t.type===s.URI)return this.currentLine++,t.value}parseEmail(){const t=[];for(;;){const e=this.getCurrentRecord();if(e.type!==s.EMAIL)break;t.push(e.value),this.currentLine++}return t}parsePhone(){const t=[];for(;;){const e=this.getCurrentRecord();if(e.type!==s.PHONE)break;t.push(e.value),this.currentLine++}return t}parseConnection(){const t=this.getCurrentRecord();if(t.type===s.CONNECTION){const e=this.extractOneOrMore(t,E);this.consumeSpaceForRecord(t);const r=this.extractOneOrMore(t,E);this.consumeSpaceForRecord(t);const n=this.extract(t,this.consumeAddress);return this.currentLine++,{nettype:e,addrtype:r,address:n}}}parseMedia(){const t=this.getCurrentRecord(),e=this.extract(t,this.consumeToken);this.consumeSpaceForRecord(t);let r=this.extract(t,this.consumePort);"/"===t.value[t.cur]&&(t.cur+=1,r+=this.extract(t,this.consumeInteger)),this.consumeSpaceForRecord(t);const n=[];for(n.push(this.extract(t,this.consumeToken));"/"===t.value[t.cur];)t.cur+=1,n.push(this.extract(t,this.consumeToken));if(0===n.length)throw new Error("Invalid proto");const i=this.parseFmt(t);return this.currentLine++,{mediaType:e,port:r,protos:n,fmts:i}}parseTimeFields(){const t=[];for(;this.getCurrentRecord().type===s.TIME;){const e=this.parseTime(),r=this.parseRepeat(),n=this.parseZone();t.push({time:e,repeats:r,zones:n})}return t}parseMediaDescription(){const t=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===s.MEDIA;){const e=this.parseMedia(),r=this.parseInformation(),n=this.parseConnections(),i=this.parseBandWidth(),o=this.parseKey(),s=this.parseMediaAttributes(e);t.push({media:e,information:r,connections:n,bandwidths:i,key:o,attributes:s})}return t}parseConnections(){const t=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===s.CONNECTION;)t.push(this.parseConnection());return t}parseFmt(t){const e=[];for(;;)try{this.consumeSpaceForRecord(t),e.push(this.extract(t,this.consumeToken))}catch(t){break}if(0===e.length)throw new Error("Invalid fmts");return e}extract(t,e,...r){const n=e.call(this,t.value,t.cur,...r),i=t.value.slice(t.cur,n);return t.cur=n,i}extractOneOrMore(t,e){const r=this.consumeOneOrMore(t.value,t.cur,e),n=t.value.slice(t.cur,r);return t.cur=r,n}consumeSpaceForRecord(t){if(t.value[t.cur]!==o)throw new Error("Invalid space at ".concat(t.cur,"."));t.cur+=1}}class m extends S{constructor(...t){super(...t),O(this,"attributes",void 0),O(this,"digested",!1)}extractOneOrMore(t,e,r){const n=this.consumeOneOrMore(t.attValue,t._cur,e),i=t.attValue.slice(t._cur,n),[o,s]=r||[];if("number"==typeof o&&i.length<o)throw new Error("error in length, should be more or equal than ".concat(o," characters."));if("number"==typeof s&&i.length>s)throw new Error("error in length, should be less or equal than ".concat(s," characters."));return t._cur=n,i}consumeAttributeSpace(t){if(t.attValue[t._cur]!==o)throw new Error("Invalid space at ".concat(t._cur,"."));t._cur+=1}extract(t,e,...r){if(!t.attValue)throw new Error("Nothing to extract from attValue.");const n=e.call(this,t.attValue,t._cur,...r),i=t.attValue.slice(t._cur,n);return t._cur=n,i}atEnd(t){if(!t.attValue)throw new Error;return t._cur>=t.attValue.length}peekChar(t){if(!t.attValue)throw new Error;return t.attValue[t._cur]}peek(t,e){if(!t.attValue)throw new Error;for(let r=0;r<e.length;r++)if(e[r]!==t.attValue[t._cur+r])return!1;return!0}parseIceUfrag(t){if(this.attributes.iceUfrag)throw new Error("Invalid ice-ufrag, should be only a single line if 'a=ice-ufrag'");this.attributes.iceUfrag=this.extractOneOrMore(t,h,[4,256])}parseIcePwd(t){if(this.attributes.icePwd)throw new Error("Invalid ice-pwd, should be only a single line if 'a=ice-pwd'");this.attributes.icePwd=this.extractOneOrMore(t,h,[22,256])}parseIceOptions(t){if(this.attributes.iceOptions)throw new Error("Invalid ice-options, should be only one 'ice-options' line");const e=[];for(;!this.atEnd(t);){e.push(this.extractOneOrMore(t,h));try{this.consumeAttributeSpace(t)}catch(e){if(this.atEnd(t))break;throw e}}this.attributes.iceOptions=e}parseFingerprint(t){const e=this.extract(t,this.consumeToken);this.consumeAttributeSpace(t);const r=this.extract(t,this.consumeTill);this.attributes.fingerprints.push({hashFunction:e,fingerprint:r})}parseExtmap(t){const e=this.extractOneOrMore(t,a);let r;"/"===this.peekChar(t)&&(this.extract(t,this.consume,"/"),r=this.extract(t,this.consumeToken)),this.consumeAttributeSpace(t);const n=this.extract(t,this.consumeTill,o),i=A(A({entry:parseInt(e,10)},r&&{direction:r}),{},{extensionName:n});this.peekChar(t)===o&&(this.consumeAttributeSpace(t),i.extensionAttributes=this.extract(t,this.consumeTill)),this.attributes.extmaps.push(i)}parseSetup(t){if(this.attributes.setup)throw new Error("must only be one single 'a=setup' line.");const e=this.extract(t,this.consumeTill);if("active"!==e&&"passive"!==e&&"actpass"!==e&&"holdconn"!==e)throw new Error("role must be one of 'active', 'passive', 'actpass', 'holdconn'.");this.attributes.setup=e}}class N extends m{constructor(...t){super(...t),O(this,"attributes",{unrecognized:[],groups:[],extmaps:[],fingerprints:[],identities:[]})}parse(t){if(this.digested)throw new Error("already digested");try{switch(t.attField){case"group":this.parseGroup(t);break;case"ice-lite":this.parseIceLite();break;case"ice-ufrag":this.parseIceUfrag(t);break;case"ice-pwd":this.parseIcePwd(t);break;case"ice-options":this.parseIceOptions(t);break;case"fingerprint":this.parseFingerprint(t);break;case"setup":this.parseSetup(t);break;case"tls-id":this.parseTlsId(t);break;case"identity":this.parseIdentity(t);break;case"extmap":this.parseExtmap(t);break;case"msid-semantic":this.parseMsidSemantic(t);break;default:t.ignored=!0,this.attributes.unrecognized.push(t)}}catch(e){throw console.error("parsing session attribute ".concat(t.attField,' error, "a=').concat(t.attField,":").concat(t.attValue,'"')),e}if(!t.ignored&&t.attValue&&!this.atEnd(t))throw new Error("attribute parsing error")}digest(){return this.digested=!0,this.attributes}parseGroup(t){const e=this.extract(t,this.consumeToken),r=[];for(;!this.atEnd(t)&&this.peekChar(t)===o;)this.consumeAttributeSpace(t),r.push(this.extract(t,this.consumeToken));this.attributes.groups.push({semantic:e,identificationTag:r})}parseIceLite(){if(this.attributes.iceLite)throw new Error("Invalid ice-lite, should be only a single line of 'a=ice-lite'");this.attributes.iceLite=!0}parseTlsId(t){if(this.attributes.tlsId)throw new Error("must be only one tld-id line");this.attributes.tlsId=this.extractOneOrMore(t,f)}parseIdentity(t){const e=this.extractOneOrMore(t,T),r=[];for(;!this.atEnd(t)&&this.peekChar(t)===o;){this.consumeAttributeSpace(t);const e=this.extract(t,this.consumeToken);this.extract(t,this.consume,"=");const n=this.extractOneOrMore(t,(t=>t!==o&&_(t)));r.push({name:e,value:n})}this.attributes.identities.push({assertionValue:e,extensions:r})}parseMsidSemantic(t){this.peekChar(t)===o&&this.consumeAttributeSpace(t);const e={semantic:this.extract(t,this.consumeToken),identifierList:[]};for(;;){try{this.consumeAttributeSpace(t)}catch(t){break}if("*"===this.peekChar(t)){this.extract(t,this.consume,"*"),e.applyForAll=!0;break}{const r=this.extract(t,this.consumeTill,o);e.identifierList.push(r)}}this.attributes.msidSemantic=e}}class g extends m{constructor(t){super(),O(this,"attributes",void 0),-1!==t.protos.indexOf("RTP")||t.protos.indexOf("rtp"),this.attributes={unrecognized:[],candidates:[],extmaps:[],fingerprints:[],imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[]}}parse(t){if(this.digested)throw new Error("already digested");try{switch(t.attField){case"extmap":this.parseExtmap(t);break;case"setup":this.parseSetup(t);break;case"ice-ufrag":this.parseIceUfrag(t);break;case"ice-pwd":this.parseIcePwd(t);break;case"ice-options":this.parseIceOptions(t);break;case"candidate":this.parseCandidate(t);break;case"remote-candidate":this.parseRemoteCandidate(t);break;case"end-of-candidates":this.parseEndOfCandidates();break;case"fingerprint":this.parseFingerprint(t);break;case"rtpmap":this.parseRtpmap(t);break;case"ptime":this.parsePtime(t);break;case"maxptime":this.parseMaxPtime(t);break;case"sendrecv":case"recvonly":case"sendonly":case"inactive":this.parseDirection(t);break;case"ssrc":this.parseSSRC(t);break;case"fmtp":this.parseFmtp(t);break;case"rtcp-fb":this.parseRtcpFb(t);break;case"rtcp-mux":this.parseRTCPMux();break;case"rtcp-mux-only":this.parseRTCPMuxOnly();break;case"rtcp-rsize":this.parseRTCPRsize();break;case"rtcp":this.parseRTCP(t);break;case"mid":this.parseMid(t);break;case"msid":this.parseMsid(t);break;case"imageattr":this.parseImageAttr(t);break;case"rid":this.parseRid(t);break;case"simulcast":this.parseSimulcast(t);break;case"sctp-port":this.parseSctpPort(t);break;case"max-message-size":this.parseMaxMessageSize(t);break;case"ssrc-group":this.parseSSRCGroup(t);break;default:t.ignored=!0,this.attributes.unrecognized.push(t)}}catch(e){throw console.error("parsing media attribute ".concat(t.attField,' error, "a=').concat(t.attField,":").concat(t.attValue,'"')),e}if(!t.ignored&&t.attValue&&!this.atEnd(t))throw new Error("attribute parsing error")}parseCandidate(t){const e=this.extractOneOrMore(t,h,[1,32]);this.consumeAttributeSpace(t);const r=this.extractOneOrMore(t,a,[1,5]);this.consumeAttributeSpace(t);const n=this.extract(t,this.consumeToken);this.consumeAttributeSpace(t);const i=this.extractOneOrMore(t,a,[1,10]);this.consumeAttributeSpace(t);const s=this.extract(t,this.consumeAddress);this.consumeAttributeSpace(t);const u=this.extract(t,this.consumePort);this.consumeAttributeSpace(t),this.extract(t,this.consume,"typ"),this.consumeAttributeSpace(t);const E={foundation:e,componentId:r,transport:n,priority:i,connectionAddress:s,port:u,type:this.extract(t,this.consumeToken),extension:{}};for(this.peek(t," raddr")&&(this.extract(t,this.consume," raddr"),this.consumeAttributeSpace(t),E.relAddr=this.extract(t,this.consumeAddress)),this.peek(t," rport")&&(this.extract(t,this.consume," rport"),this.consumeAttributeSpace(t),E.relPort=this.extract(t,this.consumePort));this.peekChar(t)===o;){this.consumeAttributeSpace(t);const e=this.extract(t,this.consumeToken);this.consumeAttributeSpace(t),E.extension[e]=this.extractOneOrMore(t,c)}this.attributes.candidates.push(E)}parseRemoteCandidate(t){const e=[];for(;;){const r=this.extractOneOrMore(t,a,[1,5]);this.consumeAttributeSpace(t);const n=this.extract(t,this.consumeAddress);this.consumeAttributeSpace(t);const i=this.extract(t,this.consumePort);e.push({componentId:r,connectionAddress:n,port:i});try{this.consumeAttributeSpace(t)}catch(t){break}}this.attributes.remoteCandidatesList.push(e)}parseEndOfCandidates(){if(this.attributes.endOfCandidates)throw new Error("must be only one line of end-of-candidates");this.attributes.endOfCandidates=!0}parseRtpmap(t){const e=this.extract(t,this.consumeToken);this.consumeAttributeSpace(t);const r=this.extract(t,this.consumeTill,"/");this.extract(t,this.consume,"/");const n={encodingName:r,clockRate:this.extractOneOrMore(t,a)};this.atEnd(t)||"/"!==this.peekChar(t)||(this.extract(t,this.consume,"/"),n.encodingParameters=parseInt(this.extract(t,this.consumeTill),10));const i=this.attributes.payloads.find((t=>t.payloadType===parseInt(e,10)));i?i.rtpMap=n:this.attributes.payloads.push({payloadType:parseInt(e,10),rtpMap:n,rtcpFeedbacks:[]})}parsePtime(t){if(this.attributes.ptime)throw new Error("must be only one line of ptime");this.attributes.ptime=this.extract(t,this.consumeTill)}parseMaxPtime(t){if(this.attributes.maxPtime)throw new Error("must be only one line of ptime");this.attributes.maxPtime=this.extract(t,this.consumeTill)}parseDirection(t){if(this.attributes.direction)throw new Error("must be only one line of direction info");this.attributes.direction=t.attField}parseSSRC(t){const e=this.extractOneOrMore(t,a);this.consumeAttributeSpace(t);const r=this.extract(t,this.consumeTill,":");let n;":"===this.peekChar(t)&&(this.extract(t,this.consume,":"),n=this.extract(t,this.consumeTill));const i=this.attributes.ssrcs.find((t=>t.ssrcId===parseInt(e,10)));i?i.attributes[r]=n:this.attributes.ssrcs.push({ssrcId:parseInt(e,10),attributes:{[r]:n}})}parseFmtp(t){const e=this.extract(t,this.consumeTill,o);this.consumeAttributeSpace(t);const r=this.extract(t,this.consumeTill),n={};r.split(";").forEach((t=>{let[e,r]=t.split("=");e=e.trim();const i="string"==typeof r?r.trim():null;"string"==typeof e&&e.length>0&&(n[e]=i)}));const i=this.attributes.payloads.find((t=>t.payloadType===parseInt(e,10)));i?i.fmtp={parameters:n}:this.attributes.payloads.push({payloadType:parseInt(e,10),rtcpFeedbacks:[],fmtp:{parameters:n}})}parseFmtParameters(t){const e={},r=this.extract(t,this.consumeTill,"=");t._cur++;const n=this.extract(t,this.consumeTill,";");for(e[r]=n;";"===t.attValue[t._cur];){const r=this.extract(t,this.consumeTill,"=");t._cur++;const n=this.extract(t,this.consumeTill,";");e[r]=n}return e}parseRtcpFb(t){let e="";e="*"===this.peekChar(t)?this.extract(t,this.consume,"*"):this.extract(t,this.consumeTill,o),this.consumeAttributeSpace(t);const r=this.extract(t,this.consumeTill,o);let n;if("trr-int"===r)n={type:r,interval:this.extract(t,this.consumeTill)};else{const e={type:r};this.peekChar(t)===o&&(this.consumeAttributeSpace(t),e.parameter=this.extract(t,this.consumeToken),this.peekChar(t)===o&&(e.additional=this.extract(t,this.consumeTill))),n=e}if("*"===e)this.attributes.rtcpFeedbackWildcards.push(n);else{const t=this.attributes.payloads.find((t=>t.payloadType===parseInt(e,10)));t?t.rtcpFeedbacks.push(n):this.attributes.payloads.push({payloadType:parseInt(e,10),rtcpFeedbacks:[n]})}}parseRTCPMux(){if(this.attributes.rtcpMux)throw new Error("must be single line of rtcp-mux");this.attributes.rtcpMux=!0}parseRTCPMuxOnly(){if(this.attributes.rtcpMuxOnly)throw new Error("must be single line of rtcp-only");this.attributes.rtcpMuxOnly=!0}parseRTCPRsize(){if(this.attributes.rtcpRsize)throw new Error("must be single line of rtcp-rsize");this.attributes.rtcpRsize=!0}parseRTCP(t){if(this.attributes.rtcp)throw new Error("must be single line of rtcp");const e={port:this.extract(t,this.consumePort)};this.peekChar(t)===o&&(this.consumeAttributeSpace(t),e.netType=this.extractOneOrMore(t,E),this.consumeAttributeSpace(t),e.addressType=this.extractOneOrMore(t,E),this.consumeAttributeSpace(t),e.address=this.extract(t,this.consumeAddress)),this.attributes.rtcp=e}parseMsid(t){const e={id:this.extractOneOrMore(t,E,[1,64])};this.peekChar(t)===o&&(this.consumeAttributeSpace(t),e.appdata=this.extractOneOrMore(t,E,[1,64])),this.attributes.msids.push(e)}parseImageAttr(t){this.attributes.imageattr.push(t.attValue)}parseRid(t){const e=this.extractOneOrMore(t,(t=>d(t)||a(t)||"_"===t||"-"===t));this.consumeAttributeSpace(t);const r={id:e,direction:this.extract(t,this.consumeToken),params:[]};if(this.peekChar(t)===o){if(this.consumeAttributeSpace(t),this.peek(t,"pt=")){this.extract(t,this.consume,"pt=");const e=[];for(;;){const r=this.extract(t,this.consumeToken);e.push(r);try{this.extract(t,this.consume,",")}catch(t){break}}r.payloads=e,this.peekChar(t)===o&&this.extract(t,this.consume,o)}for(;;){const e=this.extract(t,this.consumeToken);switch(e){case"depend":{const n={type:e,rids:this.extract(t,this.consume,"=").split(",")};r.params.push(n);break}default:{const n={type:e};"="===this.peekChar(t)&&(this.extract(t,this.consume,"="),n.val=this.extract(t,this.consumeTill,";")),r.params.push(n)}}try{this.extract(t,this.consume,";")}catch(t){break}}}this.attributes.rids.push(r)}parseSimulcast(t){if(this.attributes.simulcast)throw new Error("must be single line of simulcast");this.attributes.simulcast=t.attValue,this.extract(t,this.consumeTill)}parseSctpPort(t){this.attributes.sctpPort=this.extractOneOrMore(t,a,[1,5])}parseMaxMessageSize(t){this.attributes.maxMessageSize=this.extractOneOrMore(t,a,[1,void 0])}digest(){return this.digested=!0,this.attributes}parseMid(t){this.attributes.mid=this.extract(t,this.consumeToken)}parseSSRCGroup(t){const e=this.extract(t,this.consumeToken),r=[];for(;;)try{this.consumeAttributeSpace(t);const e=this.extract(t,this.consumeInteger);r.push(parseInt(e,10))}catch(t){break}this.attributes.ssrcGroups.push({semantic:e,ssrcIds:r})}}function b(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class C{constructor(){b(this,"eol",i)}print(t,e){let r="";return e&&(this.eol=e),r+=this.printVersion(t.version),r+=this.printOrigin(t.origin),r+=this.printSessionName(t.sessionName),r+=this.printInformation(t.information),r+=this.printUri(t.uri),r+=this.printEmail(t.emails),r+=this.printPhone(t.phones),r+=this.printConnection(t.connection),r+=this.printBandwidth(t.bandwidths),r+=this.printTimeFields(t.timeFields),r+=this.printKey(t.key),r+=this.printSessionAttributes(t.attributes),r+=this.printMediaDescription(t.mediaDescriptions),r}printVersion(t){return"v=".concat(t).concat(this.eol)}printOrigin(t){return"o=".concat(t.username," ").concat(t.sessId," ").concat(t.sessVersion," ").concat(t.nettype," ").concat(t.addrtype," ").concat(t.unicastAddress).concat(this.eol)}printSessionName(t){return t?"s=".concat(t).concat(this.eol):""}printInformation(t){return t?"i=".concat(t).concat(this.eol):""}printUri(t){return t?"u=".concat(t).concat(this.eol):""}printEmail(t){let e="";for(const r of t)e+="e=".concat(r).concat(this.eol);return e}printPhone(t){let e="";for(const r of t)e+="e=".concat(r).concat(this.eol);return e}printConnection(t){return t?"c=".concat(t.nettype," ").concat(t.addrtype," ").concat(t.address).concat(this.eol):""}printBandwidth(t){let e="";for(const r of t)e+="b=".concat(r.bwtype,":").concat(r.bandwidth).concat(this.eol);return e}printTimeFields(t){let e="";for(const r of t){e+="t=".concat(r.time.startTime," ").concat(r.time.startTime).concat(this.eol);for(const t of r.repeats)e+="r=".concat(t.repeatInterval," ").concat(t.typedTimes.join(" ")).concat(this.eol);r.zoneAdjustments&&(e+="z=",e+="z=".concat(r.zoneAdjustments.map((t=>"".concat(t.time," ").concat(t.back?"-":""," ").concat(t.typedTime))).join(" ")).concat(this.eol),e+=this.eol)}return e}printKey(t){return t?"k=".concat(t).concat(this.eol):""}printAttributes(t){let e="";for(const r of t)e+="a=".concat(r.attField).concat(r.attValue?":".concat(r.attValue):"").concat(this.eol);return e}printMediaDescription(t){let e="";for(const r of t)e+=this.printMedia(r.media),e+=this.printInformation(r.information),e+=this.printConnections(r.connections),e+=this.printBandwidth(r.bandwidths),e+=this.printKey(r.key),e+=this.printMediaAttributes(r);return e}printConnections(t){let e="";for(const r of t)e+=this.printConnection(r);return e}printMedia(t){return"m=".concat(t.mediaType," ").concat(t.port," ").concat(t.protos.join("/")," ").concat(t.fmts.join(" ")).concat(this.eol)}printSessionAttributes(t){return new L(this.eol).print(t)}printMediaAttributes(t){return new y(this.eol).print(t)}}class w{constructor(t){b(this,"eol",void 0),this.eol=t}printIceUfrag(t){return void 0===t?"":"a=ice-ufrag:".concat(t).concat(this.eol)}printIcePwd(t){return void 0===t?"":"a=ice-pwd:".concat(t).concat(this.eol)}printIceOptions(t){return void 0===t?"":"a=ice-options:".concat(t.join(o)).concat(this.eol)}printFingerprints(t){return t.length>0?t.map((t=>"a=fingerprint:".concat(t.hashFunction).concat(o).concat(t.fingerprint))).join(this.eol)+this.eol:""}printExtmap(t){return t.map((t=>"a=extmap:".concat(t.entry).concat(t.direction?"/".concat(t.direction):"").concat(o).concat(t.extensionName).concat(t.extensionAttributes?"".concat(o).concat(t.extensionAttributes):"").concat(this.eol))).join("")}printSetup(t){return void 0===t?"":"a=setup:".concat(t).concat(this.eol)}printUnrecognized(t){return t.map((t=>"a=".concat(t.attField).concat(t.attValue?":".concat(t.attValue):"").concat(this.eol))).join("")}}class L extends w{print(t){let e="";return e+=this.printGroups(t.groups),e+=this.printMsidSemantic(t.msidSemantic),e+=this.printIceLite(t.iceLite),e+=this.printIceUfrag(t.iceUfrag),e+=this.printIcePwd(t.icePwd),e+=this.printIceOptions(t.iceOptions),e+=this.printFingerprints(t.fingerprints),e+=this.printSetup(t.setup),e+=this.printTlsId(t.tlsId),e+=this.printIdentity(t.identities),e+=this.printExtmap(t.extmaps),e+=this.printUnrecognized(t.unrecognized),e}printGroups(t){let e="";return t.length>0&&(e+=t.map((t=>"a=group:".concat(t.semantic).concat(t.identificationTag.map((t=>"".concat(o).concat(t))).join("")).concat(this.eol))).join("")),e}printIceLite(t){return void 0===t?"":"a=ice-lite"+this.eol}printTlsId(t){return t?"a=tls-id:".concat(t).concat(this.eol):""}printIdentity(t){return 0===t.length?"":t.map((t=>"a=identity:".concat(t.assertionValue).concat(t.extensions.map((t=>"".concat(o).concat(t.name).concat(t.value?"=".concat(t.value):"")))))).join(this.eol)+this.eol}printMsidSemantic(t){if(!t)return"";let e="a=msid-semantic:".concat(t.semantic);return t.applyForAll?e+="".concat(o,"*"):t.identifierList.length>0&&(e+=t.identifierList.map((t=>"".concat(o).concat(t)))),e+this.eol}}class y extends w{print(t){const e=t.attributes;let r="";return r+=this.printRTCP(e.rtcp),r+=this.printIceUfrag(e.iceUfrag),r+=this.printIcePwd(e.icePwd),r+=this.printIceOptions(e.iceOptions),r+=this.printCandidates(e.candidates),r+=this.printRemoteCandidatesList(e.remoteCandidatesList),r+=this.printEndOfCandidates(e.endOfCandidates),r+=this.printFingerprints(e.fingerprints),r+=this.printSetup(e.setup),r+=this.printMid(e.mid),r+=this.printExtmap(e.extmaps),r+=this.printRTPRelated(e),r+=this.printPtime(e.ptime),r+=this.printMaxPtime(e.maxPtime),r+=this.printDirection(e.direction),r+=this.printSSRCGroups(e.ssrcGroups),r+=this.printSSRC(e.ssrcs),r+=this.printRTCPMux(e.rtcpMux),r+=this.printRTCPMuxOnly(e.rtcpMuxOnly),r+=this.printRTCPRsize(e.rtcpRsize),r+=this.printMSId(e.msids),r+=this.printImageattr(e.imageattr),r+=this.printRid(e.rids),r+=this.printSimulcast(e.simulcast),r+=this.printSCTPPort(e.sctpPort),r+=this.printMaxMessageSize(e.maxMessageSize),r+=this.printUnrecognized(e.unrecognized),r}printCandidates(t){return t.map((t=>"a=candidate:".concat(t.foundation).concat(o).concat(t.componentId).concat(o).concat(t.transport).concat(o).concat(t.priority).concat(o).concat(t.connectionAddress).concat(o).concat(t.port).concat(o,"typ").concat(o).concat(t.type).concat(t.relAddr?"".concat(o,"raddr").concat(o).concat(t.relAddr):"").concat(t.relPort?"".concat(o,"rport").concat(o).concat(t.relPort):"").concat(Object.keys(t.extension).map((e=>"".concat(o).concat(e).concat(o).concat(t.extension[e]))).join("")).concat(this.eol))).join("")}printRemoteCandidatesList(t){return t.map((t=>"a=remote-candidates:".concat(t.join(o)).concat(this.eol))).join("")}printEndOfCandidates(t){return void 0===t?"":"a=end-of-candidates"+this.eol}printRTPRelated(t){if(!t.payloads)return"";const e=t.payloads;let r="";r+=t.rtcpFeedbackWildcards.map((t=>this.printRTCPFeedback("*",t))).join("");for(const t of e)r+=this.printRtpMap(t.payloadType,t.rtpMap),r+=this.printFmtp(t.payloadType,t.fmtp),r+=t.rtcpFeedbacks.map((e=>this.printRTCPFeedback(t.payloadType,e))).join("");return r}printFmtp(t,e){if(!e)return"";const r=Object.keys(e.parameters);return 1===r.length&&null===e.parameters[r[0]]?"a=fmtp:".concat(t).concat(o).concat(r[0]).concat(this.eol):"a=fmtp:".concat(t).concat(o).concat(Object.keys(e.parameters).map((t=>"".concat(t,"=").concat(e.parameters[t]))).join(";")).concat(this.eol)}printRtpMap(t,e){return e?"a=rtpmap:".concat(t).concat(o).concat(e.encodingName,"/").concat(e.clockRate).concat(e.encodingParameters?"/".concat(e.encodingParameters):"").concat(this.eol):""}printRTCPFeedback(t,e){let r="a=rtcp-fb:".concat(t).concat(o),n=e;return"trr-int"===n.type?r+="ttr-int".concat(o).concat(n.interval):(r+="".concat(n.type),n.parameter&&(r+="".concat(o).concat(n.parameter),n.additional&&(r+="".concat(o).concat(n.additional)))),r+this.eol}printPtime(t){return void 0===t?"":"a=ptime:".concat(t).concat(this.eol)}printMaxPtime(t){return void 0===t?"":"a=maxptime:".concat(t).concat(this.eol)}printDirection(t){return void 0===t?"":"a=".concat(t).concat(this.eol)}printSSRC(t){return t.map((t=>Object.keys(t.attributes).map((e=>"a=ssrc:".concat(t.ssrcId.toString(10)).concat(o).concat(e).concat(t.attributes[e]?":".concat(t.attributes[e]):"").concat(this.eol))).join(""))).join("")}printRTCPMux(t){return void 0===t?"":"a=rtcp-mux".concat(this.eol)}printRTCPMuxOnly(t){return void 0===t?"":"a=rtcp-mux-only".concat(this.eol)}printRTCPRsize(t){return void 0===t?"":"a=rtcp-rsize".concat(this.eol)}printRTCP(t){if(void 0===t)return"";let e="a=rtcp:".concat(t.port);return t.netType&&(e+="".concat(o).concat(t.netType)),t.addressType&&(e+="".concat(o).concat(t.addressType)),t.address&&(e+="".concat(o).concat(t.address)),e+this.eol}printMSId(t){return t.map((t=>"a=msid:".concat(t.id).concat(t.appdata?"".concat(o).concat(t.appdata):"").concat(this.eol))).join("")}printImageattr(t){return t.map((t=>"a=imageattr:".concat(t).concat(this.eol))).join("")}printRid(t){return t.map((t=>{let e="a=rid:".concat(t.id).concat(o).concat(t.direction);return t.payloads&&(e+="".concat(o,"pt=").concat(t.payloads.join(","))),t.params.length>0&&(e+="".concat(o).concat(t.params.map((t=>"depend"===t.type?"depend=".concat(t.rids.join(",")):"".concat(t.type,"=").concat(t.val))).join(";"))),e+this.eol})).join("")}printSimulcast(t){return void 0===t?"":"a=simulcast:".concat(t).concat(this.eol)}printSCTPPort(t){return void 0===t?"":"a=sctp-port:".concat(t).concat(this.eol)}printMaxMessageSize(t){return void 0===t?"":"a=max-message-size:".concat(t).concat(this.eol)}printMid(t){return void 0===t?"":"a=mid:".concat(t).concat(this.eol)}printSSRCGroups(t){return t.map((t=>"a=ssrc-group:".concat(t.semantic).concat(t.ssrcIds.map((t=>"".concat(o).concat(t.toString(10)))).join("")).concat(this.eol))).join("")}}function v(t){return(new I).parse(t)}function D(t,e){return(new C).print(t,e)}}},e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r(8)})();const jO=new class extends cO{constructor(){super(...arguments),_l(this,"currentUploadLogID",0)}reportLogUploadError(t){const{errorRange:e}=t;e[e.length-1]&&e[e.length-1]>this.currentUploadLogID&&(this.currentUploadLogID=e[e.length-1],this.emit("REPORT_LOG_UPLOAD",t))}};class WO{constructor(t){_l(this,"logger",void 0),_l(this,"prefixLists",[]),this.logger=t}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this.logger.debug(...this.prefixLists,...e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this.logger.info(...this.prefixLists,...e)}warning(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this.logger.warning(...this.prefixLists,...e)}error(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this.logger.error(...this.prefixLists,...e)}prefix(t){return this.prefixLists.push(t),this}popPrefix(){return this.prefixLists.pop(),this}}function GO(){const t=new Date;return t.toTimeString().split(" ")[0]+":"+t.getMilliseconds()}function KO(){const t=new Date,e=/((\d+:){2}\d+)/.exec((new Date).toUTCString());return e?(null==e?void 0:e[0])+":"+t.getUTCMilliseconds():t.toTimeString().split(" ")[0]+":"+t.getMilliseconds()}const HO={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},YO=Date.now(),zO=t=>{for(const e in HO)if(Object.prototype.hasOwnProperty.call(HO,e)&&HO[e]===t)return e;return"DEFAULT"};class XO{constructor(){_l(this,"proxyServerURL",void 0),_l(this,"logLevel",HO.DEBUG),_l(this,"uploadState","collecting"),_l(this,"uploadLogWaitingList",[]),_l(this,"uploadLogUploadingList",[]),_l(this,"uploadErrorCount",0),_l(this,"currentLogID",0),_l(this,"url",void 0),_l(this,"extLog",((t,e)=>{this.appendLogToWaitingList(t,...e)}))}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const n=[HO.DEBUG].concat(e);this.log.apply(this,n)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const n=[HO.INFO].concat(e);this.log.apply(this,n)}warning(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const n=[HO.WARNING].concat(e);this.log.apply(this,n)}warn(){this.warning(...arguments)}error(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const n=[HO.ERROR].concat(e);this.log.apply(this,n)}upload(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const n=[HO.DEBUG].concat(e);this.uploadLog.apply(this,n)}setLogLevel(t){t=Math.min(Math.max(0,t),4),this.logLevel=t}enableLogUpload(){FO("UPLOAD_LOG",!0)}disableLogUpload(){FO("UPLOAD_LOG",!1),this.uploadLogUploadingList=[],this.uploadLogWaitingList=[]}setProxyServer(t){this.proxyServerURL=t}prefix(t){return new WO(this).prefix(t)}log(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(Date.now()-YO<100)return void setTimeout((()=>{this.log(...e)}),Date.now()-YO);const n=Math.max(0,Math.min(4,e[0]));if(e[0]=GO()+" Agora-SDK [".concat(zO(n),"]:"),this.appendLogToWaitingList(n,...e),n<this.logLevel)return;const i=GO()+" %cAgora-SDK [".concat(zO(n),"]:");let o=[];if(!kO("USE_NEW_LOG"))switch(n){case HO.DEBUG:o=[i,"color: #64B5F6;"].concat(e.slice(1)),console.log.apply(console,o);break;case HO.INFO:o=[i,"color: #1E88E5; font-weight: bold;"].concat(e.slice(1)),console.log.apply(console,o);break;case HO.WARNING:o=[i,"color: #FB8C00; font-weight: bold;"].concat(e.slice(1)),console.warn.apply(console,o);break;case HO.ERROR:o=[i,"color: #B00020; font-weight: bold;"].concat(e.slice(1)),console.error.apply(console,o)}}uploadLog(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(Date.now()-YO<100)return void setTimeout((()=>{this.uploadLog(...e)}),Date.now()-YO);const n=Math.max(0,Math.min(4,e[0]));e[0]=GO()+" Agora-SDK [".concat(zO(n),"]:"),this.appendLogToWaitingList(n,...e)}appendLogToWaitingList(t){if(!kO("UPLOAD_LOG"))return;for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];Array.isArray(r[0])?r[0][0]=KO()+" Agora-SDK [".concat(zO(t),"]:"):r[0]=KO()+" Agora-SDK [".concat(zO(t),"]:");let i="";r.forEach((t=>{"object"==typeof t&&(t=JSON.stringify(t)),i+="".concat(t," ")})),this.uploadLogWaitingList.push({payload_str:i,log_level:t,log_item_id:this.currentLogID++}),"uploading"===this.uploadState&&0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}startUpload(){this.uploadState="uploading",0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}async uploadLogs(){const t=this.uploadLogUploadingList,e={sdk_version:PO,process_id:kO("PROCESS_ID"),payload:JSON.stringify(t)};return function(t,e,r,n){const i=Object.assign({},gO,n);let o=i.timeout;const s=async()=>{await function(t){return new Promise((e=>{window.setTimeout(e,t)}))}(o),o*=i.timeoutFactor,o=Math.min(i.maxRetryTimeout,o)};let a=!1;const c=new Promise((async(n,o)=>{e=e||(()=>!1),r=r||(()=>!0);for(let c=0;c<i.maxRetryCount;c+=1){if(a)return o(new nO(rO.OPERATION_ABORTED));try{const r=await t();if(!e(r,c))return n(r);if(c+1===i.maxRetryCount)return n(r);await s()}catch(t){if(!r(t,c))return o(t);if(c+1===i.maxRetryCount)return o(t);await s()}}}));return c.cancel=()=>a=!0,c}((async()=>{const t=await $A.post(this.url||(this.proxyServerURL?"https://".concat(this.proxyServerURL,"/ls/?h=").concat(kO("LOG_UPLOAD_SERVER"),"&p=443&d=upload/v1"):"https://".concat(kO("LOG_UPLOAD_SERVER"),"/upload/v1")),e,{responseType:"text"});if("OK"!==t.data){const e=new Error("unexpected upload log response");throw e.response=t,e}}),(()=>(this.uploadLogUploadingList=[],!1)),(e=>{const r={status:-1,message:e.message,errorRange:t.map((t=>t.log_item_id))};return e.response?(r.status=e.response.status,r.data=e.response.data,r.headers=e.response.headers):e.request&&(r.status=e.request.status),jO.reportLogUploadError(r),!0}),{timeout:kO("UPLOAD_LOG_REQUEST_RETRY_INTERVAL"),maxRetryTimeout:kO("UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL")})}uploadLogInterval(){0===this.uploadLogUploadingList.length&&0===this.uploadLogWaitingList.length||(0===this.uploadLogUploadingList.length&&(this.uploadLogUploadingList=this.uploadLogWaitingList.splice(0,kO("UPLOAD_LOG_LENGTH_EACH_TIME"))),this.uploadLogs().then((()=>{this.uploadErrorCount=0,this.uploadLogWaitingList.length>0&&window.setTimeout((()=>this.uploadLogInterval()),kO("UPLOAD_LOG_INTERVAL"))})).catch((t=>{this.uploadErrorCount+=1,this.uploadErrorCount<2?window.setTimeout((()=>this.uploadLogInterval()),kO("UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1")):window.setTimeout((()=>this.uploadLogInterval()),kO("UPLOAD_LOG_RETRY_INTERVAL_V1"))})))}}const JO=new XO;let qO=function(t){return t.FREE="free",t.UPLOADING="uploading",t}({}),QO=function(t){return t[t.MISC=0]="MISC",t[t.INTERNAL_EVENT=1]="INTERNAL_EVENT",t[t.PUBLIC_EVENT=2]="PUBLIC_EVENT",t[t.WEB_EVENT=3]="WEB_EVENT",t[t.INTERNAL_API=4]="INTERNAL_API",t[t.WEB_API=5]="WEB_API",t[t.PUBLIC_API=6]="PUBLIC_API",t}({});const $O={sid:"",lts:0,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0};let ZO=function(t){return t.PUBLISH="publish",t.SUBSCRIBE="subscribe",t.WS_COMPRESSOR_INIT="ws_compressor_init",t.SESSION_INIT="session_init",t.JOIN_CHOOSE_SERVER="join_choose_server",t.RTE_DETAIL="rte_detail_stats",t.REQ_USER_ACCOUNT="req_user_account",t.JOIN_GATEWAY="join_gateway",t.REJOIN_GATEWAY="rejoin_gateway",t.STREAM_SWITCH="stream_switch",t.REQUEST_PROXY_WORKER_MANAGER="request_proxy_worker_manager",t.REQUEST_PROXY_APPCENTER="request_proxy_appcenter",t.FIRST_VIDEO_RECEIVED="first_video_received",t.FIRST_AUDIO_RECEIVED="first_audio_received",t.FIRST_VIDEO_DECODE="first_video_decode",t.FIRST_AUDIO_DECODE="first_audio_decode",t.XLA_PEER_FIRST_VIDEO_FRAME="xla_peer_first_video_frame",t.ON_ADD_AUDIO_STREAM="on_add_audio_stream",t.ON_ADD_VIDEO_STREAM="on_add_video_stream",t.ON_UPDATE_STREAM="on_update_stream",t.ON_REMOVE_STREAM="on_remove_stream",t.USER_ANALYTICS="req_user_analytics",t.PC_STATS="pc_stats",t.UPDATE_REMOTE_RTPCAPABILITIES="update_remote_rtpCapabilities",t.AB_TEST="ab_test",t}({}),tS=function(t){return t.SESSION="io.agora.pb.Wrtc.Session",t.JOIN_CHOOSE_SERVER="io.agora.pb.Wrtc.JoinChooseServer",t.RTE_DETAIL="io.agora.pb.Wrtc.RteDetailStats",t.REQ_USER_ACCOUNT="io.agora.pb.Wrtc.ReqUserAccount",t.JOIN_GATEWAY="io.agora.pb.Wrtc.JoinGateway",t.RE_JOIN_GATEWAY="io.agora.pb.Wrtc.ReJoinGateway",t.PUBLISH="io.agora.pb.Wrtc.Publish",t.SUBSCRIBE="io.agora.pb.Wrtc.Subscribe",t.WS_COMPRESSOR_INIT="io.agora.pb.Wrtc.WsCompressorInit",t.STREAM_SWITCH="io.agora.pb.Wrtc.StreamSwitch",t.AUDIO_SENDING_STOPPED="io.agora.pb.Wrtc.AudioSendingStopped",t.VIDEO_SENDING_STOPPED="io.agora.pb.Wrtc.VideoSendingStopped",t.REQUEST_PROXY_APPCENTER="io.agora.pb.Wrtc.RequestProxyAppCenter",t.REQUEST_PROXY_WORKER_MANAGER="io.agora.pb.Wrtc.RequestProxyWorkerManager",t.API_INVOKE="io.agora.pb.Wrtc.ApiInvoke",t.FIRST_VIDEO_RECEIVED="io.agora.pb.Wrtc.FirstVideoReceived",t.FIRST_AUDIO_RECEIVED="io.agora.pb.Wrtc.FirstAudioReceived",t.FIRST_VIDEO_DECODE="io.agora.pb.Wrtc.FirstVideoDecode",t.FIRST_AUDIO_DECODE="io.agora.pb.Wrtc.FirstAudioDecode",t.XLA_PEER_FIRST_VIDEO_FRAME="io.agora.pb.Wrtc.XLAPeerFirstVideoFrame",t.ON_ADD_AUDIO_STREAM="io.agora.pb.Wrtc.OnAddAudioStream",t.ON_ADD_VIDEO_STREAM="io.agora.pb.Wrtc.OnAddVideoStream",t.ON_UPDATE_STREAM="io.agora.pb.Wrtc.OnUpdateStream",t.ON_REMOVE_STREAM="io.agora.pb.Wrtc.OnRemoveStream",t.JOIN_CHANNEL_TIMEOUT="io.agora.pb.Wrtc.JoinChannelTimeout",t.PEER_PUBLISH_STATUS="io.agora.pb.Wrtc.PeerPublishStatus",t.WORKER_EVENT="io.agora.pb.Wrtc.WorkerEvent",t.AP_WORKER_EVENT="io.agora.pb.Wrtc.APWorkerEvent",t.JOIN_WEB_PROXY_AP="io.agora.pb.Wrtc.JoinWebProxyAP",t.WEBSOCKET_QUIT="io.agora.pb.Wrtc.WebSocketQuit",t.USER_ANALYTICS="io.agora.pb.Wrtc.UserAnalytics",t.AUTOPLAY_FAILED="io.agora.pb.Wrtc.AutoplayFailed",t.PC_STATS="io.agora.pb.Wrtc.PCStats",t.UPDATE_REMOTE_RTPCAPABILITIES="io.agora.pb.Wrtc.UpdateRemoteRTPCapabilities",t.AB_TEST="io.agora.pb.Wrtc.ABTest",t}({}),eS=function(t){return t[t.WORKER_EVENT=156]="WORKER_EVENT",t[t.AP_WORKER_EVENT=160]="AP_WORKER_EVENT",t}({}),rS=function(t){return t[t.SESSION=26]="SESSION",t[t.JOIN_CHOOSE_SERVER=27]="JOIN_CHOOSE_SERVER",t[t.REQ_USER_ACCOUNT=196]="REQ_USER_ACCOUNT",t[t.JOIN_GATEWAY=28]="JOIN_GATEWAY",t[t.PUBLISH=30]="PUBLISH",t[t.SUBSCRIBE=29]="SUBSCRIBE",t[t.WS_COMPRESSOR_INIT=9430]="WS_COMPRESSOR_INIT",t[t.STREAM_SWITCH=32]="STREAM_SWITCH",t[t.AUDIO_SENDING_STOPPED=33]="AUDIO_SENDING_STOPPED",t[t.VIDEO_SENDING_STOPPED=34]="VIDEO_SENDING_STOPPED",t[t.REQUEST_PROXY_APPCENTER=35]="REQUEST_PROXY_APPCENTER",t[t.REQUEST_PROXY_WORKER_MANAGER=36]="REQUEST_PROXY_WORKER_MANAGER",t[t.API_INVOKE=41]="API_INVOKE",t[t.FIRST_VIDEO_RECEIVED=348]="FIRST_VIDEO_RECEIVED",t[t.FIRST_AUDIO_RECEIVED=349]="FIRST_AUDIO_RECEIVED",t[t.FIRST_VIDEO_DECODE=350]="FIRST_VIDEO_DECODE",t[t.FIRST_AUDIO_DECODE=351]="FIRST_AUDIO_DECODE",t[t.ON_ADD_AUDIO_STREAM=352]="ON_ADD_AUDIO_STREAM",t[t.ON_ADD_VIDEO_STREAM=353]="ON_ADD_VIDEO_STREAM",t[t.ON_UPDATE_STREAM=356]="ON_UPDATE_STREAM",t[t.ON_REMOVE_STREAM=355]="ON_REMOVE_STREAM",t[t.JOIN_CHANNEL_TIMEOUT=407]="JOIN_CHANNEL_TIMEOUT",t[t.PEER_PUBLISH_STATUS=408]="PEER_PUBLISH_STATUS",t[t.WORKER_EVENT=156]="WORKER_EVENT",t[t.AP_WORKER_EVENT=160]="AP_WORKER_EVENT",t[t.JOIN_WEB_PROXY_AP=700]="JOIN_WEB_PROXY_AP",t[t.WEBSOCKET_QUIT=671]="WEBSOCKET_QUIT",t[t.USER_ANALYTICS=1e4]="USER_ANALYTICS",t[t.AUTOPLAY_FAILED=9178]="AUTOPLAY_FAILED",t}({});function nS(){nS=function(t,e){return new r(t,void 0,e)};var t=RegExp.prototype,e=new WeakMap;function r(t,n,i){var o=RegExp(t,n);return e.set(o,i||e.get(t)),ji(o,r.prototype)}function n(t,r){var n,i=e.get(r);return un(n=Object.keys(i)).call(n,(function(e,r){var n=i[r];if("number"==typeof n)e[r]=t[n];else{for(var o=0;void 0===t[n[o]]&&o+1<n.length;)o++;e[r]=t[n[o]]}return e}),Object.create(null))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=ri(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),ui(t,"prototype",{writable:!1}),e&&ji(t,e)}(r,RegExp),r.prototype.exec=function(e){var r=t.exec.call(this,e);if(r){r.groups=n(r,this);var i=r.indices;i&&(i.groups=n(i,this))}return r},r.prototype[Symbol.replace]=function(r,i){if("string"==typeof i){var o=e.get(this);return t[Symbol.replace].call(this,r,i.replace(/\$<([^>]+)(>|$)/g,(function(t,e,r){if(""===r)return t;var n=o[e];return Array.isArray(n)?"$"+n.join("$"):"number"==typeof n?"$"+n:""})))}if("function"==typeof i){var s=this;return t[Symbol.replace].call(this,r,(function(){var t=arguments;return"object"!=typeof t[t.length-1]&&(t=[].slice.call(t)).push(n(t,s)),i.apply(this,t)}))}return t[Symbol.replace].call(this,r,i)},nS.apply(this,arguments)}function iS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function oS(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?iS(Object(r),!0).forEach((function(e){_l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iS(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}class sS{constructor(){_l(this,"baseInfoMap",new Map),_l(this,"proxyServer",void 0),_l(this,"eventUploadTimer",void 0),_l(this,"setSessionIdTimer",void 0),_l(this,"url",void 0),_l(this,"sids",new Set),_l(this,"backupUrl",void 0),_l(this,"_appId",void 0),_l(this,"_aid",0),_l(this,"keyEventUploadPendingItems",[]),_l(this,"normalEventUploadPendingItems",[]),_l(this,"apiInvokeUploadPendingItems",[]),_l(this,"apiInvokeCount",0),_l(this,"apiInvokeLoggedCount",0),_l(this,"ltsList",[]),_l(this,"lastSendNormalEventTime",Date.now()),_l(this,"customReportCounterTimer",void 0),_l(this,"customReportCount",0),_l(this,"extApiInvoke",(async t=>{for(const e of t){const t=oS(oS({},e),{},{sid:null,invokeId:++this.apiInvokeCount,tag:EO.TRACER});this.sendApiInvoke(t)}})),this.eventUploadTimer=window.setInterval(this.doSend.bind(this),kO("EVENT_REPORT_SEND_INTERVAL")),this.setSessionIdTimer=window.setInterval(this.appendSessionId.bind(this),kO("EVENT_REPORT_SEND_INTERVAL"))}getBaseInfoBySessionId(t){return this.baseInfoMap.get(t)}setAppId(t){this._appId=t,this._aid=parseInt(t.replace(/[a-fA-F0-9]{8}/g,(t=>{let[e,r]=t;return e+r})),16)||0}reportApiInvoke(t,e,r){e.timeout=e.timeout||6e4,e.reportResult=void 0===e.reportResult||e.reportResult;const n=Date.now();this.apiInvokeCount+=1;const i=this.apiInvokeCount,o=!!kO("SHOW_REPORT_INVOKER_LOG"),s=!!kO("SHOW_REPORT_USER_INVOKER_LOG"),a=o||s&&e.id;a&&(this.apiInvokeLoggedCount+=1);const c=this.apiInvokeLoggedCount;function u(t,r){if(a){let n="[apiInvoke-".concat(c,"]");if(e.id&&(n+="[".concat(e.id,"]")),e.name&&(n+="[".concat(e.name,"]"),e.name===uO.JOIN))return JO.info("".concat(n," ").concat(t));JO.info("".concat(n," ").concat(t),"start"===t?e.options:r||"")}}const E=()=>({tag:e.tag,invokeId:i,sid:t,name:e.name,apiInvokeTime:n,options:e.options,states:e.states||null});u("start");let l=!1;OO(e.timeout).then((()=>{l||(this.sendApiInvoke(oS(oS({},E()),{},{error:rO.API_INVOKE_TIMEOUT,success:!1})),u("timeout"))}));const d=new nO(rO.UNEXPECTED_ERROR,"".concat(e.name,": this api invoke is end"));return{onSuccess:t=>{const n=()=>{if(l)throw d;return l=!0,this.sendApiInvoke(oS(oS({},E()),{},{success:!0},e.reportResult&&{result:t})),u("onSuccess"),t};return r?NO(n,e.name+"Success",r,(()=>l=!0)):n()},onError:t=>{const n=()=>{if(l)throw t;l=!0,this.sendApiInvoke(oS(oS({},E()),{},{success:!1,error:t})),u("onFailure",t.toString())};return r?NO(n,e.name+"Error",r,(()=>l=!0)):n()}}}_send(t,e,r){this.send({type:t,data:e},r)}_sendApiInvoke(t){return this.sendApiInvoke(t)}sessionInit(t,e){if(this.baseInfoMap.has(t))return;const r=Date.now(),n=this.createBaseInfo(t,r);n.cname=e.cname,n.rteUrl=e.rteUrl;const i=Object.assign({},{willUploadConsoleLog:kO("UPLOAD_LOG"),maxTouchPoints:navigator.maxTouchPoints,areaVersion:MO?"global":"oversea",areas:kO("AREAS")&&kO("AREAS").join(",")},e.extend),{stringUid:o,channelProfile:s,channelMode:a,isABTestSuccess:c,lsid:u,clientRole:E}=e,l=Date.now(),d=oS(oS({},n),{},{eventType:ZO.SESSION_INIT,appid:e.appid,browser:navigator.userAgent,buildFormat:e.buildFormat,build:"v4.24.2-0-g002485b1-dirty(12/12/2025, 5:26:54 PM)",lts:l,elapse:l-r,extend:JSON.stringify(i),mode:e.mode,process:kO("PROCESS_ID"),appType:kO("APP_TYPE"),success:!0,version:PO,stringUid:o,channelProfile:s,channelMode:a,isABTestSuccess:c,lsid:u,clientType:window.navigator.userAgent.includes("AgoraWebView")?42:20,clientRole:E,serviceId:kO("PROCESS_ID"),extensionID:kO("PLUGIN_INFO").join(",")||"",rteUrl:e.rteUrl,rteSid:e.rteSid});this.send({type:tS.SESSION,data:d},!0)}reportRteDetail(t){const e=this.baseInfoMap.get(t);if(!e)return;const r=e.info,n=Date.now(),i=oS(oS({},r),{},{eventType:ZO.RTE_DETAIL,lts:n,success:!0,elapse:n-e.startTime,vid:void 0===r.vid?0:Number(r.vid),ua:navigator.userAgent});this.send({type:tS.RTE_DETAIL,data:i},!0)}joinChooseServer(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info;e.vid&&(n.vid=e.vid);const i=Date.now(),o=oS(oS({},n),{},{role:e.role,eventType:ZO.JOIN_CHOOSE_SERVER,lts:i,eventElapse:e.elapse||i-e.lts,chooseServerAddr:e.csAddr,errorCode:e.ec,elapse:i-r.startTime,success:e.succ,chooseServerAddrList:JSON.stringify(e.serverList),uid:e.uid?parseInt(e.uid):null,cid:e.cid?parseInt(e.cid):null,chooseServerIp:e.csIp||"",opid:e.opid,unilbsServerIds:e.unilbsServerIds,extend:e.extend||void 0,isHttp3:e.isHttp3,corssRegionTagReq:e.corssRegionTagReq||void 0,corssRegionTagRes:e.corssRegionTagRes||void 0,ua:navigator.userAgent,resourceTimingInfo:e.resourceTimingInfo||void 0});this.send({type:tS.JOIN_CHOOSE_SERVER,data:o},!0)}reqUserAccount(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=oS(oS({},n),{},{eventType:ZO.REQ_USER_ACCOUNT,lts:i,success:e.success,serverAddress:e.serverAddr,stringUid:e.stringUid,uid:e.uid,errorCode:e.errorCode,elapse:e.elapse||i-r.startTime,eventElapse:i-e.lts,extend:JSON.stringify(e.extend)});this.send({type:tS.REQ_USER_ACCOUNT,data:o},!0)}joinGateway(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info;e.vid&&(n.vid=e.vid),n.uid=e.uid,n.cid=e.cid;const i=Date.now(),{firstSuccess:o,addr:s,isProxy:a}=e,c=i-r.startTime,u=oS(oS({},n),{},{eventType:ZO.JOIN_GATEWAY,lts:i,gatewayAddr:e.addr,success:e.succ,errorCode:e.ec,errorMsg:e.errorMsg||"",elapse:c,eventElapse:i-e.lts,firstSuccess:o,signalChannel:e.signalChannel,preload:e.preload?1:0,installId:DO(),isABTestSuccess:e.isABTestSuccess?1:0,gatewayIp:null,gatewayPort:null,isProxy:a?1:0}),E=u.success?1:0;if(e.succ&&(r.lastJoinSuccessTime=i),s)if("1"===u.signalChannel){const t=nS(/(\d+\.\d+\.\d+\.\d+):(\d+)/,{ip:1,port:2}),e=s.match(t);u.gatewayIp=e&&e.groups?e.groups.ip:"",u.gatewayPort=e&&e.groups?e.groups.port:""}else if(a){const t=s.match(/h=(\d{1,3}-){3}\d{1,3}/g),e=s.match(/p=[0-9]{1,6}/g);u.gatewayIp=t&&t.length?t[0].split("=")[1].replace(/-/g,"."):"",u.gatewayPort=e&&e.length?e[0].split("=")[1]:""}else{const t=s.match(/wss:\/\/(\d{1,3}-){3}\d{1,3}/g),e=s.match(/(:|p=)[0-9]{1,6}/g);u.gatewayIp=t&&t.length?t[0].split("//")[1].replace(/-/g,"."):"",u.gatewayPort=e&&e.length?e[0].split(/:|p=/g)[1]:""}if(o)this.send({type:tS.JOIN_GATEWAY,data:u},!0);else{let t={isSuccess:E,port:u.gatewayPort};delete u.success,delete u.eventType,delete u.firstSuccess,delete u.gatewayPort,u.vid=Number(u.vid);const e=Object.assign({},u,t,{eventType:ZO.REJOIN_GATEWAY});this.send({type:tS.RE_JOIN_GATEWAY,data:e},!0)}}joinChannelTimeout(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=Date.now(),i=oS(oS({},r.info),{},{lts:n,timeout:e,elapse:n-r.startTime});this.send({type:tS.JOIN_CHANNEL_TIMEOUT,data:i},!0)}publish(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=oS(oS({},n),{},{eventType:ZO.PUBLISH,lts:i,eventElapse:e.eventElapse,elapse:i-r.startTime,success:e.succ,errorCode:e.ec,videoName:e.videoName,audioName:e.audioName,screenName:e.screenName,screenshare:e.screenshare,audio:e.audio,video:e.video,p2pid:e.p2pid,publishRequestid:e.publishRequestid});this.send({type:tS.PUBLISH,data:o},!0)}subscribe(t,e,r){const n=this.baseInfoMap.get(t);if(!n)return;const i=n.info,o=Date.now(),s=oS(oS({},i),{},{eventType:ZO.SUBSCRIBE,lts:o,eventElapse:e.eventElapse,elapse:o-n.startTime,success:e.succ,errorCode:e.ec,video:e.video,audio:e.audio,subscribeRequestid:e.subscribeRequestid,p2pid:e.p2pid,preSsrc:e.preSsrc?1:0},r&&{extend:JSON.stringify({isMassSubscribe:!0})});"string"==typeof e.peerid?s.peerSuid=e.peerid:s.peer=e.peerid,this.send({type:tS.SUBSCRIBE,data:s},!0)}wsCompressorInit(t){var e;const r=[...Il(e=this.baseInfoMap).call(e)],n=r.length?r[0]:"UnableToGetSid",i=this.baseInfoMap.get(n);if(!i)return;const o=i.info,s=Date.now(),a=oS(oS({},o),{},{eventType:ZO.WS_COMPRESSOR_INIT,lts:s,eventElapse:t.eventElapse,elapse:s-i.startTime,status:t.status?1:2});this.send({type:tS.WS_COMPRESSOR_INIT,data:a},!0)}firstXLAPeerFirstVideoFrame(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=e.peerPubStatusMs-(r.lastJoinSuccessTime||i),s=oS(oS({},n),{},{elapse:i-r.startTime,eventType:ZO.XLA_PEER_FIRST_VIDEO_FRAME,lts:i,peer:e.peer,width:e.width,height:e.height,ssrc:e.ssrc,p2pid:e.p2pid,peerPublishDuration:e.peerPublishDuration,joinChannelSuccessElapse:o,peerPubStatusMs:e.peerPubStatusMs-e.joinChannelStart,availablePublish:e.peerPublishDuration>o?1:0,preloadStart:Math.max(e.preloadStart-e.joinChannelStart,0),preloadEnd:Math.max(e.preloadEnd-e.joinChannelStart,0),encrypt:Math.max(e.apStart-e.joinChannelStart,0),ap:Math.max(e.apEnd-e.joinChannelStart,0),sua:Math.max(e.suaEnd-e.joinChannelStart,0),beforeConnect:Math.max(e.beforeConnect-e.joinChannelStart,0),peerRecevier:Math.max(e.peerReceiver-e.joinChannelStart,0),ice:Math.max(e.ice-e.joinChannelStart,0),pc:Math.max(e.pc-e.joinChannelStart,0),signalConnected:Math.max(e.signalConnected-e.joinChannelStart,0),joinReq:Math.max(e.joinReq-e.joinChannelStart,0),joinRes:Math.max(e.joinRes-e.joinChannelStart,0),userJoinNotify:Math.max(e.userJoinNotify-e.joinChannelStart,0),videoSsrcNotify:Math.max(e.videoAddNotify-e.joinChannelStart,0),subscribeDelayMs:Math.max(e.subscribeStart-e.videoAddNotify,0),subscribeStart:Math.max(e.subscribeStart-e.joinChannelStart,0),subscribeEnd:Math.max(e.subscribeEnd-e.joinChannelStart,0),firstReceived:Math.max(e.firstReceived-e.joinChannelStart,0),firstDecoded:Math.max(e.firstDecoded-e.joinChannelStart,0),firstPreRender:Math.max(e.firstPreRender-e.joinChannelStart,0),firstRender:Math.max(e.firstRender-e.joinChannelStart,0),playDelayMs:Math.max(e.playStart-e.subscribeEnd,0),playStart:Math.max(e.playStart-e.joinChannelStart,0),playEnd:Math.max(e.playEnd-e.joinChannelStart,0),isPreSub:e.isPreSub?1:0,isPrePc:e.isPrePc?1:0,isPreInstantVideo:e.isPreInstantVideo?1:0,firstReceivedEncodedFrame:e.firstReceivedEncodedFrame?Math.max(e.firstReceivedEncodedFrame-e.joinChannelStart,0):void 0,frameType:e.frameType||"",rtpTimestamp:e.rtpTimestamp||0,framePayloadType:e.framePayloadType||0,frameDataLength:e.frameDataLength||0,mimeType:e.mimeType||""});this.send({type:tS.XLA_PEER_FIRST_VIDEO_FRAME,data:s},!0)}firstRemoteVideoDecode(t,e,r,n){const i=this.baseInfoMap.get(t);if(!i)return;const o=i.info,s=Date.now(),a=oS(oS(oS({},o),n),{},{elapse:s-i.startTime,eventType:e,lts:s,firstDecodeFrame:Math.max((n.firstFrame||s)-i.startTime,0),apEnd:Math.max(n.apEnd-i.startTime,0),apStart:Math.max(n.apStart-i.startTime,0),joinGwEnd:Math.max(n.joinGwEnd-i.startTime,0),joinGwStart:Math.max(n.joinGwStart-i.startTime,0),pcEnd:Math.max(n.pcEnd-i.startTime,0),pcStart:Math.max(n.pcStart-i.startTime,0),subscriberEnd:Math.max(n.subscriberEnd-i.startTime,0),subscriberStart:Math.max(n.subscriberStart-i.startTime,0),videoAddNotify:Math.max(n.videoAddNotify-i.startTime,0)});this.send({type:r,data:a},!0)}firstRemoteFrame(t,e,r,n){const i=this.baseInfoMap.get(t);if(!i)return;const o=i.info,s=Date.now(),a=oS(oS(oS({},o),n),{},{elapse:s-i.startTime,eventType:e,lts:s});this.send({type:r,data:a},!0)}abTest(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=oS(oS(oS({},n),e),{},{vid:void 0===n.vid?0:Number(n.vid),elapse:i-r.startTime,eventType:ZO.AB_TEST,lts:i});this.send({type:tS.AB_TEST,data:o},!0)}pcStats(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=oS(oS(oS({},n),e),{},{vid:void 0===n.vid?0:Number(n.vid),elapse:i-r.startTime,eventType:ZO.PC_STATS,lts:i,preallocation:e.preallocation?1:0});this.send({type:tS.PC_STATS,data:o},!0)}updateRemoteRTPCapabilities(t,e){if(t){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=oS(oS(oS({},n),e),{},{vid:void 0===n.vid?0:Number(n.vid),eventType:ZO.UPDATE_REMOTE_RTPCAPABILITIES,lts:i});this.send({type:tS.UPDATE_REMOTE_RTPCAPABILITIES,data:o},!0)}}onGatewayStream(t,e,r,n){const i=this.baseInfoMap.get(t);if(!i)return;const o=i.info,s=Date.now(),a=oS(oS(oS({},o),n),{},{eventType:e,lts:s});this.send({type:r,data:a},!0)}streamSwitch(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=oS(oS({},n),{},{eventType:ZO.STREAM_SWITCH,lts:i,isDual:e.isdual,elapse:i-r.startTime,success:e.succ});this.send({type:tS.STREAM_SWITCH,data:o},!0)}requestProxyAppCenter(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=oS(oS({},n),{},{eventType:ZO.REQUEST_PROXY_APPCENTER,lts:i,eventElapse:i-e.lts,elapse:i-r.startTime,APAddr:e.APAddr,workerManagerList:e.workerManagerList,response:e.response,errorCode:e.ec,success:e.succ});this.send({type:tS.REQUEST_PROXY_APPCENTER,data:o},!0)}requestProxyWorkerManager(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=oS(oS({},n),{},{eventType:ZO.REQUEST_PROXY_WORKER_MANAGER,lts:i,eventElapse:i-e.lts,elapse:i-r.startTime,workerManagerAddr:e.workerManagerAddr,response:e.response,errorCode:e.ec,success:e.succ});this.send({type:tS.REQUEST_PROXY_WORKER_MANAGER,data:o},!0)}setProxyServer(t){this.proxyServer=t,t?JO.debug("reportProxyServerurl: ".concat(t)):JO.debug("disable reportProxyServerurl: ".concat(t))}peerPublishStatus(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=oS(oS({},n),{},{subscribeElapse:e.subscribeElapse,peer:e.peer,peerPublishDuration:Math.max(e.audioPublishDuration,e.videoPublishDuration),audiotag:e.audioPublishDuration>0?1:-1,videotag:e.videoPublishDuration>0?1:-1,lts:i,elapse:i-r.startTime,joinChannelSuccessElapse:i-(r.lastJoinSuccessTime||i),peerPublishDurationVideo:e.videoPublishDuration,peerPublishDurationAudio:e.audioPublishDuration});this.send({type:tS.PEER_PUBLISH_STATUS,data:o},!0)}workerEvent(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=function(t,e,r){const n=t[e];if(!n||"string"!=typeof n)return[t];t[e]="";const i=AO(JSON.stringify(t));let o=0;const s=[];let a=0;for(let c=0;c<n.length;c++)a+=n.charCodeAt(c)<=127?1:3,a<=r-i||(s[s.length]=eO(eO({},t),{},{[e]:n.substring(o,c)}),o=c,a=n.charCodeAt(c)<=127?1:3);return o!==n.length-1&&(s[s.length]=eO(eO({},t),{},{[e]:n.substring(o)})),s}(oS(oS(oS({},n),e),{},{elapse:i-r.startTime,lts:i,productType:"WebRTC"}),"payload",1300);o.forEach((t=>this.send({type:tS.WORKER_EVENT,data:t},!0)))}apworkerEvent(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=oS(oS(oS({},n),e),{},{elapse:i-r.startTime,lts:i});this.send({type:tS.AP_WORKER_EVENT,data:o},!0)}joinWebProxyAP(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=oS(oS(oS({},n),e),{},{elapse:i-r.startTime,lts:i,extend:e.extend||void 0});this.send({type:tS.JOIN_WEB_PROXY_AP,data:o},!0)}WebSocketQuit(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=oS(oS(oS({},n),e),{},{elapse:i-r.startTime,lts:i});this.send({type:tS.WEBSOCKET_QUIT,data:o},!0)}async sendCustomReportMessage(t,e){if(this.customReportCount+=e.length,this.customReportCount>kO("CUSTOM_REPORT_LIMIT"))throw new nO(rO.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);this.customReportCounterTimer||(this.customReportCounterTimer=window.setInterval((()=>{this.customReportCount=0}),5e3));const r=Date.now(),n=e.map((e=>({type:tS.USER_ANALYTICS,data:oS(oS({sid:t},e),{},{lts:r})})));try{kO("NEW_REPORT_SERVER")?await this.postDataToStatsCollector2(n):await this.postDataToStatsCollector(n)}catch(t){throw JO.error("send custom report message failed",t.toString()),new nO(rO.CUSTOM_REPORT_SEND_FAILED,t.message)}}sendApiInvoke(t){const e=kO("NOT_REPORT_EVENT");if(t.tag&&Gl(e)&&Gl(e).call(e,t.tag))return!1;if(null===t.sid)return this.apiInvokeUploadPendingItems.push(t),!1;const r=this.baseInfoMap.get(t.sid);if(!r)return this.apiInvokeUploadPendingItems.push(t),!1;const{cname:n,uid:i,cid:o}=r.info;let s;if(t.lts=t.lts||Date.now(),t.error)if(t.error instanceof nO){const{code:e,message:r}=t.error;s=e||(r||t.error.toString())}else s=t.error.toString();const a={invokeId:t.invokeId,sid:t.sid,cname:n,cid:o,uid:i,lts:t.lts,success:t.success,elapse:t.lts-r.startTime,execElapse:t.lts-t.apiInvokeTime,apiName:t.name,options:t.options?JSON.stringify(t.options):void 0,execStates:t.states?JSON.stringify(t.states):void 0,execResult:t.result?JSON.stringify(t.result):void 0,errorCode:t.error?s:void 0,errorMsg:t.error?JSON.stringify(t.error):void 0};return this.send({type:tS.API_INVOKE,data:a},!1),!0}addSid(t){this.sids.add(t)}removeSid(t){this.sids.delete(t)}appendSessionId(){const t=this.apiInvokeUploadPendingItems;if(0===t.length)return;const e=Array.from(this.sids).find((t=>null!==t));e&&t.forEach((t=>{t&&(t.sid=e,this.sendApiInvoke(Object.assign({},t)))})),t.length=0}send(t,e){if(e)return this.keyEventUploadPendingItems.push(t),void this.sendItems(this.keyEventUploadPendingItems,!0);this.normalEventUploadPendingItems.push(t),this.normalEventUploadPendingItems.length>kO("NORMAL_EVENT_QUEUE_CAPACITY")&&this.normalEventUploadPendingItems.splice(0,1),this.normalEventUploadPendingItems.length>=10&&this.sendItems(this.normalEventUploadPendingItems,!1)}doSend(){this.keyEventUploadPendingItems.length>0&&this.sendItems(this.keyEventUploadPendingItems,!0),this.normalEventUploadPendingItems.length>0&&Date.now()-this.lastSendNormalEventTime>=5e3&&this.sendItems(this.normalEventUploadPendingItems,!1)}sendItems(t,e){const r=[],n=[];for(;t.length;){const e=t.shift();r.length<20?r.push(e):n.push(e)}t.push(...n);for(const t of[...r]){var i;if(-1!==this.ltsList.indexOf(t.data.lts))t.data.lts=this.ltsList[this.ltsList.length-1]+1,this.ltsList.push(t.data.lts);else this.ltsList.push(t.data.lts),bd(i=this.ltsList).call(i,((t,e)=>t-e))}e||(this.lastSendNormalEventTime=Date.now());return kO("ENABLE_EVENT_REPORT")?(r.length&&(kO("NEW_REPORT_SERVER")?this.postDataToStatsCollector2(r):this.postDataToStatsCollector(r)).catch((t=>r=>{kO("EVENT_REPORT_RETRY")&&(e?this.keyEventUploadPendingItems=this.keyEventUploadPendingItems.concat(t):(this.normalEventUploadPendingItems=this.normalEventUploadPendingItems.concat(t),this.normalEventUploadPendingItems.length>kO("NORMAL_EVENT_QUEUE_CAPACITY")&&(this.normalEventUploadPendingItems.splice(0,this.normalEventUploadPendingItems.length-kO("NORMAL_EVENT_QUEUE_CAPACITY")),JO.warning("report: drop normal events"))))})(r)),t):t}async postDataToStatsCollector2(t){pO.networkState===lO.OFFLINE&&await xT.race([pO.onlineWaiter,OO(2*gO.maxRetryTimeout)]);const e=t=>{let e=new Uint8Array;return t.forEach((t=>{const r=function(t){return(new TextEncoder).encode(t)}(JSON.stringify(t.data)),n=new ArrayBuffer(5),i=(t=>{let e=0;return Object.entries(tS).forEach((r=>{let[n,i]=r;i===t.type&&(e=rS[n])})),e})(t),o=new DataView(n);o.setUint16(0,r.byteLength,!0),o.setUint8(2,255&i),o.setUint8(3,i>>>8&255),o.setUint8(4,i>>>16&255),e=aO(e,new Uint8Array(n)),e=aO(e,r)})),e},r="event";let n=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(kO("NEW_REPORT_SERVER_DOMAINS")[0],"&p=443&d=").concat(r):"https://".concat(kO("NEW_REPORT_SERVER_DOMAINS")[0],"/").concat(r);for(let i=0;i<2;i+=1){1===i&&(n=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(kO("NEW_REPORT_SERVER_DOMAINS")[1],"&p=443&d=").concat(r):"https://".concat(kO("NEW_REPORT_SERVER_DOMAINS")[1],"/").concat(r));try{await wO(n,{timeout:1e4,data:e(t),headers:oS(oS({biz:"webrtc",sendts:Math.round(Date.now()/1e3),debug:"false"},this._appId&&{appid:this._appId}),{},{"Content-Type":"application/octet-stream"})},!0)}catch(t){if(1===i)throw t;continue}return}}async postDataToStatsCollector(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=(t=>{const e=t&&t.data.sid&&this.baseInfoMap.get(t.data.sid);return e&&e.info.vid&&+e.info.vid||0})(t[0]),n=r?void 0:this._aid,i={msgType:"EventMessages",sentTs:Math.round(Date.now()/1e3),payloads:t.map((t=>JSON.stringify(t))),vid:r,aid:n};pO.networkState===lO.OFFLINE&&await xT.race([pO.onlineWaiter,OO(2*gO.maxRetryTimeout)]);const o=e?"/events/proto-raws":"/events/messages";let s=this.url||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(kO("EVENT_REPORT_DOMAIN"),"&p=").concat(kO("STATS_COLLECTOR_PORT"),"&d=").concat(o):"https://".concat(kO("EVENT_REPORT_DOMAIN"),":").concat(kO("STATS_COLLECTOR_PORT")).concat(o));for(let t=0;t<2;t+=1){1===t&&(s=this.backupUrl||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(kO("EVENT_REPORT_BACKUP_DOMAIN"),"&p=").concat(kO("STATS_COLLECTOR_PORT"),"&d=").concat(o):"https://".concat(kO("EVENT_REPORT_BACKUP_DOMAIN"),":").concat(kO("STATS_COLLECTOR_PORT")).concat(o)));try{e?await LO(s,{timeout:1e4,data:i}):await wO(s,{timeout:1e4,data:i})}catch(e){if(1===t)throw e;continue}return}}createBaseInfo(t,e){const r=Object.assign({},$O);return r.sid=t,this.baseInfoMap.set(t,{info:r,startTime:e}),r}reportResourceTiming(t,e){const r=performance.getEntriesByName(t),n=r[r.length-1];n&&this.reportApiInvoke(e,{name:"Client.resourceTiming",options:n,tag:EO.TRACER}).onSuccess()}}const aS=new sS;jO.on("REPORT_LOG_UPLOAD",(t=>{t.networkState=pO.networkState,aS.reportApiInvoke(null,{name:"logUploadError",options:t,tag:EO.TRACER}).onSuccess("logUploadError")}));t.AgoraEventUploadId=eS,t.AgoraLogger=XO,t.AgoraRTCError=class extends nO{constructor(t){super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",arguments.length>2?arguments[2]:void 0),_l(this,"name","AgoraRTCException")}print(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error";return super.print(t,JO)}throw(){super.throw(JO)}},t.AgoraRTCErrorCode=rO,t.AgoraRTCEvent=ZO,t.AgoraRTCEventReport=sS,t.AgoraRTCEventUploadType=tS,t.EVENT_BASE_TEMPLATE=$O,t.EventNameToID=rS,t.LOG_TYPE=QO,t.LOG_UPLOAD_STATE=qO,t.apiInvoke=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,r,n){const i=n.value;if("function"==typeof i){const o=t.className||e.__className__||("AgoraRTCClient"===e.constructor.name?"Client":e.constructor.name);n.value=function(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];let c=s;if(t.argsMap)try{c=t.argsMap(this,...s)}catch(t){JO.warning(t),c=[]}try{JSON.stringify(c)}catch(t){JO.warning("arguments for method ".concat(o,".").concat(String(r)," not serializable for apiInvoke.")),c=[]}const u=(t.report||aS).reportApiInvoke(this._sessionId||null,{id:this._clientId||(null===(e=this.store)||void 0===e?void 0:e.clientId)||this._ID,name:"".concat(o,".").concat(String(r)),options:c,tag:EO.TRACER,reportResult:t.reportResult},t.throttleTime);try{const e=i.apply(this,s);return e instanceof xT?e.then((e=>(u.onSuccess(t.reportResult&&e),e))).catch((t=>{throw u.onError(t),t})):(u.onSuccess(t.reportResult&&e),e)}catch(t){throw u.onError(t),t}}}return n}},t.isEventCustomReportParams=function(t){return iO(t.reportId,"params.reportId",0,100,!1),iO(t.category,"params.category",0,100,!1),iO(t.event,"params.event",0,100,!1),iO(t.label,"params.label",0,100,!1),function(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;if(t<r||t>n||(!(arguments.length>4&&void 0!==arguments[4])||arguments[4])&&!function(t){return"number"==typeof t&&t%1==0}(t))throw new nO(rO.INVALID_PARAMS,"invalid ".concat(e,": the value range is [").concat(r,", ").concat(n,"]. integer only"))}(t.value,"params.value",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,!1),!0},t.logReportBus=jO,t.logger=JO,t.report=aS}));
