/**
 * AgoraWebSDK_N-v4.24.2-0-g002485b1-dirty Copyright AgoraInc.
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).AgoraRTCShared={})}(this,(function(e){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var n=function(e){return e&&e.Math===Math&&e},i=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")(),o=function(e){try{return!!e()}catch(e){return!0}},s=!o((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),a=s,c=Function.prototype,u=c.apply,d=c.call,l="object"==typeof Reflect&&Reflect.apply||(a?d.bind(u):function(){return d.apply(u,arguments)}),E=s,p=Function.prototype,h=p.call,f=E&&p.bind.bind(h,h),_=E?f:function(e){return function(){return h.apply(e,arguments)}},m=_,T=m({}.toString),R=m("".slice),A=function(e){return R(T(e),8,-1)},S=A,O=_,I=function(e){if("Function"===S(e))return O(e)},b="object"==typeof document&&document.all,g=void 0===b&&void 0!==b?function(e){return"function"==typeof e||e===b}:function(e){return"function"==typeof e},N={},C=!o((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),y=s,w=Function.prototype.call,v=y?w.bind(w):function(){return w.apply(w,arguments)},D={},L={}.propertyIsEnumerable,P=Object.getOwnPropertyDescriptor,M=P&&!L.call({1:2},1);D.f=M?function(e){var t=P(this,e);return!!t&&t.enumerable}:L;var U,F,k=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},x=o,B=A,V=Object,j=_("".split),K=x((function(){return!V("z").propertyIsEnumerable(0)}))?function(e){return"String"===B(e)?j(e,""):V(e)}:V,G=function(e){return null==e},W=G,H=TypeError,Y=function(e){if(W(e))throw new H("Can't call method on "+e);return e},z=K,q=Y,J=function(e){return z(q(e))},X=g,Q=function(e){return"object"==typeof e?null!==e:X(e)},$={},Z=$,ee=i,te=g,re=function(e){return te(e)?e:void 0},ne=function(e,t){return arguments.length<2?re(Z[e])||re(ee[e]):Z[e]&&Z[e][t]||ee[e]&&ee[e][t]},ie=_({}.isPrototypeOf),oe=i.navigator,se=oe&&oe.userAgent,ae=se?String(se):"",ce=i,ue=ae,de=ce.process,le=ce.Deno,Ee=de&&de.versions||le&&le.version,pe=Ee&&Ee.v8;pe&&(F=(U=pe.split("."))[0]>0&&U[0]<4?1:+(U[0]+U[1])),!F&&ue&&(!(U=ue.match(/Edge\/(\d+)/))||U[1]>=74)&&(U=ue.match(/Chrome\/(\d+)/))&&(F=+U[1]);var he=F,fe=he,_e=o,me=i.String,Te=!!Object.getOwnPropertySymbols&&!_e((function(){var e=Symbol("symbol detection");return!me(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&fe&&fe<41})),Re=Te&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ae=ne,Se=g,Oe=ie,Ie=Object,be=Re?function(e){return"symbol"==typeof e}:function(e){var t=Ae("Symbol");return Se(t)&&Oe(t.prototype,Ie(e))},ge=String,Ne=function(e){try{return ge(e)}catch(e){return"Object"}},Ce=g,ye=Ne,we=TypeError,ve=function(e){if(Ce(e))return e;throw new we(ye(e)+" is not a function")},De=ve,Le=G,Pe=function(e,t){var r=e[t];return Le(r)?void 0:De(r)},Me=v,Ue=g,Fe=Q,ke=TypeError,xe={exports:{}},Be=i,Ve=Object.defineProperty,je=i,Ke=function(e,t){try{Ve(Be,e,{value:t,configurable:!0,writable:!0})}catch(r){Be[e]=t}return t},Ge="__core-js_shared__",We=xe.exports=je[Ge]||Ke(Ge,{});(We.versions||(We.versions=[])).push({version:"3.46.0",mode:"pure",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.46.0/LICENSE",source:"https://github.com/zloirock/core-js"});var He=xe.exports,Ye=He,ze=function(e,t){return Ye[e]||(Ye[e]=t||{})},qe=Y,Je=Object,Xe=function(e){return Je(qe(e))},Qe=Xe,$e=_({}.hasOwnProperty),Ze=Object.hasOwn||function(e,t){return $e(Qe(e),t)},et=_,tt=0,rt=Math.random(),nt=et(1.1.toString),it=function(e){return"Symbol("+(void 0===e?"":e)+")_"+nt(++tt+rt,36)},ot=ze,st=Ze,at=it,ct=Te,ut=Re,dt=i.Symbol,lt=ot("wks"),Et=ut?dt.for||dt:dt&&dt.withoutSetter||at,pt=function(e){return st(lt,e)||(lt[e]=ct&&st(dt,e)?dt[e]:Et("Symbol."+e)),lt[e]},ht=v,ft=Q,_t=be,mt=Pe,Tt=function(e,t){var r,n;if("string"===t&&Ue(r=e.toString)&&!Fe(n=Me(r,e)))return n;if(Ue(r=e.valueOf)&&!Fe(n=Me(r,e)))return n;if("string"!==t&&Ue(r=e.toString)&&!Fe(n=Me(r,e)))return n;throw new ke("Can't convert object to primitive value")},Rt=TypeError,At=pt("toPrimitive"),St=function(e,t){if(!ft(e)||_t(e))return e;var r,n=mt(e,At);if(n){if(void 0===t&&(t="default"),r=ht(n,e,t),!ft(r)||_t(r))return r;throw new Rt("Can't convert object to primitive value")}return void 0===t&&(t="number"),Tt(e,t)},Ot=be,It=function(e){var t=St(e,"string");return Ot(t)?t:t+""},bt=Q,gt=i.document,Nt=bt(gt)&&bt(gt.createElement),Ct=function(e){return Nt?gt.createElement(e):{}},yt=Ct,wt=!C&&!o((function(){return 7!==Object.defineProperty(yt("div"),"a",{get:function(){return 7}}).a})),vt=C,Dt=v,Lt=D,Pt=k,Mt=J,Ut=It,Ft=Ze,kt=wt,xt=Object.getOwnPropertyDescriptor;N.f=vt?xt:function(e,t){if(e=Mt(e),t=Ut(t),kt)try{return xt(e,t)}catch(e){}if(Ft(e,t))return Pt(!Dt(Lt.f,e,t),e[t])};var Bt=o,Vt=g,jt=/#|\.prototype\./,Kt=function(e,t){var r=Wt[Gt(e)];return r===Yt||r!==Ht&&(Vt(t)?Bt(t):!!t)},Gt=Kt.normalize=function(e){return String(e).replace(jt,".").toLowerCase()},Wt=Kt.data={},Ht=Kt.NATIVE="N",Yt=Kt.POLYFILL="P",zt=Kt,qt=ve,Jt=s,Xt=I(I.bind),Qt=function(e,t){return qt(e),void 0===t?e:Jt?Xt(e,t):function(){return e.apply(t,arguments)}},$t={},Zt=C&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),er=Q,tr=String,rr=TypeError,nr=function(e){if(er(e))return e;throw new rr(tr(e)+" is not an object")},ir=C,or=wt,sr=Zt,ar=nr,cr=It,ur=TypeError,dr=Object.defineProperty,lr=Object.getOwnPropertyDescriptor,Er="enumerable",pr="configurable",hr="writable";$t.f=ir?sr?function(e,t,r){if(ar(e),t=cr(t),ar(r),"function"==typeof e&&"prototype"===t&&"value"in r&&hr in r&&!r[hr]){var n=lr(e,t);n&&n[hr]&&(e[t]=r.value,r={configurable:pr in r?r[pr]:n[pr],enumerable:Er in r?r[Er]:n[Er],writable:!1})}return dr(e,t,r)}:dr:function(e,t,r){if(ar(e),t=cr(t),ar(r),or)try{return dr(e,t,r)}catch(e){}if("get"in r||"set"in r)throw new ur("Accessors not supported");return"value"in r&&(e[t]=r.value),e};var fr=$t,_r=k,mr=C?function(e,t,r){return fr.f(e,t,_r(1,r))}:function(e,t,r){return e[t]=r,e},Tr=i,Rr=l,Ar=I,Sr=g,Or=N.f,Ir=zt,br=$,gr=Qt,Nr=mr,Cr=Ze,yr=function(e){var t=function(r,n,i){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(r);case 2:return new e(r,n)}return new e(r,n,i)}return Rr(e,this,arguments)};return t.prototype=e.prototype,t},wr=function(e,t){var r,n,i,o,s,a,c,u,d,l=e.target,E=e.global,p=e.stat,h=e.proto,f=E?Tr:p?Tr[l]:Tr[l]&&Tr[l].prototype,_=E?br:br[l]||Nr(br,l,{})[l],m=_.prototype;for(o in t)n=!(r=Ir(E?o:l+(p?".":"#")+o,e.forced))&&f&&Cr(f,o),a=_[o],n&&(c=e.dontCallGetSet?(d=Or(f,o))&&d.value:f[o]),s=n&&c?c:t[o],(r||h||typeof a!=typeof s)&&(u=e.bind&&n?gr(s,Tr):e.wrap&&n?yr(s):h&&Sr(s)?Ar(s):s,(e.sham||s&&s.sham||a&&a.sham)&&Nr(u,"sham",!0),Nr(_,o,u),h&&(Cr(br,i=l+"Prototype")||Nr(br,i,{}),Nr(br[i],o,s),e.real&&m&&(r||!m[o])&&Nr(m,o,s)))},vr=it,Dr=ze("keys"),Lr=function(e){return Dr[e]||(Dr[e]=vr(e))},Pr=!o((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Mr=Ze,Ur=g,Fr=Xe,kr=Pr,xr=Lr("IE_PROTO"),Br=Object,Vr=Br.prototype,jr=kr?Br.getPrototypeOf:function(e){var t=Fr(e);if(Mr(t,xr))return t[xr];var r=t.constructor;return Ur(r)&&t instanceof r?r.prototype:t instanceof Br?Vr:null},Kr=_,Gr=ve,Wr=Q,Hr=function(e){return Wr(e)||null===e},Yr=String,zr=TypeError,qr=function(e,t,r){try{return Kr(Gr(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}},Jr=Q,Xr=Y,Qr=function(e){if(Hr(e))return e;throw new zr("Can't set "+Yr(e)+" as a prototype")},$r=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=qr(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return Xr(r),Qr(n),Jr(r)?(t?e(r,n):r.__proto__=n,r):r}}():void 0),Zr={},en=Math.ceil,tn=Math.floor,rn=Math.trunc||function(e){var t=+e;return(t>0?tn:en)(t)},nn=function(e){var t=+e;return t!=t||0===t?0:rn(t)},on=nn,sn=Math.max,an=Math.min,cn=nn,un=Math.min,dn=function(e){var t=cn(e);return t>0?un(t,9007199254740991):0},ln=function(e){return dn(e.length)},En=J,pn=function(e,t){var r=on(e);return r<0?sn(r+t,0):an(r,t)},hn=ln,fn=function(e){return function(t,r,n){var i=En(t),o=hn(i);if(0===o)return!e&&-1;var s,a=pn(n,o);if(e&&r!=r){for(;o>a;)if((s=i[a++])!=s)return!0}else for(;o>a;a++)if((e||a in i)&&i[a]===r)return e||a||0;return!e&&-1}},_n={includes:fn(!0),indexOf:fn(!1)},mn={},Tn=Ze,Rn=J,An=_n.indexOf,Sn=mn,On=_([].push),In=function(e,t){var r,n=Rn(e),i=0,o=[];for(r in n)!Tn(Sn,r)&&Tn(n,r)&&On(o,r);for(;t.length>i;)Tn(n,r=t[i++])&&(~An(o,r)||On(o,r));return o},bn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],gn=In,Nn=bn.concat("length","prototype");Zr.f=Object.getOwnPropertyNames||function(e){return gn(e,Nn)};var Cn={};Cn.f=Object.getOwnPropertySymbols;var yn=ne,wn=Zr,vn=Cn,Dn=nr,Ln=_([].concat),Pn=yn("Reflect","ownKeys")||function(e){var t=wn.f(Dn(e)),r=vn.f;return r?Ln(t,r(e)):t},Mn=Ze,Un=Pn,Fn=N,kn=$t,xn={},Bn=In,Vn=bn,jn=Object.keys||function(e){return Bn(e,Vn)},Kn=C,Gn=Zt,Wn=$t,Hn=nr,Yn=J,zn=jn;xn.f=Kn&&!Gn?Object.defineProperties:function(e,t){Hn(e);for(var r,n=Yn(t),i=zn(t),o=i.length,s=0;o>s;)Wn.f(e,r=i[s++],n[r]);return e};var qn,Jn=ne("document","documentElement"),Xn=nr,Qn=xn,$n=bn,Zn=mn,ei=Jn,ti=Ct,ri="prototype",ni="script",ii=Lr("IE_PROTO"),oi=function(){},si=function(e){return"<"+ni+">"+e+"</"+ni+">"},ai=function(e){e.write(si("")),e.close();var t=e.parentWindow.Object;return e=null,t},ci=function(){try{qn=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;ci="undefined"!=typeof document?document.domain&&qn?ai(qn):(t=ti("iframe"),r="java"+ni+":",t.style.display="none",ei.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(si("document.F=Object")),e.close(),e.F):ai(qn);for(var n=$n.length;n--;)delete ci[ri][$n[n]];return ci()};Zn[ii]=!0;var ui=Object.create||function(e,t){var r;return null!==e?(oi[ri]=Xn(e),r=new oi,oi[ri]=null,r[ii]=e):r=ci(),void 0===t?r:Qn.f(r,t)},di=Q,li=mr,Ei=Error,pi=_("".replace),hi=String(new Ei("zxcasd").stack),fi=/\n\s*at [^:]*:[^\n]*/,_i=fi.test(hi),mi=k,Ti=!o((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",mi(1,7)),7!==e.stack)})),Ri=mr,Ai=function(e,t){if(_i&&"string"==typeof e&&!Ei.prepareStackTrace)for(;t--;)e=pi(e,fi,"");return e},Si=Ti,Oi=Error.captureStackTrace,Ii={},bi=Ii,gi=pt("iterator"),Ni=Array.prototype,Ci={};Ci[pt("toStringTag")]="z";var yi="[object z]"===String(Ci),wi=yi,vi=g,Di=A,Li=pt("toStringTag"),Pi=Object,Mi="Arguments"===Di(function(){return arguments}()),Ui=wi?Di:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Pi(e),Li))?r:Mi?Di(t):"Object"===(n=Di(t))&&vi(t.callee)?"Arguments":n},Fi=Ui,ki=Pe,xi=G,Bi=Ii,Vi=pt("iterator"),ji=function(e){if(!xi(e))return ki(e,Vi)||ki(e,"@@iterator")||Bi[Fi(e)]},Ki=v,Gi=ve,Wi=nr,Hi=Ne,Yi=ji,zi=TypeError,qi=v,Ji=nr,Xi=Pe,Qi=Qt,$i=v,Zi=nr,eo=Ne,to=function(e){return void 0!==e&&(bi.Array===e||Ni[gi]===e)},ro=ln,no=ie,io=function(e,t){var r=arguments.length<2?Yi(e):t;if(Gi(r))return Wi(Ki(r,e));throw new zi(Hi(e)+" is not iterable")},oo=ji,so=function(e,t,r){var n,i;Ji(e);try{if(!(n=Xi(e,"return"))){if("throw"===t)throw r;return r}n=qi(n,e)}catch(e){i=!0,n=e}if("throw"===t)throw r;if(i)throw n;return Ji(n),r},ao=TypeError,co=function(e,t){this.stopped=e,this.result=t},uo=co.prototype,lo=function(e,t,r){var n,i,o,s,a,c,u,d=r&&r.that,l=!(!r||!r.AS_ENTRIES),E=!(!r||!r.IS_RECORD),p=!(!r||!r.IS_ITERATOR),h=!(!r||!r.INTERRUPTED),f=Qi(t,d),_=function(e){return n&&so(n,"normal"),new co(!0,e)},m=function(e){return l?(Zi(e),h?f(e[0],e[1],_):f(e[0],e[1])):h?f(e,_):f(e)};if(E)n=e.iterator;else if(p)n=e;else{if(!(i=oo(e)))throw new ao(eo(e)+" is not iterable");if(to(i)){for(o=0,s=ro(e);s>o;o++)if((a=m(e[o]))&&no(uo,a))return a;return new co(!1)}n=io(e,i)}for(c=E?e.next:n.next;!(u=$i(c,n)).done;){try{a=m(u.value)}catch(e){so(n,"throw",e)}if("object"==typeof a&&a&&no(uo,a))return a}return new co(!1)},Eo=Ui,po=String,ho=function(e){if("Symbol"===Eo(e))throw new TypeError("Cannot convert a Symbol value to a string");return po(e)},fo=ho,_o=wr,mo=ie,To=jr,Ro=$r,Ao=function(e,t,r){for(var n=Un(t),i=kn.f,o=Fn.f,s=0;s<n.length;s++){var a=n[s];Mn(e,a)||r&&Mn(r,a)||i(e,a,o(t,a))}},So=ui,Oo=mr,Io=k,bo=function(e,t){di(t)&&"cause"in t&&li(e,"cause",t.cause)},go=function(e,t,r,n){Si&&(Oi?Oi(e,t):Ri(e,"stack",Ai(r,n)))},No=lo,Co=function(e,t){return void 0===e?arguments.length<2?"":t:fo(e)},yo=pt("toStringTag"),wo=Error,vo=[].push,Do=function(e,t){var r,n=mo(Lo,this);Ro?r=Ro(new wo,n?To(this):Lo):(r=n?this:So(Lo),Oo(r,yo,"Error")),void 0!==t&&Oo(r,"message",Co(t)),go(r,Do,r.stack,1),arguments.length>2&&bo(r,arguments[2]);var i=[];return No(e,vo,{that:i}),Oo(r,"errors",i),r};Ro?Ro(Do,wo):Ao(Do,wo,{name:!0});var Lo=Do.prototype=So(wo.prototype,{constructor:Io(1,Do),message:Io(1,""),name:Io(1,"AggregateError")});_o({global:!0,constructor:!0,arity:2},{AggregateError:Do});var Po,Mo,Uo,Fo=g,ko=i.WeakMap,xo=Fo(ko)&&/native code/.test(String(ko)),Bo=i,Vo=Q,jo=mr,Ko=Ze,Go=He,Wo=Lr,Ho=mn,Yo="Object already initialized",zo=Bo.TypeError,qo=Bo.WeakMap;if(xo||Go.state){var Jo=Go.state||(Go.state=new qo);Jo.get=Jo.get,Jo.has=Jo.has,Jo.set=Jo.set,Po=function(e,t){if(Jo.has(e))throw new zo(Yo);return t.facade=e,Jo.set(e,t),t},Mo=function(e){return Jo.get(e)||{}},Uo=function(e){return Jo.has(e)}}else{var Xo=Wo("state");Ho[Xo]=!0,Po=function(e,t){if(Ko(e,Xo))throw new zo(Yo);return t.facade=e,jo(e,Xo,t),t},Mo=function(e){return Ko(e,Xo)?e[Xo]:{}},Uo=function(e){return Ko(e,Xo)}}var Qo,$o,Zo,es={set:Po,get:Mo,has:Uo,enforce:function(e){return Uo(e)?Mo(e):Po(e,{})},getterFor:function(e){return function(t){var r;if(!Vo(t)||(r=Mo(t)).type!==e)throw new zo("Incompatible receiver, "+e+" required");return r}}},ts=C,rs=Ze,ns=Function.prototype,is=ts&&Object.getOwnPropertyDescriptor,os=rs(ns,"name"),ss={EXISTS:os,PROPER:os&&"something"===function(){}.name,CONFIGURABLE:os&&(!ts||ts&&is(ns,"name").configurable)},as=mr,cs=function(e,t,r,n){return n&&n.enumerable?e[t]=r:as(e,t,r),e},us=o,ds=g,ls=Q,Es=ui,ps=jr,hs=cs,fs=pt("iterator"),_s=!1;[].keys&&("next"in(Zo=[].keys())?($o=ps(ps(Zo)))!==Object.prototype&&(Qo=$o):_s=!0);var ms=!ls(Qo)||us((function(){var e={};return Qo[fs].call(e)!==e}));ds((Qo=ms?{}:Es(Qo))[fs])||hs(Qo,fs,(function(){return this}));var Ts={IteratorPrototype:Qo,BUGGY_SAFARI_ITERATORS:_s},Rs=Ui,As=yi?{}.toString:function(){return"[object "+Rs(this)+"]"},Ss=yi,Os=$t.f,Is=mr,bs=Ze,gs=As,Ns=pt("toStringTag"),Cs=function(e,t,r,n){var i=r?e:e&&e.prototype;i&&(bs(i,Ns)||Os(i,Ns,{configurable:!0,value:t}),n&&!Ss&&Is(i,"toString",gs))},ys=Ts.IteratorPrototype,ws=ui,vs=k,Ds=Cs,Ls=Ii,Ps=function(){return this},Ms=wr,Us=v,Fs=ss,ks=function(e,t,r,n){var i=t+" Iterator";return e.prototype=ws(ys,{next:vs(+!n,r)}),Ds(e,i,!1,!0),Ls[i]=Ps,e},xs=jr,Bs=Cs,Vs=cs,js=Ii,Ks=Ts,Gs=Fs.PROPER,Ws=Ks.BUGGY_SAFARI_ITERATORS,Hs=pt("iterator"),Ys="keys",zs="values",qs="entries",Js=function(){return this},Xs=function(e,t,r,n,i,o,s){ks(r,t,n);var a,c,u,d=function(e){if(e===i&&f)return f;if(!Ws&&e&&e in p)return p[e];switch(e){case Ys:case zs:case qs:return function(){return new r(this,e)}}return function(){return new r(this)}},l=t+" Iterator",E=!1,p=e.prototype,h=p[Hs]||p["@@iterator"]||i&&p[i],f=!Ws&&h||d(i),_="Array"===t&&p.entries||h;if(_&&(a=xs(_.call(new e)))!==Object.prototype&&a.next&&(Bs(a,l,!0,!0),js[l]=Js),Gs&&i===zs&&h&&h.name!==zs&&(E=!0,f=function(){return Us(h,this)}),i)if(c={values:d(zs),keys:o?f:d(Ys),entries:d(qs)},s)for(u in c)(Ws||E||!(u in p))&&Vs(p,u,c[u]);else Ms({target:t,proto:!0,forced:Ws||E},c);return s&&p[Hs]!==f&&Vs(p,Hs,f,{name:i}),js[t]=f,c},Qs=function(e,t){return{value:e,done:t}},$s=J,Zs=Ii,ea=es;$t.f;var ta=Xs,ra=Qs,na="Array Iterator",ia=ea.set,oa=ea.getterFor(na);ta(Array,"Array",(function(e,t){ia(this,{type:na,target:$s(e),index:0,kind:t})}),(function(){var e=oa(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=null,ra(void 0,!0);switch(e.kind){case"keys":return ra(r,!1);case"values":return ra(t[r],!1)}return ra([r,t[r]],!1)}),"values"),Zs.Arguments=Zs.Array;var sa=i,aa=ae,ca=A,ua=function(e){return aa.slice(0,e.length)===e},da=ua("Bun/")?"BUN":ua("Cloudflare-Workers")?"CLOUDFLARE":ua("Deno/")?"DENO":ua("Node.js/")?"NODE":sa.Bun&&"string"==typeof Bun.version?"BUN":sa.Deno&&"object"==typeof Deno.version?"DENO":"process"===ca(sa.process)?"NODE":sa.window&&sa.document?"BROWSER":"REST",la="NODE"===da,Ea=$t,pa=function(e,t,r){return Ea.f(e,t,r)},ha=ne,fa=pa,_a=C,ma=pt("species"),Ta=ie,Ra=TypeError,Aa=g,Sa=He,Oa=_(Function.toString);Aa(Sa.inspectSource)||(Sa.inspectSource=function(e){return Oa(e)});var Ia=Sa.inspectSource,ba=_,ga=o,Na=g,Ca=Ui,ya=Ia,wa=function(){},va=ne("Reflect","construct"),Da=/^\s*(?:class|function)\b/,La=ba(Da.exec),Pa=!Da.test(wa),Ma=function(e){if(!Na(e))return!1;try{return va(wa,[],e),!0}catch(e){return!1}},Ua=function(e){if(!Na(e))return!1;switch(Ca(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Pa||!!La(Da,ya(e))}catch(e){return!0}};Ua.sham=!0;var Fa,ka,xa,Ba,Va=!va||ga((function(){var e;return Ma(Ma.call)||!Ma(Object)||!Ma((function(){e=!0}))||e}))?Ua:Ma,ja=Va,Ka=Ne,Ga=TypeError,Wa=nr,Ha=function(e){if(ja(e))return e;throw new Ga(Ka(e)+" is not a constructor")},Ya=G,za=pt("species"),qa=function(e,t){var r,n=Wa(e).constructor;return void 0===n||Ya(r=Wa(n)[za])?t:Ha(r)},Ja=_([].slice),Xa=TypeError,Qa=/(?:ipad|iphone|ipod).*applewebkit/i.test(ae),$a=i,Za=l,ec=Qt,tc=g,rc=Ze,nc=o,ic=Jn,oc=Ja,sc=Ct,ac=function(e,t){if(e<t)throw new Xa("Not enough arguments");return e},cc=Qa,uc=la,dc=$a.setImmediate,lc=$a.clearImmediate,Ec=$a.process,pc=$a.Dispatch,hc=$a.Function,fc=$a.MessageChannel,_c=$a.String,mc=0,Tc={},Rc="onreadystatechange";nc((function(){Fa=$a.location}));var Ac=function(e){if(rc(Tc,e)){var t=Tc[e];delete Tc[e],t()}},Sc=function(e){return function(){Ac(e)}},Oc=function(e){Ac(e.data)},Ic=function(e){$a.postMessage(_c(e),Fa.protocol+"//"+Fa.host)};dc&&lc||(dc=function(e){ac(arguments.length,1);var t=tc(e)?e:hc(e),r=oc(arguments,1);return Tc[++mc]=function(){Za(t,void 0,r)},ka(mc),mc},lc=function(e){delete Tc[e]},uc?ka=function(e){Ec.nextTick(Sc(e))}:pc&&pc.now?ka=function(e){pc.now(Sc(e))}:fc&&!cc?(Ba=(xa=new fc).port2,xa.port1.onmessage=Oc,ka=ec(Ba.postMessage,Ba)):$a.addEventListener&&tc($a.postMessage)&&!$a.importScripts&&Fa&&"file:"!==Fa.protocol&&!nc(Ic)?(ka=Ic,$a.addEventListener("message",Oc,!1)):ka=Rc in sc("script")?function(e){ic.appendChild(sc("script"))[Rc]=function(){ic.removeChild(this),Ac(e)}}:function(e){setTimeout(Sc(e),0)});var bc={set:dc,clear:lc},gc=i,Nc=C,Cc=Object.getOwnPropertyDescriptor,yc=function(){this.head=null,this.tail=null};yc.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}};var wc,vc,Dc,Lc,Pc,Mc=yc,Uc=/ipad|iphone|ipod/i.test(ae)&&"undefined"!=typeof Pebble,Fc=/web0s(?!.*chrome)/i.test(ae),kc=i,xc=function(e){if(!Nc)return gc[e];var t=Cc(gc,e);return t&&t.value},Bc=Qt,Vc=bc.set,jc=Mc,Kc=Qa,Gc=Uc,Wc=Fc,Hc=la,Yc=kc.MutationObserver||kc.WebKitMutationObserver,zc=kc.document,qc=kc.process,Jc=kc.Promise,Xc=xc("queueMicrotask");if(!Xc){var Qc=new jc,$c=function(){var e,t;for(Hc&&(e=qc.domain)&&e.exit();t=Qc.get();)try{t()}catch(e){throw Qc.head&&wc(),e}e&&e.enter()};Kc||Hc||Wc||!Yc||!zc?!Gc&&Jc&&Jc.resolve?((Lc=Jc.resolve(void 0)).constructor=Jc,Pc=Bc(Lc.then,Lc),wc=function(){Pc($c)}):Hc?wc=function(){qc.nextTick($c)}:(Vc=Bc(Vc,kc),wc=function(){Vc($c)}):(vc=!0,Dc=zc.createTextNode(""),new Yc($c).observe(Dc,{characterData:!0}),wc=function(){Dc.data=vc=!vc}),Xc=function(e){Qc.head||wc(),Qc.add(e)}}var Zc=Xc,eu=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},tu=i.Promise,ru=i,nu=tu,iu=g,ou=zt,su=Ia,au=pt,cu=da,uu=he,du=nu&&nu.prototype,lu=au("species"),Eu=!1,pu=iu(ru.PromiseRejectionEvent),hu=ou("Promise",(function(){var e=su(nu),t=e!==String(nu);if(!t&&66===uu)return!0;if(!du.catch||!du.finally)return!0;if(!uu||uu<51||!/native code/.test(e)){var r=new nu((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((r.constructor={})[lu]=n,!(Eu=r.then((function(){}))instanceof n))return!0}return!(t||"BROWSER"!==cu&&"DENO"!==cu||pu)})),fu={CONSTRUCTOR:hu,REJECTION_EVENT:pu,SUBCLASSING:Eu},_u={},mu=ve,Tu=TypeError,Ru=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw new Tu("Bad Promise constructor");t=e,r=n})),this.resolve=mu(t),this.reject=mu(r)};_u.f=function(e){return new Ru(e)};var Au,Su,Ou,Iu=wr,bu=la,gu=i,Nu=$,Cu=v,yu=cs,wu=Cs,vu=function(e){var t=ha(e);_a&&t&&!t[ma]&&fa(t,ma,{configurable:!0,get:function(){return this}})},Du=ve,Lu=g,Pu=Q,Mu=function(e,t){if(Ta(t,e))return e;throw new Ra("Incorrect invocation")},Uu=qa,Fu=bc.set,ku=Zc,xu=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}},Bu=eu,Vu=Mc,ju=es,Ku=tu,Gu=fu,Wu=_u,Hu="Promise",Yu=Gu.CONSTRUCTOR,zu=Gu.REJECTION_EVENT,qu=ju.getterFor(Hu),Ju=ju.set,Xu=Ku&&Ku.prototype,Qu=Ku,$u=Xu,Zu=gu.TypeError,ed=gu.document,td=gu.process,rd=Wu.f,nd=rd,id=!!(ed&&ed.createEvent&&gu.dispatchEvent),od="unhandledrejection",sd=function(e){var t;return!(!Pu(e)||!Lu(t=e.then))&&t},ad=function(e,t){var r,n,i,o=t.value,s=1===t.state,a=s?e.ok:e.fail,c=e.resolve,u=e.reject,d=e.domain;try{a?(s||(2===t.rejection&&Ed(t),t.rejection=1),!0===a?r=o:(d&&d.enter(),r=a(o),d&&(d.exit(),i=!0)),r===e.promise?u(new Zu("Promise-chain cycle")):(n=sd(r))?Cu(n,r,c,u):c(r)):u(o)}catch(e){d&&!i&&d.exit(),u(e)}},cd=function(e,t){e.notified||(e.notified=!0,ku((function(){for(var r,n=e.reactions;r=n.get();)ad(r,e);e.notified=!1,t&&!e.rejection&&dd(e)})))},ud=function(e,t,r){var n,i;id?((n=ed.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),gu.dispatchEvent(n)):n={promise:t,reason:r},!zu&&(i=gu["on"+e])?i(n):e===od&&xu("Unhandled promise rejection",r)},dd=function(e){Cu(Fu,gu,(function(){var t,r=e.facade,n=e.value;if(ld(e)&&(t=Bu((function(){bu?td.emit("unhandledRejection",n,r):ud(od,r,n)})),e.rejection=bu||ld(e)?2:1,t.error))throw t.value}))},ld=function(e){return 1!==e.rejection&&!e.parent},Ed=function(e){Cu(Fu,gu,(function(){var t=e.facade;bu?td.emit("rejectionHandled",t):ud("rejectionhandled",t,e.value)}))},pd=function(e,t,r){return function(n){e(t,n,r)}},hd=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,cd(e,!0))},fd=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new Zu("Promise can't be resolved itself");var n=sd(t);n?ku((function(){var r={done:!1};try{Cu(n,t,pd(fd,r,e),pd(hd,r,e))}catch(t){hd(r,t,e)}})):(e.value=t,e.state=1,cd(e,!1))}catch(t){hd({done:!1},t,e)}}};Yu&&($u=(Qu=function(e){Mu(this,$u),Du(e),Cu(Au,this);var t=qu(this);try{e(pd(fd,t),pd(hd,t))}catch(e){hd(t,e)}}).prototype,(Au=function(e){Ju(this,{type:Hu,done:!1,notified:!1,parent:!1,reactions:new Vu,rejection:!1,state:0,value:null})}).prototype=yu($u,"then",(function(e,t){var r=qu(this),n=rd(Uu(this,Qu));return r.parent=!0,n.ok=!Lu(e)||e,n.fail=Lu(t)&&t,n.domain=bu?td.domain:void 0,0===r.state?r.reactions.add(n):ku((function(){ad(n,r)})),n.promise})),Su=function(){var e=new Au,t=qu(e);this.promise=e,this.resolve=pd(fd,t),this.reject=pd(hd,t)},Wu.f=rd=function(e){return e===Qu||e===Ou?new Su(e):nd(e)}),Iu({global:!0,constructor:!0,wrap:!0,forced:Yu},{Promise:Qu}),Ou=Nu.Promise,wu(Qu,Hu,!1,!0),vu(Hu);var _d=pt("iterator"),md=!1;try{var Td=0,Rd={next:function(){return{done:!!Td++}},return:function(){md=!0}};Rd[_d]=function(){return this},Array.from(Rd,(function(){throw 2}))}catch(e){}var Ad=tu,Sd=function(e,t){try{if(!t&&!md)return!1}catch(e){return!1}var r=!1;try{var n={};n[_d]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(e){}return r},Od=fu.CONSTRUCTOR||!Sd((function(e){Ad.all(e).then(void 0,(function(){}))})),Id=v,bd=ve,gd=_u,Nd=eu,Cd=lo;wr({target:"Promise",stat:!0,forced:Od},{all:function(e){var t=this,r=gd.f(t),n=r.resolve,i=r.reject,o=Nd((function(){var r=bd(t.resolve),o=[],s=0,a=1;Cd(e,(function(e){var c=s++,u=!1;a++,Id(r,t,e).then((function(e){u||(u=!0,o[c]=e,--a||n(o))}),i)})),--a||n(o)}));return o.error&&i(o.value),r.promise}});var yd=wr,wd=fu.CONSTRUCTOR;tu&&tu.prototype,yd({target:"Promise",proto:!0,forced:wd,real:!0},{catch:function(e){return this.then(void 0,e)}});var vd=v,Dd=ve,Ld=_u,Pd=eu,Md=lo;wr({target:"Promise",stat:!0,forced:Od},{race:function(e){var t=this,r=Ld.f(t),n=r.reject,i=Pd((function(){var i=Dd(t.resolve);Md(e,(function(e){vd(i,t,e).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}});var Ud=_u;wr({target:"Promise",stat:!0,forced:fu.CONSTRUCTOR},{reject:function(e){var t=Ud.f(this);return(0,t.reject)(e),t.promise}});var Fd=nr,kd=Q,xd=_u,Bd=function(e,t){if(Fd(e),kd(t)&&t.constructor===e)return t;var r=xd.f(e);return(0,r.resolve)(t),r.promise},Vd=wr,jd=tu,Kd=fu.CONSTRUCTOR,Gd=Bd,Wd=ne("Promise"),Hd=!Kd;Vd({target:"Promise",stat:!0,forced:true},{resolve:function(e){return Gd(Hd&&this===Wd?jd:this,e)}});var Yd=v,zd=ve,qd=_u,Jd=eu,Xd=lo;wr({target:"Promise",stat:!0,forced:Od},{allSettled:function(e){var t=this,r=qd.f(t),n=r.resolve,i=r.reject,o=Jd((function(){var r=zd(t.resolve),i=[],o=0,s=1;Xd(e,(function(e){var a=o++,c=!1;s++,Yd(r,t,e).then((function(e){c||(c=!0,i[a]={status:"fulfilled",value:e},--s||n(i))}),(function(e){c||(c=!0,i[a]={status:"rejected",reason:e},--s||n(i))}))})),--s||n(i)}));return o.error&&i(o.value),r.promise}});var Qd=v,$d=ve,Zd=ne,el=_u,tl=eu,rl=lo,nl="No one promise resolved";wr({target:"Promise",stat:!0,forced:Od},{any:function(e){var t=this,r=Zd("AggregateError"),n=el.f(t),i=n.resolve,o=n.reject,s=tl((function(){var n=$d(t.resolve),s=[],a=0,c=1,u=!1;rl(e,(function(e){var d=a++,l=!1;c++,Qd(n,t,e).then((function(e){l||u||(u=!0,i(e))}),(function(e){l||u||(l=!0,s[d]=e,--c||o(new r(s,nl)))}))})),--c||o(new r(s,nl))}));return s.error&&o(s.value),n.promise}});var il=wr,ol=l,sl=Ja,al=_u,cl=ve,ul=eu,dl=i.Promise,ll=!1;il({target:"Promise",stat:!0,forced:!dl||!dl.try||ul((function(){dl.try((function(e){ll=8===e}),8)})).error||!ll},{try:function(e){var t=arguments.length>1?sl(arguments,1):[],r=al.f(this),n=ul((function(){return ol(cl(e),void 0,t)}));return(n.error?r.reject:r.resolve)(n.value),r.promise}});var El=_u;wr({target:"Promise",stat:!0},{withResolvers:function(){var e=El.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}});var pl=wr,hl=tu,fl=o,_l=ne,ml=g,Tl=qa,Rl=Bd,Al=hl&&hl.prototype;pl({target:"Promise",proto:!0,real:!0,forced:!!hl&&fl((function(){Al.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=Tl(this,_l("Promise")),r=ml(e);return this.then(r?function(r){return Rl(t,e()).then((function(){return r}))}:e,r?function(r){return Rl(t,e()).then((function(){throw r}))}:e)}});var Sl=_,Ol=nn,Il=ho,bl=Y,gl=Sl("".charAt),Nl=Sl("".charCodeAt),Cl=Sl("".slice),yl=function(e){return function(t,r){var n,i,o=Il(bl(t)),s=Ol(r),a=o.length;return s<0||s>=a?e?"":void 0:(n=Nl(o,s))<55296||n>56319||s+1===a||(i=Nl(o,s+1))<56320||i>57343?e?gl(o,s):n:e?Cl(o,s,s+2):i-56320+(n-55296<<10)+65536}},wl={codeAt:yl(!1),charAt:yl(!0)}.charAt,vl=ho,Dl=es,Ll=Xs,Pl=Qs,Ml="String Iterator",Ul=Dl.set,Fl=Dl.getterFor(Ml);Ll(String,"String",(function(e){Ul(this,{type:Ml,string:vl(e),index:0})}),(function(){var e,t=Fl(this),r=t.string,n=t.index;return n>=r.length?Pl(void 0,!0):(e=wl(r,n),t.index+=e.length,Pl(e,!1))}));var kl=$.Promise,xl={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Bl=i,Vl=Cs,jl=Ii;for(var Kl in xl)Vl(Bl[Kl],Kl),jl[Kl]=jl.Array;var Gl=r(kl);const Wl=()=>{};function Hl(){const e={promise:void 0,isResolved:!1,isRejected:!1,isFinished:!1,resolve:void 0,reject:void 0,cancel:Wl};return e.promise=new Gl(((t,r)=>{e.resolve=r=>{e.isFinished||(e.isResolved=!0,e.isFinished=!0,t(r),e.value=r)},e.reject=t=>{e.isFinished||(e.isRejected=!0,e.isFinished=!0,r(t))}})),e}const Yl=new Map,zl=new Map,ql=new Map;var Jl=_n.includes;wr({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(e){return Jl(this,e,arguments.length>1?arguments[1]:void 0)}});var Xl=i,Ql=$,$l=function(e,t){var r=Ql[e+"Prototype"],n=r&&r[t];if(n)return n;var i=Xl[e],o=i&&i.prototype;return o&&o[t]},Zl=$l("Array","includes"),eE=Q,tE=A,rE=pt("match"),nE=function(e){var t;return eE(e)&&(void 0!==(t=e[rE])?!!t:"RegExp"===tE(e))},iE=nE,oE=TypeError,sE=pt("match"),aE=wr,cE=function(e){if(iE(e))throw new oE("The method doesn't accept regular expressions");return e},uE=Y,dE=ho,lE=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[sE]=!1,"/./"[e](t)}catch(e){}}return!1},EE=_("".indexOf);aE({target:"String",proto:!0,forced:!lE("includes")},{includes:function(e){return!!~EE(dE(uE(this)),dE(cE(e)),arguments.length>1?arguments[1]:void 0)}});var pE=$l("String","includes"),hE=ie,fE=Zl,_E=pE,mE=Array.prototype,TE=String.prototype,RE=r((function(e){var t=e.includes;return e===mE||hE(mE,e)&&t===mE.includes?fE:"string"==typeof e||e===TE||hE(TE,e)&&t===TE.includes?_E:t}));let AE=function(e){return e.WIN_10="Windows 10",e.WIN_81="Windows 8.1",e.WIN_8="Windows 8",e.WIN_7="Windows 7",e.WIN_VISTA="Windows Vista",e.WIN_SERVER_2003="Windows Server 2003",e.WIN_XP="Windows XP",e.WIN_2000="Windows 2000",e.ANDROID="Android",e.HARMONY_OS="HarmonyOS",e.OPEN_BSD="Open BSD",e.SUN_OS="Sun OS",e.LINUX="Linux",e.IOS="iOS",e.MAC_OS="Mac OS",e.CHROMIUM_OS="Chromium OS",e.QNX="QNX",e.UNIX="UNIX",e.BEOS="BeOS",e.OS_2="OS/2",e.SEARCH_BOT="Search Bot",e}({}),SE=function(e){return e.CHROME="Chrome",e.SAFARI="Safari",e.EDGE="Edge",e.FIREFOX="Firefox",e.OPERA="OPR",e.QQ="QQBrowser",e.WECHAT="MicroMessenger",e}({});var OE={exports:{}};!function(e,r){!function(t,n){var i="function",o="undefined",s="object",a="string",c="major",u="model",d="name",l="type",E="vendor",p="version",h="architecture",f="console",_="mobile",m="tablet",T="smarttv",R="wearable",A="embedded",S="Amazon",O="Apple",I="ASUS",b="BlackBerry",g="Browser",N="Chrome",C="Firefox",y="Google",w="Honor",v="Huawei",D="LG",L="Microsoft",P="Motorola",M="Nvidia",U="OnePlus",F="Opera",k="OPPO",x="Samsung",B="Sharp",V="Sony",j="Xiaomi",K="Zebra",G="Facebook",W="Chromium OS",H="Mac OS",Y=" Browser",z=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},q=function(e,t){return typeof e===a&&-1!==J(t).indexOf(J(e))},J=function(e){return e.toLowerCase()},X=function(e,t){if(typeof e===a)return e=e.replace(/^\s\s*/,""),typeof t===o?e:e.substring(0,500)},Q=function(e,t){for(var r,o,a,c,u,d,l=0;l<t.length&&!u;){var E=t[l],p=t[l+1];for(r=o=0;r<E.length&&!u&&E[r];)if(u=E[r++].exec(e))for(a=0;a<p.length;a++)d=u[++o],typeof(c=p[a])===s&&c.length>0?2===c.length?typeof c[1]==i?this[c[0]]=c[1].call(this,d):this[c[0]]=c[1]:3===c.length?typeof c[1]!==i||c[1].exec&&c[1].test?this[c[0]]=d?d.replace(c[1],c[2]):n:this[c[0]]=d?c[1].call(this,d,c[2]):n:4===c.length&&(this[c[0]]=d?c[3].call(this,d.replace(c[1],c[2])):n):this[c]=d||n;l+=2}},$=function(e,t){for(var r in t)if(typeof t[r]===s&&t[r].length>0){for(var i=0;i<t[r].length;i++)if(q(t[r][i],e))return"?"===r?n:r}else if(q(t[r],e))return"?"===r?n:r;return t.hasOwnProperty("*")?t["*"]:e},Z={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ee={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,p],[/opios[\/ ]+([\w\.]+)/i],[p,[d,F+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[p,[d,F+" GX"]],[/\bopr\/([\w\.]+)/i],[p,[d,F]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[p,[d,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[p,[d,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[d,p],[/quark(?:pc)?\/([-\w\.]+)/i],[p,[d,"Quark"]],[/\bddg\/([\w\.]+)/i],[p,[d,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[d,"UC"+g]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[p,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[d,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[p,[d,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[p,[d,"Smart Lenovo "+g]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+g],p],[/\bfocus\/([\w\.]+)/i],[p,[d,C+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[d,F+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[d,F+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[d,"MIUI"+Y]],[/fxios\/([\w\.-]+)/i],[p,[d,C]],[/\bqihoobrowser\/?([\w\.]*)/i],[p,[d,"360"]],[/\b(qq)\/([\w\.]+)/i],[[d,/(.+)/,"$1Browser"],p],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1"+Y],p],[/samsungbrowser\/([\w\.]+)/i],[p,[d,x+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[p,[d,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[d,"Sogou Mobile"],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[d,p],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[d],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[p,d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,G],p],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[d,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[d,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[p,[d,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[d,N+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,N+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[d,"Android "+g]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[p,$,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],p],[/(wolvic|librewolf)\/([\w\.]+)/i],[d,p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[d,C+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[d,[p,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[d,[p,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[h,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[h,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[h,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[h,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[h,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[h,/ower/,"",J]],[/ sun4\w[;\)]/i],[[h,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[h,J]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[E,x],[l,m]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[u,[E,x],[l,_]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[u,[E,O],[l,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[E,O],[l,m]],[/(macintosh);/i],[u,[E,O]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[E,B],[l,_]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[u,[E,w],[l,m]],[/honor([-\w ]+)[;\)]/i],[u,[E,w],[l,_]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[u,[E,v],[l,m]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[E,v],[l,_]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[u,/_/g," "],[E,j],[l,m]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[u,/_/g," "],[E,j],[l,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[E,k],[l,_]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[u,[E,$,{OnePlus:["304","403","203"],"*":k}],[l,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[E,"Vivo"],[l,_]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[u,[E,"Realme"],[l,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[E,P],[l,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[E,P],[l,m]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[E,D],[l,m]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[E,D],[l,_]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[u,[E,"Lenovo"],[l,m]],[/(nokia) (t[12][01])/i],[E,u,[l,m]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[u,/_/g," "],[l,_],[E,"Nokia"]],[/(pixel (c|tablet))\b/i],[u,[E,y],[l,m]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[E,y],[l,_]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[E,V],[l,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[E,V],[l,m]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[E,U],[l,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[E,S],[l,m]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[E,S],[l,_]],[/(playbook);[-\w\),; ]+(rim)/i],[u,E,[l,m]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[E,b],[l,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[E,I],[l,m]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[E,I],[l,_]],[/(nexus 9)/i],[u,[E,"HTC"],[l,m]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[E,[u,/_/g," "],[l,_]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[u,[E,"TCL"],[l,m]],[/(itel) ((\w+))/i],[[E,J],u,[l,$,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[E,"Acer"],[l,m]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[E,"Meizu"],[l,_]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[u,[E,"Ulefone"],[l,_]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[u,[E,"Energizer"],[l,_]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[u,[E,"Cat"],[l,_]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[u,[E,"Smartfren"],[l,_]],[/droid.+; (a(?:015|06[35]|142p?))/i],[u,[E,"Nothing"],[l,_]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[u,[E,"Archos"],[l,m]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[u,[E,"Archos"],[l,_]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[E,u,[l,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[E,u,[l,_]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[E,u,[l,m]],[/(surface duo)/i],[u,[E,L],[l,m]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[E,"Fairphone"],[l,_]],[/(u304aa)/i],[u,[E,"AT&T"],[l,_]],[/\bsie-(\w*)/i],[u,[E,"Siemens"],[l,_]],[/\b(rct\w+) b/i],[u,[E,"RCA"],[l,m]],[/\b(venue[\d ]{2,7}) b/i],[u,[E,"Dell"],[l,m]],[/\b(q(?:mv|ta)\w+) b/i],[u,[E,"Verizon"],[l,m]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[E,"Barnes & Noble"],[l,m]],[/\b(tm\d{3}\w+) b/i],[u,[E,"NuVision"],[l,m]],[/\b(k88) b/i],[u,[E,"ZTE"],[l,m]],[/\b(nx\d{3}j) b/i],[u,[E,"ZTE"],[l,_]],[/\b(gen\d{3}) b.+49h/i],[u,[E,"Swiss"],[l,_]],[/\b(zur\d{3}) b/i],[u,[E,"Swiss"],[l,m]],[/\b((zeki)?tb.*\b) b/i],[u,[E,"Zeki"],[l,m]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[E,"Dragon Touch"],u,[l,m]],[/\b(ns-?\w{0,9}) b/i],[u,[E,"Insignia"],[l,m]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[E,"NextBook"],[l,m]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[E,"Voice"],u,[l,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[E,"LvTel"],u,[l,_]],[/\b(ph-1) /i],[u,[E,"Essential"],[l,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[E,"Envizen"],[l,m]],[/\b(trio[-\w\. ]+) b/i],[u,[E,"MachSpeed"],[l,m]],[/\btu_(1491) b/i],[u,[E,"Rotor"],[l,m]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[u,[E,M],[l,m]],[/(sprint) (\w+)/i],[E,u,[l,_]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[E,L],[l,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[E,K],[l,m]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[E,K],[l,_]],[/smart-tv.+(samsung)/i],[E,[l,T]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[E,x],[l,T]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[E,D],[l,T]],[/(apple) ?tv/i],[E,[u,O+" TV"],[l,T]],[/crkey/i],[[u,N+"cast"],[E,y],[l,T]],[/droid.+aft(\w+)( bui|\))/i],[u,[E,S],[l,T]],[/(shield \w+ tv)/i],[u,[E,M],[l,T]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[E,B],[l,T]],[/(bravia[\w ]+)( bui|\))/i],[u,[E,V],[l,T]],[/(mi(tv|box)-?\w+) bui/i],[u,[E,j],[l,T]],[/Hbbtv.*(technisat) (.*);/i],[E,u,[l,T]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[E,X],[u,X],[l,T]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[u,[l,T]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[l,T]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[E,u,[l,f]],[/droid.+; (shield)( bui|\))/i],[u,[E,M],[l,f]],[/(playstation \w+)/i],[u,[E,V],[l,f]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[E,L],[l,f]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[u,[E,x],[l,R]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[E,u,[l,R]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[u,[E,k],[l,R]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[u,[E,O],[l,R]],[/(opwwe\d{3})/i],[u,[E,U],[l,R]],[/(moto 360)/i],[u,[E,P],[l,R]],[/(smartwatch 3)/i],[u,[E,V],[l,R]],[/(g watch r)/i],[u,[E,D],[l,R]],[/droid.+; (wt63?0{2,3})\)/i],[u,[E,K],[l,R]],[/droid.+; (glass) \d/i],[u,[E,y],[l,R]],[/(pico) (4|neo3(?: link|pro)?)/i],[E,u,[l,R]],[/; (quest( \d| pro)?)/i],[u,[E,G],[l,R]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[E,[l,A]],[/(aeobc)\b/i],[u,[E,S],[l,A]],[/(homepod).+mac os/i],[u,[E,O],[l,A]],[/windows iot/i],[[l,A]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[u,[l,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[l,m]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[l,m]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[l,_]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[u,[E,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[d,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[d,p],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[d,p],[/ladybird\//i],[[d,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,p],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[d,[p,$,Z]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,$,Z],[d,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,H],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,d],[/(ubuntu) ([\w\.]+) like android/i],[[d,/(.+)/,"$1 Touch"],p],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[d,p],[/\(bb(10);/i],[p,[d,b]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[p,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[d,C+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[p,[d,"watchOS"]],[/crkey\/([\d\.]+)/i],[p,[d,N+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,W],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,p],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[d,p]]},te=function(e,r){if(typeof e===s&&(r=e,e=n),!(this instanceof te))return new te(e,r).getResult();var f=typeof t!==o&&t.navigator?t.navigator:n,T=e||(f&&f.userAgent?f.userAgent:""),R=f&&f.userAgentData?f.userAgentData:n,A=r?function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r}(ee,r):ee,S=f&&f.userAgent==T;return this.getBrowser=function(){var e={};return e[d]=n,e[p]=n,Q.call(e,T,A.browser),e[c]=function(e){return typeof e===a?e.replace(/[^\d\.]/g,"").split(".")[0]:n}(e[p]),S&&f&&f.brave&&typeof f.brave.isBrave==i&&(e[d]="Brave"),e},this.getCPU=function(){var e={};return e[h]=n,Q.call(e,T,A.cpu),e},this.getDevice=function(){var e={};return e[E]=n,e[u]=n,e[l]=n,Q.call(e,T,A.device),S&&!e[l]&&R&&R.mobile&&(e[l]=_),S&&"Macintosh"==e[u]&&f&&typeof f.standalone!==o&&f.maxTouchPoints&&f.maxTouchPoints>2&&(e[u]="iPad",e[l]=m),e},this.getEngine=function(){var e={};return e[d]=n,e[p]=n,Q.call(e,T,A.engine),e},this.getOS=function(){var e={};return e[d]=n,e[p]=n,Q.call(e,T,A.os),S&&!e[d]&&R&&R.platform&&"Unknown"!=R.platform&&(e[d]=R.platform.replace(/chrome os/i,W).replace(/macos/i,H)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return T},this.setUA=function(e){return T=typeof e===a&&e.length>500?X(e,500):e,this},this.setUA(T),this};te.VERSION="0.7.41",te.BROWSER=z([d,p,c]),te.CPU=z([h]),te.DEVICE=z([u,E,l,f,_,T,m,R,A]),te.ENGINE=te.OS=z([d,p]),e.exports&&(r=e.exports=te),r.UAParser=te;var re=typeof t!==o&&(t.jQuery||t.Zepto);if(re&&!re.ua){var ne=new te;re.ua=ne.getResult(),re.ua.get=function(){return ne.getUA()},re.ua.set=function(e){ne.setUA(e);var t=ne.getResult();for(var r in t)re.ua[r]=t[r]}}}("object"==typeof window?window:t)}(OE,OE.exports);const IE=new(r(OE.exports));let bE=IE.getResult(),gE=null;function NE(e){if(!gE){e&&IE.setUA(e),bE=IE.getResult();const t=CE(bE),r=yE(bE),n=wE(bE),i=bE.os.version,o=yE(bE,!1),s=bE.device.type;if(!(t&&r&&n&&i))return{name:t,version:r,os:n,osVersion:i,browserVersion:o,deviceType:s};gE={name:t,version:r,os:n,osVersion:i,browserVersion:o,deviceType:s}}return gE}function CE(e){if("Blink"===e.engine.name&&"WeChat"!==e.browser.name)return SE.CHROME;switch(e.browser.name){case"Chrome Headless":case"Chrome":case"Chromium":return SE.CHROME;case"Safari":case"Mobile Safari":return SE.SAFARI;case"Edge":return SE.EDGE;case"Firefox":return SE.FIREFOX;case"QQ":case"QQBrowser":return SE.QQ;case"Opera":return SE.OPERA;case"WeChat":return SE.WECHAT;default:return e.browser.name||""}}function yE(e){let t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t="Blink"===e.engine.name?e.engine.version||"":e.browser.version||"",r?t.split(".")[0]:t}function wE(e){return"Windows"===e.os.name?e.os.version?e.os.name+" "+e.os.version:e.os.name:e.os.name||""}function vE(){return NE().os}function DE(){const e=NE();return!!("WebKit"===bE.engine.name&&e.os===AE.MAC_OS&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0&&e.name!==SE.SAFARI||PE()&&e.name!==SE.SAFARI)}function LE(){return NE().name===SE.SAFARI}function PE(){return NE().os===AE.IOS}function ME(){const{deviceType:e}=NE();return"mobile"===e||"tablet"===e}function UE(){return vE()===AE.ANDROID}var FE=Ne,kE=TypeError,xE=Ja,BE=Math.floor,VE=function(e,t){var r=e.length;if(r<8)for(var n,i,o=1;o<r;){for(i=o,n=e[o];i&&t(e[i-1],n)>0;)e[i]=e[--i];i!==o++&&(e[i]=n)}else for(var s=BE(r/2),a=VE(xE(e,0,s),t),c=VE(xE(e,s),t),u=a.length,d=c.length,l=0,E=0;l<u||E<d;)e[l+E]=l<u&&E<d?t(a[l],c[E])<=0?a[l++]:c[E++]:l<u?a[l++]:c[E++];return e},jE=VE,KE=o,GE=function(e,t){var r=[][e];return!!r&&KE((function(){r.call(null,t||function(){return 1},1)}))},WE=ae.match(/firefox\/(\d+)/i),HE=!!WE&&+WE[1],YE=/MSIE|Trident/.test(ae),zE=ae.match(/AppleWebKit\/(\d+)\./),qE=!!zE&&+zE[1],JE=wr,XE=_,QE=ve,$E=Xe,ZE=ln,ep=function(e,t){if(!delete e[t])throw new kE("Cannot delete property "+FE(t)+" of "+FE(e))},tp=ho,rp=o,np=jE,ip=GE,op=HE,sp=YE,ap=he,cp=qE,up=[],dp=XE(up.sort),lp=XE(up.push),Ep=rp((function(){up.sort(void 0)})),pp=rp((function(){up.sort(null)})),hp=ip("sort"),fp=!rp((function(){if(ap)return ap<70;if(!(op&&op>3)){if(sp)return!0;if(cp)return cp<603;var e,t,r,n,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)up.push({k:t+n,v:r})}for(up.sort((function(e,t){return t.v-e.v})),n=0;n<up.length;n++)t=up[n].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));JE({target:"Array",proto:!0,forced:Ep||!pp||!hp||!fp},{sort:function(e){void 0!==e&&QE(e);var t=$E(this);if(fp)return void 0===e?dp(t):dp(t,e);var r,n,i=[],o=ZE(t);for(n=0;n<o;n++)n in t&&lp(i,t[n]);for(np(i,function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:tp(t)>tp(r)?1:-1}}(e)),r=ZE(i),n=0;n<r;)t[n]=i[n++];for(;n<o;)ep(t,n++);return t}});var _p=$l("Array","sort"),mp=ie,Tp=_p,Rp=Array.prototype,Ap=r((function(e){var t=e.sort;return e===Rp||mp(Rp,e)&&t===Rp.sort?Tp:t})),Sp={exports:{}},Op=wr,Ip=C,bp=$t.f;Op({target:"Object",stat:!0,forced:Object.defineProperty!==bp,sham:!Ip},{defineProperty:bp});var gp=$.Object,Np=Sp.exports=function(e,t,r){return gp.defineProperty(e,t,r)};gp.defineProperty.sham&&(Np.sham=!0);var Cp=r(Sp.exports),yp=A,wp=Array.isArray||function(e){return"Array"===yp(e)},vp=TypeError,Dp=C,Lp=$t,Pp=k,Mp=wp,Up=Va,Fp=Q,kp=pt("species"),xp=Array,Bp=function(e){var t;return Mp(e)&&(t=e.constructor,(Up(t)&&(t===xp||Mp(t.prototype))||Fp(t)&&null===(t=t[kp]))&&(t=void 0)),void 0===t?xp:t},Vp=function(e,t){return new(Bp(e))(0===t?0:t)},jp=o,Kp=he,Gp=pt("species"),Wp=wr,Hp=o,Yp=wp,zp=Q,qp=Xe,Jp=ln,Xp=function(e){if(e>9007199254740991)throw vp("Maximum allowed index exceeded");return e},Qp=function(e,t,r){Dp?Lp.f(e,t,Pp(0,r)):e[t]=r},$p=Vp,Zp=function(e){return Kp>=51||!jp((function(){var t=[];return(t.constructor={})[Gp]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},eh=he,th=pt("isConcatSpreadable"),rh=eh>=51||!Hp((function(){var e=[];return e[th]=!1,e.concat()[0]!==e})),nh=function(e){if(!zp(e))return!1;var t=e[th];return void 0!==t?!!t:Yp(e)};Wp({target:"Array",proto:!0,arity:1,forced:!rh||!Zp("concat")},{concat:function(e){var t,r,n,i,o,s=qp(this),a=$p(s,0),c=0;for(t=-1,n=arguments.length;t<n;t++)if(nh(o=-1===t?s:arguments[t]))for(i=Jp(o),Xp(c+i),r=0;r<i;r++,c++)r in o&&Qp(a,c,o[r]);else Xp(c+1),Qp(a,c++,o);return a.length=c,a}});var ih={},oh=A,sh=J,ah=Zr.f,ch=Ja,uh="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];ih.f=function(e){return uh&&"Window"===oh(e)?function(e){try{return ah(e)}catch(e){return ch(uh)}}(e):ah(sh(e))};var dh={},lh=pt;dh.f=lh;var Eh=$,ph=Ze,hh=dh,fh=$t.f,_h=function(e){var t=Eh.Symbol||(Eh.Symbol={});ph(t,e)||fh(t,e,{value:hh.f(e)})},mh=v,Th=ne,Rh=pt,Ah=cs,Sh=function(){var e=Th("Symbol"),t=e&&e.prototype,r=t&&t.valueOf,n=Rh("toPrimitive");t&&!t[n]&&Ah(t,n,(function(e){return mh(r,this)}),{arity:1})},Oh=Qt,Ih=K,bh=Xe,gh=ln,Nh=Vp,Ch=_([].push),yh=function(e){var t=1===e,r=2===e,n=3===e,i=4===e,o=6===e,s=7===e,a=5===e||o;return function(c,u,d,l){for(var E,p,h=bh(c),f=Ih(h),_=gh(f),m=Oh(u,d),T=0,R=l||Nh,A=t?R(c,_):r||s?R(c,0):void 0;_>T;T++)if((a||T in f)&&(p=m(E=f[T],T,h),e))if(t)A[T]=p;else if(p)switch(e){case 3:return!0;case 5:return E;case 6:return T;case 2:Ch(A,E)}else switch(e){case 4:return!1;case 7:Ch(A,E)}return o?-1:n||i?i:A}},wh={forEach:yh(0),map:yh(1),filter:yh(2),some:yh(3),every:yh(4),find:yh(5),findIndex:yh(6),filterReject:yh(7)},vh=wr,Dh=i,Lh=v,Ph=_,Mh=C,Uh=Te,Fh=o,kh=Ze,xh=ie,Bh=nr,Vh=J,jh=It,Kh=ho,Gh=k,Wh=ui,Hh=jn,Yh=Zr,zh=ih,qh=Cn,Jh=N,Xh=$t,Qh=xn,$h=D,Zh=cs,ef=pa,tf=ze,rf=mn,nf=it,of=pt,sf=dh,af=_h,cf=Sh,uf=Cs,df=es,lf=wh.forEach,Ef=Lr("hidden"),pf="Symbol",hf="prototype",ff=df.set,_f=df.getterFor(pf),mf=Object[hf],Tf=Dh.Symbol,Rf=Tf&&Tf[hf],Af=Dh.RangeError,Sf=Dh.TypeError,Of=Dh.QObject,If=Jh.f,bf=Xh.f,gf=zh.f,Nf=$h.f,Cf=Ph([].push),yf=tf("symbols"),wf=tf("op-symbols"),vf=tf("wks"),Df=!Of||!Of[hf]||!Of[hf].findChild,Lf=function(e,t,r){var n=If(mf,t);n&&delete mf[t],bf(e,t,r),n&&e!==mf&&bf(mf,t,n)},Pf=Mh&&Fh((function(){return 7!==Wh(bf({},"a",{get:function(){return bf(this,"a",{value:7}).a}})).a}))?Lf:bf,Mf=function(e,t){var r=yf[e]=Wh(Rf);return ff(r,{type:pf,tag:e,description:t}),Mh||(r.description=t),r},Uf=function(e,t,r){e===mf&&Uf(wf,t,r),Bh(e);var n=jh(t);return Bh(r),kh(yf,n)?(r.enumerable?(kh(e,Ef)&&e[Ef][n]&&(e[Ef][n]=!1),r=Wh(r,{enumerable:Gh(0,!1)})):(kh(e,Ef)||bf(e,Ef,Gh(1,Wh(null))),e[Ef][n]=!0),Pf(e,n,r)):bf(e,n,r)},Ff=function(e,t){Bh(e);var r=Vh(t),n=Hh(r).concat(Vf(r));return lf(n,(function(t){Mh&&!Lh(kf,r,t)||Uf(e,t,r[t])})),e},kf=function(e){var t=jh(e),r=Lh(Nf,this,t);return!(this===mf&&kh(yf,t)&&!kh(wf,t))&&(!(r||!kh(this,t)||!kh(yf,t)||kh(this,Ef)&&this[Ef][t])||r)},xf=function(e,t){var r=Vh(e),n=jh(t);if(r!==mf||!kh(yf,n)||kh(wf,n)){var i=If(r,n);return!i||!kh(yf,n)||kh(r,Ef)&&r[Ef][n]||(i.enumerable=!0),i}},Bf=function(e){var t=gf(Vh(e)),r=[];return lf(t,(function(e){kh(yf,e)||kh(rf,e)||Cf(r,e)})),r},Vf=function(e){var t=e===mf,r=gf(t?wf:Vh(e)),n=[];return lf(r,(function(e){!kh(yf,e)||t&&!kh(mf,e)||Cf(n,yf[e])})),n};Uh||(Tf=function(){if(xh(Rf,this))throw new Sf("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?Kh(arguments[0]):void 0,t=nf(e),r=function(e){var n=void 0===this?Dh:this;n===mf&&Lh(r,wf,e),kh(n,Ef)&&kh(n[Ef],t)&&(n[Ef][t]=!1);var i=Gh(1,e);try{Pf(n,t,i)}catch(e){if(!(e instanceof Af))throw e;Lf(n,t,i)}};return Mh&&Df&&Pf(mf,t,{configurable:!0,set:r}),Mf(t,e)},Zh(Rf=Tf[hf],"toString",(function(){return _f(this).tag})),Zh(Tf,"withoutSetter",(function(e){return Mf(nf(e),e)})),$h.f=kf,Xh.f=Uf,Qh.f=Ff,Jh.f=xf,Yh.f=zh.f=Bf,qh.f=Vf,sf.f=function(e){return Mf(of(e),e)},Mh&&ef(Rf,"description",{configurable:!0,get:function(){return _f(this).description}})),vh({global:!0,constructor:!0,wrap:!0,forced:!Uh,sham:!Uh},{Symbol:Tf}),lf(Hh(vf),(function(e){af(e)})),vh({target:pf,stat:!0,forced:!Uh},{useSetter:function(){Df=!0},useSimple:function(){Df=!1}}),vh({target:"Object",stat:!0,forced:!Uh,sham:!Mh},{create:function(e,t){return void 0===t?Wh(e):Ff(Wh(e),t)},defineProperty:Uf,defineProperties:Ff,getOwnPropertyDescriptor:xf}),vh({target:"Object",stat:!0,forced:!Uh},{getOwnPropertyNames:Bf}),cf(),uf(Tf,pf),rf[Ef]=!0;var jf=Te&&!!Symbol.for&&!!Symbol.keyFor,Kf=wr,Gf=ne,Wf=Ze,Hf=ho,Yf=ze,zf=jf,qf=Yf("string-to-symbol-registry"),Jf=Yf("symbol-to-string-registry");Kf({target:"Symbol",stat:!0,forced:!zf},{for:function(e){var t=Hf(e);if(Wf(qf,t))return qf[t];var r=Gf("Symbol")(t);return qf[t]=r,Jf[r]=t,r}});var Xf=wr,Qf=Ze,$f=be,Zf=Ne,e_=jf,t_=ze("symbol-to-string-registry");Xf({target:"Symbol",stat:!0,forced:!e_},{keyFor:function(e){if(!$f(e))throw new TypeError(Zf(e)+" is not a symbol");if(Qf(t_,e))return t_[e]}});var r_=wp,n_=g,i_=A,o_=ho,s_=_([].push),a_=wr,c_=ne,u_=l,d_=v,l_=_,E_=o,p_=g,h_=be,f_=Ja,__=function(e){if(n_(e))return e;if(r_(e)){for(var t=e.length,r=[],n=0;n<t;n++){var i=e[n];"string"==typeof i?s_(r,i):"number"!=typeof i&&"Number"!==i_(i)&&"String"!==i_(i)||s_(r,o_(i))}var o=r.length,s=!0;return function(e,t){if(s)return s=!1,t;if(r_(this))return t;for(var n=0;n<o;n++)if(r[n]===e)return t}}},m_=Te,T_=String,R_=c_("JSON","stringify"),A_=l_(/./.exec),S_=l_("".charAt),O_=l_("".charCodeAt),I_=l_("".replace),b_=l_(1.1.toString),g_=/[\uD800-\uDFFF]/g,N_=/^[\uD800-\uDBFF]$/,C_=/^[\uDC00-\uDFFF]$/,y_=!m_||E_((function(){var e=c_("Symbol")("stringify detection");return"[null]"!==R_([e])||"{}"!==R_({a:e})||"{}"!==R_(Object(e))})),w_=E_((function(){return'"\\udf06\\ud834"'!==R_("\udf06\ud834")||'"\\udead"'!==R_("\udead")})),v_=function(e,t){var r=f_(arguments),n=__(t);if(p_(n)||void 0!==e&&!h_(e))return r[1]=function(e,t){if(p_(n)&&(t=d_(n,this,T_(e),t)),!h_(t))return t},u_(R_,null,r)},D_=function(e,t,r){var n=S_(r,t-1),i=S_(r,t+1);return A_(N_,e)&&!A_(C_,i)||A_(C_,e)&&!A_(N_,n)?"\\u"+b_(O_(e,0),16):e};R_&&a_({target:"JSON",stat:!0,arity:3,forced:y_||w_},{stringify:function(e,t,r){var n=f_(arguments),i=u_(y_?v_:R_,null,n);return w_&&"string"==typeof i?I_(i,g_,D_):i}});var L_=Cn,P_=Xe;wr({target:"Object",stat:!0,forced:!Te||o((function(){L_.f(1)}))},{getOwnPropertySymbols:function(e){var t=L_.f;return t?t(P_(e)):[]}}),_h("asyncDispose"),_h("asyncIterator"),_h("dispose"),_h("hasInstance"),_h("isConcatSpreadable"),_h("iterator"),_h("match"),_h("matchAll"),_h("replace"),_h("search"),_h("species"),_h("split");var M_=Sh;_h("toPrimitive"),M_();var U_=ne,F_=Cs;_h("toStringTag"),F_(U_("Symbol"),"Symbol"),_h("unscopables"),Cs(i.JSON,"JSON",!0);var k_=$.Symbol,x_=pt,B_=$t.f,V_=x_("metadata"),j_=Function.prototype;void 0===j_[V_]&&B_(j_,V_,{value:null}),_h("metadata");var K_=k_,G_=_,W_=ne("Symbol"),H_=W_.keyFor,Y_=G_(W_.prototype.valueOf),z_=W_.isRegisteredSymbol||function(e){try{return void 0!==H_(Y_(e))}catch(e){return!1}};wr({target:"Symbol",stat:!0},{isRegisteredSymbol:z_});for(var q_=ze,J_=ne,X_=_,Q_=be,$_=pt,Z_=J_("Symbol"),em=Z_.isWellKnownSymbol,tm=J_("Object","getOwnPropertyNames"),rm=X_(Z_.prototype.valueOf),nm=q_("wks"),im=0,om=tm(Z_),sm=om.length;im<sm;im++)try{var am=om[im];Q_(Z_[am])&&$_(am)}catch(e){}var cm=function(e){if(em&&em(e))return!0;try{for(var t=rm(e),r=0,n=tm(nm),i=n.length;r<i;r++)if(nm[n[r]]==t)return!0}catch(e){}return!1};wr({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:cm}),_h("customMatcher"),_h("observable"),wr({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:z_}),wr({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:cm}),_h("matcher"),_h("metadataKey"),_h("patternMatch"),_h("replaceAll");var um=r(K_),dm=r(dh.f("iterator"));function lm(e){return lm="function"==typeof um&&"symbol"==typeof dm?function(e){return typeof e}:function(e){return e&&"function"==typeof um&&e.constructor===um&&e!==um.prototype?"symbol":typeof e},lm(e)}var Em=r(dh.f("toPrimitive"));function pm(e){var t=function(e,t){if("object"!=lm(e)||!e)return e;var r=e[Em];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=lm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lm(t)?t:t+""}function hm(e,t,r){return(t=pm(t))in e?Cp(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let fm=function(e){return e.UNEXPECTED_ERROR="UNEXPECTED_ERROR",e.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",e.TIMEOUT="TIMEOUT",e.INVALID_PARAMS="INVALID_PARAMS",e.NOT_READABLE="NOT_READABLE",e.NOT_SUPPORTED="NOT_SUPPORTED",e.INVALID_OPERATION="INVALID_OPERATION",e.OPERATION_ABORTED="OPERATION_ABORTED",e.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",e.EXCHANGE_SDP_FAILED="EXCHANGE_SDP_FAILED",e.ADD_CANDIDATE_FAILED="ADD_CANDIDATE_FAILED",e.DATACHANNEL_FAILED="DATACHANNEL_FAILED",e.NETWORK_ERROR="NETWORK_ERROR",e.NETWORK_TIMEOUT="NETWORK_TIMEOUT",e.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",e.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",e.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",e.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",e.ELECTRON_IS_NULL="ELECTRON_IS_NULL",e.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",e.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",e.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",e.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",e.PERMISSION_DENIED="PERMISSION_DENIED",e.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",e.TRACK_IS_DISABLED="TRACK_IS_DISABLED",e.GET_VIDEO_ELEMENT_VISIBLE_ERROR="GET_VIDEO_ELEMENT_VISIBLE_ERROR",e.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",e.LOW_STREAM_ENCODING_ERROR="LOW_STREAM_ENCODING_ERROR",e.SET_ENCODING_PARAMETER_ERROR="SET_ENCODING_PARAMETER_ERROR",e.TRACK_STATE_UNREACHABLE="TRACK_STATE_UNREACHABLE",e.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",e.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",e.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",e.VOID_GATEWAY_ADDRESS="VOID_GATEWAY_ADDRESS",e.UID_CONFLICT="UID_CONFLICT",e.MULTI_UNILBS_RESPONSE_ERROR="MULTI_UNILBS_RESPONSE_ERROR",e.UPDATE_TICKET_FAILED="UPDATE_TICKET_FAILED",e.TOKEN_EXPIRE="TOKEN_EXPIRE",e.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",e.INVALID_TRACK="INVALID_TRACK",e.SENDER_NOT_FOUND="SENDER_NOT_FOUND",e.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",e.SET_ANSWER_FAILED="SET_ANSWER_FAILED",e.ICE_FAILED="ICE_FAILED",e.PC_CLOSED="PC_CLOSED",e.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",e.GET_LOCAL_CAPABILITIES_FAILED="GET_LOCAL_CAPABILITIES_FAILED",e.GET_LOCAL_CONNECTION_PARAMS_FAILED="GET_LOCAL_CONNECTION_PARAMS_FAILED",e.SUBSCRIBE_FAILED="SUBSCRIBE_FAILED",e.UNSUBSCRIBE_FAILED="UNSUBSCRIBE_FAILED",e.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",e.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",e.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",e.EXIST_DISABLED_VIDEO_TRACK="EXIST_DISABLED_VIDEO_TRACK",e.INVALID_REMOTE_USER="INVALID_REMOTE_USER",e.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",e.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",e.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",e.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",e.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",e.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",e.WS_ABORT="WS_ABORT",e.WS_DISCONNECT="WS_DISCONNECT",e.WS_ERR="WS_ERR",e.EXTERNAL_SIGNAL_ABORT="EXTERNAL_SIGNAL_ABORT",e.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",e.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",e.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",e.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",e.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED="LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED",e.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",e.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",e.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",e.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",e.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",e.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",e.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",e.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",e.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",e.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",e.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",e.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",e.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE",e.LOCAL_AEC_ERROR="LOCAL_AEC_ERROR",e.INVALID_PLUGIN="INVALID_PLUGIN",e.DISCONNECT_P2P="DISCONNECT_P2P",e.CONVERTING_IMAGEDATA_TO_BLOB_FAILED="CONVERTING_IMAGEDATA_TO_BLOB_FAILED",e.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED="CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED",e.INIT_DATACHANNEL_TIMEOUT="INIT_DATACHANNEL_TIMEOUT",e.CREATE_DATACHANNEL_ERROR="CREATE_DATACHANNEL_ERROR",e.DATACHANNEL_CONNECTION_TIMEOUT="DATACHANNEL_CONNECTION_TIMEOUT",e.PROHIBITED_OPERATION="PROHIBITED_OPERATION",e.IMAGE_MODERATION_UPLOAD_FAILED="IMAGE_MODERATION_UPLOAD_FAILED",e.P2P_MESSAGE_FAILED="P2P_MESSAGE_FAILED",e}({});class _m extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;super(t),hm(this,"code",void 0),hm(this,"message",void 0),hm(this,"data",void 0),hm(this,"name","AgoraRTCException"),this.code=e,this.message="AgoraRTCError ".concat(this.code,": ").concat(t),this.data=r}toString(){return this.data?"".concat(this.message,"\ndata: ").concat(JSON.stringify(this.data)):this.message}print(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error",t=arguments.length>1?arguments[1]:void 0;return"error"===e&&(t||console).error(this.toString()),"warning"===e&&(t||console).warn(this.toString()),this}throw(e){throw this.print("error",e),this}}function mm(e,t){if("boolean"!=typeof e)throw new _m(fm.INVALID_PARAMS,"Invalid ".concat(t,": The value is of the boolean type."))}function Tm(e,t,r){if(RE(r).call(r,e))return;throw new _m(fm.INVALID_PARAMS,"".concat(t," can only be set as ").concat(JSON.stringify(r)))}function Rm(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;if(e<r||e>n||(!(arguments.length>4&&void 0!==arguments[4])||arguments[4])&&!function(e){return"number"==typeof e&&e%1==0}(e)){throw new _m(fm.INVALID_PARAMS,"invalid ".concat(t,": the value range is [").concat(r,", ").concat(n,"]. integer only"))}}function Am(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(null==e)throw new _m(fm.INVALID_PARAMS,"".concat(t||"param"," cannot be empty"));if(!Sm(e,r,n,i))throw new _m(fm.INVALID_PARAMS,"Invalid ".concat(t||"string param",": Length of the string: [").concat(r,",").concat(n,"].").concat(i?" ASCII characters only.":""))}function Sm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return"string"==typeof e&&e.length<=r&&e.length>=t&&(!n||function(e){if("string"!=typeof e)return!1;for(let t=0;t<e.length;t+=1){const r=e.charCodeAt(t);if(r<0||r>255)return!1}return!0}(e))}var Om=function(e){return e.COVERED="COVERED",e.POSITION="POSITION",e.SIZE="SIZE",e.STYLE="STYLE",e}(Om||{}),Im=function(e){return e.UNMOUNTED="UNMOUNTED",e.INVALID_HTML_ELEMENT="INVALID_HTML_ELEMENT",e}(Im||{});const bm=new class{constructor(){hm(this,"_clientSize",null),hm(this,"getClientWidth",(()=>document.documentElement?document.documentElement.clientWidth:document.body.clientWidth)),hm(this,"getClientHeight",(()=>document.documentElement?document.documentElement.clientHeight:document.body.clientHeight)),hm(this,"getStyle",(e=>window.getComputedStyle(e,null))),hm(this,"checkCssVisibleProperty",(e=>{var t;let r=!0;const n=this.getStyle(e),{display:i,visibility:o,opacity:s,filter:a}=n;if(("none"===i||RE(t=["hidden","collapse"]).call(t,o)||Number(s)<.1)&&(r=!1),!r)return!1;if(a){a.split(" ").filter((e=>{var t;const r=e.split("(")[0];return RE(t=["brightness","blur","opacity"]).call(t,r)})).map((e=>{const[t,r]=e.split(/\(|\)/);return[t,Number(r.match(/^[0-9\.]+/))]})).forEach((e=>{const[t,n]=e;switch(t){case"brightness":(n<.1||n>3)&&(r=!1);break;case"blur":n>3&&(r=!1);break;case"opacity":n<.1&&(r=!1)}}))}return r})),hm(this,"checkPropertyUpToAllParentNodes",((e,t)=>{let r=!0,n=!0;const i=e=>t(e);let o=e;for(;o&&n;){i(o)||(r=!1,n=!1),o=o.parentElement,o||(n=!1)}return r})),hm(this,"checkActualCssVisibleIncludeInherit",(e=>this.checkPropertyUpToAllParentNodes(e,this.checkCssVisibleProperty))),hm(this,"getSizeAboutClient",(e=>{const{width:t,height:r,left:n,right:i,top:o,bottom:s}=e.getBoundingClientRect(),a=this.getClientWidth(),c=this.getClientHeight();return{width:t,height:r,left:n,right:i,top:o,bottom:s,clientWidth:a,clientHeight:c,clientMin:Math.min(a,c)}})),hm(this,"checkActualSize",(()=>{const{width:e,height:t,clientMin:r}=this._clientSize;return this.checkSizeIsVisible(e,t,r)})),hm(this,"elementFromPoint",((e,t)=>document.elementFromPoint?document.elementFromPoint(e,t):null)),hm(this,"checkCoverForAPoint",((e,t,r)=>{const n=this.elementFromPoint(e,t);return null!==n&&n!==r})),hm(this,"getPointPositionList",(()=>{const{width:e,height:t,left:r,top:n}=this._clientSize,i=e/6,o=t/6,s=[],a=10**6;for(let e=0;e<5;e++)for(let t=0;t<5;t++){const c=(r*a+(0===e?.1:4===e?(i*e*a-1e5)/a:i*e)*a)/a,u=(n*a+(0===t?.1:4===t?(o*t*a-1e5)/a:o*t)*a)/a;s.push({x:c,y:u})}return[...s]})),hm(this,"checkElementCover",(e=>this.getPointPositionList().map((t=>this.checkCoverForAPoint(t.x,t.y,e))).filter((e=>!!e)).length>6)),hm(this,"checkSizeIsVisible",((e,t,r)=>(e>50||r/e<=10)&&(t>50||r/t<=10))),hm(this,"checkSizeOfPartInClient",(()=>{const{left:e,right:t,top:r,bottom:n,clientHeight:i,clientWidth:o,clientMin:s}=this._clientSize;let a,c,u,d;if(e<0)a=0;else{if(!(e<o))return!1;a=e}if(t<0)return!1;if(c=t<o?t:o,r<0)u=0;else{if(!(r<i))return!1;u=r}if(n<0)return!1;d=n<i?n:i;const l=c-a,E=d-u;return this.checkSizeIsVisible(l,E,s)})),hm(this,"returnHiddenResult",(e=>(this._clientSize=null,{visible:!1,reason:e}))),hm(this,"checkOneElementVisible",(e=>{if(e instanceof HTMLElement){if(this.checkElementIsMountedOnDom(e)){if(this.checkActualCssVisibleIncludeInherit(e)){if(this._clientSize=this.getSizeAboutClient(e),this.checkElementCover(e))return this.returnHiddenResult(Om.COVERED);{const e=this.checkActualSize(),t=this.checkSizeOfPartInClient();return e&&!t?this.returnHiddenResult(Om.POSITION):e?(this._clientSize=null,{visible:!0}):this.returnHiddenResult(Om.SIZE)}}return this.returnHiddenResult(Om.STYLE)}return this.returnHiddenResult(Im.UNMOUNTED)}return this.returnHiddenResult(Im.INVALID_HTML_ELEMENT)})),hm(this,"checkElementIsMountedOnDom",(e=>this.checkPropertyUpToAllParentNodes(e,(e=>"HTML"!==e.nodeName.toUpperCase()?null!==e.parentElement:!!document.documentElement))))}};function gm(e){return(new TextEncoder).encode(e)}function Nm(e,t){let r="";return new Uint8Array(e).forEach((e=>{r+=e.toString(t).padStart(2,"0")})),r}class Cm{constructor(){hm(this,"_events",{}),hm(this,"addListener",this.on)}getListeners(e){return this._events[e]?this._events[e].map((e=>e.listener)):[]}on(e,t){this._events[e]||(this._events[e]=[]);const r=this._events[e];-1===this._indexOfListener(r,t)&&r.push({listener:t,once:!1})}once(e,t){this._events[e]||(this._events[e]=[]);const r=this._events[e];-1===this._indexOfListener(r,t)&&r.push({listener:t,once:!0})}off(e,t){if(!this._events[e])return;const r=this._events[e],n=this._indexOfListener(r,t);-1!==n&&r.splice(n,1),0===this._events[e].length&&delete this._events[e]}removeAllListeners(e){e?delete this._events[e]:this._events={}}emit(e){this._events[e]||(this._events[e]=[]);const t=this._events[e].map((e=>e));for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];for(let r=0;r<t.length;r+=1){const i=t[r];i.once&&this.off(e,i.listener),i.listener.apply(this,n||[])}}safeEmit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];[...this._events[e]||[]].forEach((t=>{t.once&&this.off(e,t.listener);try{t.listener.apply(this,r)}catch(t){console.error("safeEmit event:".concat(e," error ").concat(null==t?void 0:t.toString()))}}))}_indexOfListener(e,t){let r=e.length;for(;r--;)if(e[r].listener===t)return r;return-1}}let ym=null;function wm(){if(ym)return ym;if(window.electron)return ym=window.electron;if(!window.require)return null;try{return ym=window.require("electron"),ym}catch(e){return null}}let vm=function(e){return e.CREATE_CLIENT="createClient",e.CHECK_SYSTEM_REQUIREMENTS="checkSystemRequirements",e.SET_AREA="setArea",e.PRELOAD="PRELOAD",e.CHECK_VIDEO_TRACK_IS_ACTIVE="checkVideoTrackIsActive",e.CHECK_AUDIO_TRACK_IS_ACTIVE="checkAudioTrackIsActive",e.CREATE_MIC_AUDIO_TRACK="createMicrophoneAudioTrack",e.CREATE_CUSTOM_AUDIO_TRACK="createCustomAudioTrack",e.CREATE_BUFFER_AUDIO_TRACK="createBufferSourceAudioTrack",e.CREATE_CAM_VIDEO_TRACK="createCameraVideoTrack",e.CREATE_CUSTOM_VIDEO_TRACK="createCustomVideoTrack",e.CREATE_MIC_AND_CAM_TRACKS="createMicrophoneAndCameraTracks",e.CREATE_SCREEN_VIDEO_TRACK="createScreenVideoTrack",e.SET_ENCRYPTION_CONFIG="Client.setEncryptionConfig",e.START_PROXY_SERVER="Client.startProxyServer",e.STOP_PROXY_SERVER="Client.stopProxyServer",e.SET_PROXY_SERVER="Client.setProxyServer",e.SET_TURN_SERVER="Client.setTurnServer",e.SET_CLIENT_ROLE="Client.setClientRole",e.SET_LOW_STREAM_PARAMETER="Client.setLowStreamParameter",e.ENABLE_DUAL_STREAM="Client.enableDualStream",e.DISABLE_DUAL_STREAM="Client.disableDualStream",e.JOIN="Client.join",e.LEAVE="Client.leave",e.PUBLISH="Client.publish",e.UNPUBLISH="Client.unpublish",e.SUBSCRIBE="Client.subscribe",e.MASS_SUBSCRIBE="Client.massSubscribe",e.MASS_UNSUBSCRIBE="Client.massUnsubscribe",e.UNSUBSCRIBE="Client.unsubscribe",e.RENEW_TOKEN="Client.renewToken",e.SET_REMOTE_VIDEO_STREAM_TYPE="Client.setRemoteVideoStreamType",e.SET_STREAM_FALLBACK_OPTION="Client.setStreamFallbackOption",e.ENABLE_AUDIO_VOLUME_INDICATOR="Client.enableAudioVolumeIndicator",e.SEND_CUSTOM_REPORT_MESSAGE="Client.sendCustomReportMessage",e.INSPECT_VIDEO_CONTENT="Client.inspectVideoContent",e.STOP_INSPECT_VIDEO_CONTENT="Client.stopInspectVideoContent",e.JOIN_FALLBACK_TO_PROXY="Client._joinFallbackToProxy",e.ON_LIVE_STREAM_WARNING="Client.onLiveStreamWarning",e.ON_LIVE_STREAM_ERROR="Client.onLiveStreamingError",e.START_LIVE_STREAMING="Client.startLiveStreaming",e.SET_LIVE_TRANSCODING="Client.setLiveTranscoding",e.STOP_LIVE_STREAMING="Client.stopLiveStreaming",e.START_CHANNEL_MEDIA_RELAY="Client.startChannelMediaRelay",e.UPDATE_CHANNEL_MEDIA_RELAY="Client.updateChannelMediaRelay",e.STOP_CHANNEL_MEDIA_RELAY="Client.stopChannelMediaRelay",e.REQUEST_CONFIG_DISTRIBUTE="_config-distribute-request",e.SET_CONFIG_DISTRIBUTE="_configDistribute",e.LOCAL_TRACK_SET_MUTED="LocalTrack.setMute",e.LOCAL_AUDIO_TRACK_PLAY="LocalAudioTrack.play",e.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT="LocalAudioTrack.playInElement",e.LOCAL_AUDIO_TRACK_STOP="LocalAudioTrack.stop",e.LOCAL_AUDIO_TRACK_SET_VOLUME="LocalAudioTrack.setVolume",e.MIC_AUDIO_TRACK_SET_DEVICE="MicrophoneAudioTrack.setDevice",e.BUFFER_AUDIO_TRACK_START="BufferSourceAudioTrack.startProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_STOP="BufferSourceAudioTrack.stopProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_PAUSE="BufferSourceAudioTrack.pauseProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_RESUME="BufferSourceAudioTrack.resumeProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_SEEK="BufferSourceAudioTrack.seekAudioBuffer",e.LOCAL_VIDEO_TRACK_PLAY="LocalVideoTrack.play",e.LOCAL_VIDEO_TRACK_STOP="LocalVideoTrack.stop",e.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE="LocalVideoTrack.getVideoElementVisibleStatus",e.LOCAL_VIDEO_TRACK_BEAUTY="LocalVideoTrack.setBeautyEffect",e.LOCAL_VIDEO_SEND_SEI_DATA="LocalVideoTrack.sendSeiData",e.CAM_VIDEO_TRACK_SET_DEVICE="CameraVideoTrack.setDevice",e.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG="CameraVideoTrack.setEncoderConfiguration",e.REMOTE_VIDEO_TRACK_PLAY="RemoteVideoTrack.play",e.REMOTE_VIDEO_TRACK_STOP="RemoteVideoTrack.stop",e.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE="RemoteVideoTrack.getVideoElementVisibleStatus",e.REMOTE_AUDIO_TRACK_PLAY="RemoteAudioTrack.play",e.REMOTE_AUDIO_TRACK_STOP="RemoteAudioTrack.stop",e.REMOTE_AUDIO_SET_VOLUME="RemoteAudioTrack.setVolume",e.REMOTE_AUDIO_SET_OUTPUT_DEVICE="RemoteAudioTrack.setOutputDevice",e.GET_MEDIA_STREAM_TRACK="Track.getMediaStreamTrack",e.STREAM_TYPE_CHANGE="streamTypeChange",e.CONNECTION_STATE_CHANGE="connectionStateChange",e.LOAD_CONFIG_FROM_LOCALSTORAGE="loadConfigFromLocalStorage",e.IMAGE_MODERATION_UPLOAD="imageModerationUpload",e.REPUB_AFTER_PC_CONNECTED="repubAfterPCConnected",e.PRELOAD_MEDIA_FAILED="preloadMediaFailed",e.MISMATCH_DTLS_PARAMETERS="mismatchDtlsParameters",e.VOS_FALLBACK_CN="vosFallbackCN",e.DATACHANNEL_FAILBACK="datachannelFailback",e}({}),Dm=function(e){return e.TRACER="tracer",e}({});function Lm(e){return Rm(e.timeout,"config.timeout",0,1e5),Rm(e.timeoutFactor,"config.timeoutFactor",0,100,!1),Rm(e.maxRetryCount,"config.maxRetryConfig",0,1/0),Rm(e.maxRetryTimeout,"config.maxRetryTimeout",0,1/0),!0}let Pm=function(e){return e[e.AUDIENCE_LEVEL_LOW_LATENCY=1]="AUDIENCE_LEVEL_LOW_LATENCY",e[e.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]="AUDIENCE_LEVEL_ULTRA_LOW_LATENCY",e[e.AUDIENCE_LEVEL_SYNC_LATENCY=3]="AUDIENCE_LEVEL_SYNC_LATENCY",e}({}),Mm=function(e){return e.LEAVE="LEAVE",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.UID_BANNED="UID_BANNED",e.FALLBACK="FALLBACK",e.IP_BANNED="IP_BANNED",e.CHANNEL_BANNED="CHANNEL_BANNED",e.LICENSE_MISSING="LICENSE_MISSING",e.LICENSE_EXPIRED="LICENSE_EXPIRED",e.LICENSE_MINUTES_EXCEEDED="LICENSE_MINUTES_EXCEEDED",e.LICENSE_PERIOD_INVALID="LICENSE_PERIOD_INVALID",e.LICENSE_MULTIPLE_SDK_SERVICE="LICENSE_MULTIPLE_SDK_SERVICE",e.LICENSE_ILLEGAL="LICENSE_ILLEGAL",e.TOKEN_EXPIRE="TOKEN_EXPIRE",e.FALLBACK_TO_HLS="FALLBACK_TO_HLS",e.UID_CONFLICT="UID_CONFLICT",e}({});function Um(e){return Am(e.turnServerURL,"turnServerURL"),Am(e.username,"username"),Am(e.password,"password"),e.udpport&&Rm(e.udpport,"udpport",1,99999,!0),e.forceturn&&mm(e.forceturn,"forceturn"),e.security&&mm(e.security,"security"),e.tcpport&&Rm(e.tcpport,"tcpport",1,99999,!0),!0}let Fm=function(e){return e[e.AUTO_SIMULCAST_STREAM=-1]="AUTO_SIMULCAST_STREAM",e[e.DISABLE_SIMULCAST_STREM=0]="DISABLE_SIMULCAST_STREM",e[e.ENABLE_SIMULCAST_STREAM=1]="ENABLE_SIMULCAST_STREAM",e}({});let km=function(e){return e.PEERCONNECTION_STATE_CHANGE="peerconnection-state-change",e.AUDIO_METADATA="audio-metadata",e.AUDIO_PTS="audio-pts",e.CONNECTION_STATE_CHANGE="connection-state-change",e.MEDIA_RECONNECT_START="media-reconnect-start",e.MEDIA_RECONNECT_END="media-reconnect-end",e.IS_USING_CLOUD_PROXY="is-using-cloud-proxy",e.USER_JOINED="user-joined",e.USER_LEAVED="user-left",e.USER_PUBLISHED="user-published",e.USER_UNPUBLISHED="user-unpublished",e.USER_INFO_UPDATED="user-info-updated",e.CLIENT_BANNED="client-banned",e.CHANNEL_MEDIA_RELAY_STATE="channel-media-relay-state",e.CHANNEL_MEDIA_RELAY_EVENT="channel-media-relay-event",e.VOLUME_INDICATOR="volume-indicator",e.CRYPT_ERROR="crypt-error",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="token-privilege-will-expire",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="token-privilege-did-expire",e.NETWORK_QUALITY="network-quality",e.STREAM_TYPE_CHANGED="stream-type-changed",e.STREAM_FALLBACK="stream-fallback",e.RECEIVE_METADATA="receive-metadata",e.STREAM_MESSAGE="stream-message",e.LIVE_STREAMING_ERROR="live-streaming-error",e.LIVE_STREAMING_WARNING="live-streaming-warning",e.EXCEPTION="exception",e.ERROR="error",e.P2P_LOST="p2p_lost",e.JOIN_FALLBACK_TO_PROXY="join-fallback-to-proxy",e.CHANNEL_FALLBACK_TO_WEBSOCKET="channel-fallback-to-websocket",e.MEDIA_CONNECTION_TYPE_CHANGE="media-connection-type-change",e.PUBLISHED_USER_LIST="published-user-list",e.CONTENT_INSPECT_CONNECTION_STATE_CHANGE="content-inspect-connection-state-change",e.CONTENT_INSPECT_ERROR="content-inspect-error",e.CONTENT_INSPECT_RESULT="content-inspect-result",e.IMAGE_MODERATION_CONNECTION_STATE_CHANGE="image-moderation-connection-state-change",e.FALLBACK_TO_HLS="fallback-to-hls",e.FIRST_VIDEO_BUFFER_READY="first-video-buffer-ready",e.FIRST_VIDEO_PRE_RENDER="first-video-pre-render",e.AV1_DECODABLE_RESULT="av1-decodable-result",e}({}),xm=function(e){return e.CONFIG="config",e.VOSERROR="vos_error",e.AP_ERROR="ap_error",e}({}),Bm=function(e){return e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.MULTI_IP="MULTI_IP",e.TIMEOUT="TIMEOUT",e.OFFLINE="OFFLINE",e.LEAVE="LEAVE",e.P2P_FAILED="P2P_FAILED",e.FALLBACK="FALLBACK",e.REGIONAL_DISTRIBUTION="REGIONAL_DISTRIBUTION",e}({}),Vm=function(e){return e.ONLINE="ONLINE",e.OFFLINE="OFFLINE",e}({}),jm=function(e){return e.NETWORK_STATE_CHANGE="NETWORK_STATE_CHANGE",e.ONLINE="ONLINE",e.OFFLINE="OFFLINE",e}({});function Km(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return 0===e.getListeners(t).length?Gl.reject(new _m(fm.UNEXPECTED_ERROR,"can not emit promise")):new Gl(((r,i)=>{e.emit(t,...n,r,i)}))}function Gm(e,t){let r=null,n=null;for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];if(e.emit(t,...o,(e=>{r=e}),(e=>{n=e})),null!==n)throw n;if(null===r)throw new _m(fm.UNEXPECTED_ERROR,"handler is not sync");return r}const Wm=new class extends Cm{set networkState(e){this.emit(jm.NETWORK_STATE_CHANGE,e,this._networkState),e===Vm.ONLINE?this.emit(jm.ONLINE):e===Vm.OFFLINE&&(this.onlineWaiter=new Gl((e=>{this.once(jm.ONLINE,(()=>{this.onlineWaiter=void 0,e(Vm.ONLINE)}))})),this.emit(jm.OFFLINE)),this._networkState=e}get networkState(){return this._networkState}get isOnline(){return this._networkState===Vm.ONLINE}constructor(){super(),hm(this,"_moduleName","network-indicator"),hm(this,"_networkState",Vm.ONLINE),hm(this,"onlineWaiter",void 0),window.addEventListener("online",(()=>{this.networkState=Vm.ONLINE})),window.addEventListener("offline",(()=>{this.networkState=Vm.OFFLINE}))}};var Hm=ve,Ym=Xe,zm=K,qm=ln,Jm=TypeError,Xm="Reduce of empty array with no initial value",Qm=function(e){return function(t,r,n,i){var o=Ym(t),s=zm(o),a=qm(o);if(Hm(r),0===a&&n<2)throw new Jm(Xm);var c=e?a-1:0,u=e?-1:1;if(n<2)for(;;){if(c in s){i=s[c],c+=u;break}if(c+=u,e?c<0:a<=c)throw new Jm(Xm)}for(;e?c>=0:a>c;c+=u)c in s&&(i=r(i,s[c],c,o));return i}},$m={left:Qm(!1),right:Qm(!0)}.left;wr({target:"Array",proto:!0,forced:!la&&he>79&&he<83||!GE("reduce")},{reduce:function(e){var t=arguments.length;return $m(this,e,t,t>1?arguments[1]:void 0)}});var Zm=$l("Array","reduce"),eT=ie,tT=Zm,rT=Array.prototype,nT=r((function(e){var t=e.reduce;return e===rT||eT(rT,e)&&t===rT.reduce?tT:t})),iT=o,oT=i.RegExp,sT=!iT((function(){var e=!0;try{oT(".","d")}catch(t){e=!1}var t={},r="",n=e?"dgimsy":"gimsy",i=function(e,n){Object.defineProperty(t,e,{get:function(){return r+=n,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var s in e&&(o.hasIndices="d"),o)i(s,o[s]);return Object.getOwnPropertyDescriptor(oT.prototype,"flags").get.call(t)!==n||r!==n})),aT=nr,cT=v,uT=Ze,dT=ie,lT={correct:sT},ET=function(){var e=aT(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},pT=RegExp.prototype,hT=lT.correct?function(e){return e.flags}:function(e){return lT.correct||!dT(pT,e)||uT(e,"flags")?e.flags:cT(ET,e)},fT=_,_T=Xe,mT=Math.floor,TT=fT("".charAt),RT=fT("".replace),AT=fT("".slice),ST=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,OT=/\$([$&'`]|\d{1,2})/g,IT=wr,bT=v,gT=_,NT=Y,CT=g,yT=Q,wT=nE,vT=ho,DT=Pe,LT=hT,PT=function(e,t,r,n,i,o){var s=r+e.length,a=n.length,c=OT;return void 0!==i&&(i=_T(i),c=ST),RT(o,c,(function(o,c){var u;switch(TT(c,0)){case"$":return"$";case"&":return e;case"`":return AT(t,0,r);case"'":return AT(t,s);case"<":u=i[AT(c,1,-1)];break;default:var d=+c;if(0===d)return o;if(d>a){var l=mT(d/10);return 0===l?o:l<=a?void 0===n[l-1]?TT(c,1):n[l-1]+TT(c,1):o}u=n[d-1]}return void 0===u?"":u}))},MT=pt("replace"),UT=TypeError,FT=gT("".indexOf),kT=gT("".replace),xT=gT("".slice),BT=Math.max;IT({target:"String",proto:!0},{replaceAll:function(e,t){var r,n,i,o,s,a,c,u,d,l,E=NT(this),p=0,h="";if(yT(e)){if((r=wT(e))&&(n=vT(NT(LT(e))),!~FT(n,"g")))throw new UT("`.replaceAll` does not allow non-global regexes");if(i=DT(e,MT))return bT(i,e,E,t);if(r)return kT(vT(E),e,t)}for(o=vT(E),s=vT(e),(a=CT(t))||(t=vT(t)),c=s.length,u=BT(1,c),d=FT(o,s);-1!==d;)l=a?vT(t(s,d,o)):PT(s,o,d,[],void 0,t),h+=xT(o,p,d)+l,p=d+c,d=d+u>o.length?-1:FT(o,s,d+u);return p<o.length&&(h+=xT(o,p)),h}});var VT=$l("String","replaceAll"),jT=ie,KT=VT,GT=String.prototype,WT=r((function(e){var t=e.replaceAll;return"string"==typeof e||e===GT||jT(GT,e)&&t===GT.replaceAll?KT:t}));const HT=[];for(let e=0;e<256;++e)HT.push((e+256).toString(16).slice(1));const YT="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);let zT;const qT=new Uint8Array(16);function JT(e,t,r){var n,i,o,s;const a=null!==(n=null!==(i=(e=e||{}).random)&&void 0!==i?i:null===(o=(s=e).rng)||void 0===o?void 0:o.call(s))&&void 0!==n?n:function(){if(!zT){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");zT=crypto.getRandomValues.bind(crypto)}return zT(qT)}();if(a.length<16)throw new Error("Random bytes length must be >= 16");if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){if((r=r||0)<0||r+16>t.length)throw new RangeError("UUID byte range ".concat(r,":").concat(r+15," is out of buffer bounds"));for(let e=0;e<16;++e)t[r+e]=a[e];return t}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(HT[e[t+0]]+HT[e[t+1]]+HT[e[t+2]]+HT[e[t+3]]+"-"+HT[e[t+4]]+HT[e[t+5]]+"-"+HT[e[t+6]]+HT[e[t+7]]+"-"+HT[e[t+8]]+HT[e[t+9]]+"-"+HT[e[t+10]]+HT[e[t+11]]+HT[e[t+12]]+HT[e[t+13]]+HT[e[t+14]]+HT[e[t+15]]).toLowerCase()}(a)}function XT(){return!YT||t||e?JT(e,t,r):YT();var e,t,r}function QT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?QT(Object(r),!0).forEach((function(t){hm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QT(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ZT(e){return JSON.parse(JSON.stringify(e))}const eR={};function tR(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=nT(t).call(t,((e,t)=>e+t.length),0),i=new Uint8Array(new ArrayBuffer(n));let o=0;return t.forEach((e=>{i.set(e,o),o+=e.length})),i}function rR(e){return window.TextEncoder?(new TextEncoder).encode(e).length:e.length}function nR(e){let t=0;return(/DingTalk/i.test(navigator.userAgent)||/AliApp/i.test(navigator.userAgent))&&e.realFormData&&(e=e.realFormData),e.forEach((e=>{t+="string"==typeof e?rR(e):e.size})),t+138}function iR(e){const t=new _m(fm.TIMEOUT,"timeout");return new Gl(((r,n)=>{window.setTimeout((()=>n(t)),e)}))}function oR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=arguments.length>1?arguments[1]:void 0;const r=Math.random().toString(16).substr(2,e).toLowerCase();return r.length===e?"".concat(t).concat(r):"".concat(t).concat(r)+oR(e-r.length,"")}function sR(){let e,t=!1;try{var r;e=WT(r=XT()).call(r,"-","")}catch(e){t=!0}return!t&&e&&32===e.length||(e=oR(32,"")),e.toUpperCase()}const aR=new class{constructor(){hm(this,"fnMap",new Map)}throttleByKey(e,t,r,n){for(var i=arguments.length,o=new Array(i>4?i-4:0),s=4;s<i;s++)o[s-4]=arguments[s];if(this.fnMap.has(t)){const i=this.fnMap.get(t);if(i.threshold!==r){i.fn(...i.args),clearTimeout(i.timer);const s=window.setTimeout((()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)}),r);this.fnMap.set(t,{fn:e,threshold:r,timer:s,args:o,skipFn:n})}else i.skipFn&&i.skipFn(...i.args),this.fnMap.set(t,$T($T({},i),{},{fn:e,args:o,skipFn:n}))}else{const i=window.setTimeout((()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)}),r);this.fnMap.set(t,{fn:e,threshold:r,timer:i,args:o,skipFn:n})}}},cR=aR.throttleByKey.bind(aR);function uR(e){return"object"==typeof e&&null!==e&&!(e instanceof RegExp)}function dR(e,t){let r=[0];if(t&&(r=new Array(t).fill(0)),0===e)return r;let n=0;for(;e>0&&(r[n]=255&e,e>>=8,n++,!t||n!==t););return r}function lR(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}let ER=1,pR=console;const hR={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4};function fR(e,t){return function(){return e.apply(t,arguments)}}const{toString:_R}=Object.prototype,{getPrototypeOf:mR}=Object,{iterator:TR,toStringTag:RR}=Symbol,AR=(SR=Object.create(null),e=>{const t=_R.call(e);return SR[t]||(SR[t]=t.slice(8,-1).toLowerCase())});var SR;const OR=e=>(e=e.toLowerCase(),t=>AR(t)===e),IR=e=>t=>typeof t===e,{isArray:bR}=Array,gR=IR("undefined");function NR(e){return null!==e&&!gR(e)&&null!==e.constructor&&!gR(e.constructor)&&wR(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const CR=OR("ArrayBuffer");const yR=IR("string"),wR=IR("function"),vR=IR("number"),DR=e=>null!==e&&"object"==typeof e,LR=e=>{if("object"!==AR(e))return!1;const t=mR(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||RR in e||TR in e)},PR=OR("Date"),MR=OR("File"),UR=OR("Blob"),FR=OR("FileList"),kR=OR("URLSearchParams"),[xR,BR,VR,jR]=["ReadableStream","Request","Response","Headers"].map(OR);function KR(e,t,{allOwnKeys:r=!1}={}){if(null==e)return;let n,i;if("object"!=typeof e&&(e=[e]),bR(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(NR(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let s;for(n=0;n<o;n++)s=i[n],t.call(null,e[s],s,e)}}function GR(e,t){if(NR(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n,i=r.length;for(;i-- >0;)if(n=r[i],t===n.toLowerCase())return n;return null}const WR="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,HR=e=>!gR(e)&&e!==WR;const YR=(zR="undefined"!=typeof Uint8Array&&mR(Uint8Array),e=>zR&&e instanceof zR);var zR;const qR=OR("HTMLFormElement"),JR=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),XR=OR("RegExp"),QR=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};KR(r,((r,i)=>{let o;!1!==(o=t(r,i,e))&&(n[i]=o||r)})),Object.defineProperties(e,n)};const $R=OR("AsyncFunction"),ZR=(eA="function"==typeof setImmediate,tA=wR(WR.postMessage),eA?setImmediate:tA?(rA=`axios@${Math.random()}`,nA=[],WR.addEventListener("message",(({source:e,data:t})=>{e===WR&&t===rA&&nA.length&&nA.shift()()}),!1),e=>{nA.push(e),WR.postMessage(rA,"*")}):e=>setTimeout(e));var eA,tA,rA,nA;const iA="undefined"!=typeof queueMicrotask?queueMicrotask.bind(WR):"undefined"!=typeof process&&process.nextTick||ZR;var oA={isArray:bR,isArrayBuffer:CR,isBuffer:NR,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||wR(e.append)&&("formdata"===(t=AR(e))||"object"===t&&wR(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&CR(e.buffer),t},isString:yR,isNumber:vR,isBoolean:e=>!0===e||!1===e,isObject:DR,isPlainObject:LR,isEmptyObject:e=>{if(!DR(e)||NR(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(e){return!1}},isReadableStream:xR,isRequest:BR,isResponse:VR,isHeaders:jR,isUndefined:gR,isDate:PR,isFile:MR,isBlob:UR,isRegExp:XR,isFunction:wR,isStream:e=>DR(e)&&wR(e.pipe),isURLSearchParams:kR,isTypedArray:YR,isFileList:FR,forEach:KR,merge:function e(){const{caseless:t,skipUndefined:r}=HR(this)&&this||{},n={},i=(i,o)=>{const s=t&&GR(n,o)||o;LR(n[s])&&LR(i)?n[s]=e(n[s],i):LR(i)?n[s]=e({},i):bR(i)?n[s]=i.slice():r&&gR(i)||(n[s]=i)};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&KR(arguments[e],i);return n},extend:(e,t,r,{allOwnKeys:n}={})=>(KR(t,((t,n)=>{r&&wR(t)?e[n]=fR(t,r):e[n]=t}),{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let i,o,s;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],n&&!n(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==r&&mR(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:AR,kindOfTest:OR,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(bR(e))return e;let t=e.length;if(!vR(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[TR]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:qR,hasOwnProperty:JR,hasOwnProp:JR,reduceDescriptors:QR,freezeMethods:e=>{QR(e,((t,r)=>{if(wR(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];wR(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return bR(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:GR,global:WR,isContextDefined:HR,isSpecCompliantForm:function(e){return!!(e&&wR(e.append)&&"FormData"===e[RR]&&e[TR])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(DR(e)){if(t.indexOf(e)>=0)return;if(NR(e))return e;if(!("toJSON"in e)){t[n]=e;const i=bR(e)?[]:{};return KR(e,((e,t)=>{const o=r(e,n+1);!gR(o)&&(i[t]=o)})),t[n]=void 0,i}}return e};return r(e,0)},isAsyncFn:$R,isThenable:e=>e&&(DR(e)||wR(e))&&wR(e.then)&&wR(e.catch),setImmediate:ZR,asap:iA,isIterable:e=>null!=e&&wR(e[TR])};function sA(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}oA.inherits(sA,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oA.toJSONObject(this.config),code:this.code,status:this.status}}});const aA=sA.prototype,cA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{cA[e]={value:e}})),Object.defineProperties(sA,cA),Object.defineProperty(aA,"isAxiosError",{value:!0}),sA.from=(e,t,r,n,i,o)=>{const s=Object.create(aA);oA.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e));const a=e&&e.message?e.message:"Error",c=null==t&&e?e.code:t;return sA.call(s,a,c,r,n,i),e&&null==s.cause&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",o&&Object.assign(s,o),s};function uA(e){return oA.isPlainObject(e)||oA.isArray(e)}function dA(e){return oA.endsWith(e,"[]")?e.slice(0,-2):e}function lA(e,t,r){return e?e.concat(t).map((function(e,t){return e=dA(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const EA=oA.toFlatObject(oA,{},null,(function(e){return/^is[A-Z]/.test(e)}));function pA(e,t,r){if(!oA.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=oA.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!oA.isUndefined(t[e])}))).metaTokens,i=r.visitor||u,o=r.dots,s=r.indexes,a=(r.Blob||"undefined"!=typeof Blob&&Blob)&&oA.isSpecCompliantForm(t);if(!oA.isFunction(i))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(oA.isDate(e))return e.toISOString();if(oA.isBoolean(e))return e.toString();if(!a&&oA.isBlob(e))throw new sA("Blob is not supported. Use a Buffer instead.");return oA.isArrayBuffer(e)||oA.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,r,i){let a=e;if(e&&!i&&"object"==typeof e)if(oA.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(oA.isArray(e)&&function(e){return oA.isArray(e)&&!e.some(uA)}(e)||(oA.isFileList(e)||oA.endsWith(r,"[]"))&&(a=oA.toArray(e)))return r=dA(r),a.forEach((function(e,n){!oA.isUndefined(e)&&null!==e&&t.append(!0===s?lA([r],n,o):null===s?r:r+"[]",c(e))})),!1;return!!uA(e)||(t.append(lA(i,r,o),c(e)),!1)}const d=[],l=Object.assign(EA,{defaultVisitor:u,convertValue:c,isVisitable:uA});if(!oA.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!oA.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+n.join("."));d.push(r),oA.forEach(r,(function(r,o){!0===(!(oA.isUndefined(r)||null===r)&&i.call(t,r,oA.isString(o)?o.trim():o,n,l))&&e(r,n?n.concat(o):[o])})),d.pop()}}(e),t}function hA(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function fA(e,t){this._pairs=[],e&&pA(e,this,t)}const _A=fA.prototype;function mA(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function TA(e,t,r){if(!t)return e;const n=r&&r.encode||mA;oA.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let o;if(o=i?i(t,r):oA.isURLSearchParams(t)?t.toString():new fA(t,r).toString(n),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}_A.append=function(e,t){this._pairs.push([e,t])},_A.toString=function(e){const t=e?function(t){return e.call(this,t,hA)}:hA;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var RA=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oA.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},AA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},SA={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:fA,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const OA="undefined"!=typeof window&&"undefined"!=typeof document,IA="object"==typeof navigator&&navigator||void 0,bA=OA&&(!IA||["ReactNative","NativeScript","NS"].indexOf(IA.product)<0),gA="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,NA=OA&&window.location.href||"http://localhost";var CA={...Object.freeze({__proto__:null,hasBrowserEnv:OA,hasStandardBrowserEnv:bA,hasStandardBrowserWebWorkerEnv:gA,navigator:IA,origin:NA}),...SA};function yA(e){function t(e,r,n,i){let o=e[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=e.length;if(o=!o&&oA.isArray(n)?n.length:o,a)return oA.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!s;n[o]&&oA.isObject(n[o])||(n[o]=[]);return t(e,r,n[o],i)&&oA.isArray(n[o])&&(n[o]=function(e){const t={},r=Object.keys(e);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],t[o]=e[o];return t}(n[o])),!s}if(oA.isFormData(e)&&oA.isFunction(e.entries)){const r={};return oA.forEachEntry(e,((e,n)=>{t(function(e){return oA.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,r,0)})),r}return null}const wA={transitional:AA,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,i=oA.isObject(e);i&&oA.isHTMLForm(e)&&(e=new FormData(e));if(oA.isFormData(e))return n?JSON.stringify(yA(e)):e;if(oA.isArrayBuffer(e)||oA.isBuffer(e)||oA.isStream(e)||oA.isFile(e)||oA.isBlob(e)||oA.isReadableStream(e))return e;if(oA.isArrayBufferView(e))return e.buffer;if(oA.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return pA(e,new CA.classes.URLSearchParams,{visitor:function(e,t,r,n){return CA.isNode&&oA.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((o=oA.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return pA(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||n?(t.setContentType("application/json",!1),function(e,t,r){if(oA.isString(e))try{return(t||JSON.parse)(e),oA.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||wA.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(oA.isResponse(e)||oA.isReadableStream(e))return e;if(e&&oA.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e,this.parseReviver)}catch(e){if(r){if("SyntaxError"===e.name)throw sA.from(e,sA.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:CA.classes.FormData,Blob:CA.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oA.forEach(["delete","get","head","post","put","patch"],(e=>{wA.headers[e]={}}));var vA=wA;const DA=oA.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const LA=Symbol("internals");function PA(e){return e&&String(e).trim().toLowerCase()}function MA(e){return!1===e||null==e?e:oA.isArray(e)?e.map(MA):String(e)}function UA(e,t,r,n,i){return oA.isFunction(n)?n.call(this,t,r):(i&&(t=r),oA.isString(t)?oA.isString(n)?-1!==t.indexOf(n):oA.isRegExp(n)?n.test(t):void 0:void 0)}class FA{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function i(e,t,r){const i=PA(t);if(!i)throw new Error("header name must be a non-empty string");const o=oA.findKey(n,i);(!o||void 0===n[o]||!0===r||void 0===r&&!1!==n[o])&&(n[o||t]=MA(e))}const o=(e,t)=>oA.forEach(e,((e,r)=>i(e,r,t)));if(oA.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(oA.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let r,n,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),r=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!r||t[r]&&DA[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t})(e),t);else if(oA.isObject(e)&&oA.isIterable(e)){let r,n,i={};for(const t of e){if(!oA.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[n=t[0]]=(r=i[n])?oA.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}o(i,t)}else null!=e&&i(t,e,r);return this}get(e,t){if(e=PA(e)){const r=oA.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(oA.isFunction(t))return t.call(this,e,r);if(oA.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=PA(e)){const r=oA.findKey(this,e);return!(!r||void 0===this[r]||t&&!UA(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function i(e){if(e=PA(e)){const i=oA.findKey(r,e);!i||t&&!UA(0,r[i],i,t)||(delete r[i],n=!0)}}return oA.isArray(e)?e.forEach(i):i(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const i=t[r];e&&!UA(0,this[i],i,e,!0)||(delete this[i],n=!0)}return n}normalize(e){const t=this,r={};return oA.forEach(this,((n,i)=>{const o=oA.findKey(r,i);if(o)return t[o]=MA(n),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}(i):String(i).trim();s!==i&&delete t[i],t[s]=MA(n),r[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return oA.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&oA.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach((e=>r.set(e))),r}static accessor(e){const t=(this[LA]=this[LA]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=PA(e);t[n]||(!function(e,t){const r=oA.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,i){return this[n].call(this,t,e,r,i)},configurable:!0})}))}(r,e),t[n]=!0)}return oA.isArray(e)?e.forEach(n):n(e),this}}FA.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),oA.reduceDescriptors(FA.prototype,(({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}})),oA.freezeMethods(FA);var kA=FA;function xA(e,t){const r=this||vA,n=t||r,i=kA.from(n.headers);let o=n.data;return oA.forEach(e,(function(e){o=e.call(r,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function BA(e){return!(!e||!e.__CANCEL__)}function VA(e,t,r){sA.call(this,null==e?"canceled":e,sA.ERR_CANCELED,t,r),this.name="CanceledError"}function jA(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new sA("Request failed with status code "+r.status,[sA.ERR_BAD_REQUEST,sA.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}oA.inherits(VA,sA,{__CANCEL__:!0});const KA=(e,t,r=3)=>{let n=0;const i=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const c=Date.now(),u=n[s];i||(i=c),r[o]=a,n[o]=c;let d=s,l=0;for(;d!==o;)l+=r[d++],d%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),c-i<t)return;const E=u&&c-u;return E?Math.round(1e3*l/E):void 0}}(50,250);return function(e,t){let r,n,i=0,o=1e3/t;const s=(t,o=Date.now())=>{i=o,r=null,n&&(clearTimeout(n),n=null),e(...t)};return[(...e)=>{const t=Date.now(),a=t-i;a>=o?s(e,t):(r=e,n||(n=setTimeout((()=>{n=null,s(r)}),o-a)))},()=>r&&s(r)]}((r=>{const o=r.loaded,s=r.lengthComputable?r.total:void 0,a=o-n,c=i(a);n=o;e({loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&o<=s?(s-o)/c:void 0,event:r,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),r)},GA=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},WA=e=>(...t)=>oA.asap((()=>e(...t)));var HA=CA.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,CA.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(CA.origin),CA.navigator&&/(msie|trident)/i.test(CA.navigator.userAgent)):()=>!0,YA=CA.hasStandardBrowserEnv?{write(e,t,r,n,i,o,s){if("undefined"==typeof document)return;const a=[`${e}=${encodeURIComponent(t)}`];oA.isNumber(r)&&a.push(`expires=${new Date(r).toUTCString()}`),oA.isString(n)&&a.push(`path=${n}`),oA.isString(i)&&a.push(`domain=${i}`),!0===o&&a.push("secure"),oA.isString(s)&&a.push(`SameSite=${s}`),document.cookie=a.join("; ")},read(e){if("undefined"==typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function zA(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const qA=e=>e instanceof kA?{...e}:e;function JA(e,t){t=t||{};const r={};function n(e,t,r,n){return oA.isPlainObject(e)&&oA.isPlainObject(t)?oA.merge.call({caseless:n},e,t):oA.isPlainObject(t)?oA.merge({},t):oA.isArray(t)?t.slice():t}function i(e,t,r,i){return oA.isUndefined(t)?oA.isUndefined(e)?void 0:n(void 0,e,0,i):n(e,t,0,i)}function o(e,t){if(!oA.isUndefined(t))return n(void 0,t)}function s(e,t){return oA.isUndefined(t)?oA.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(r,i,o){return o in t?n(r,i):o in e?n(void 0,r):void 0}const c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t,r)=>i(qA(e),qA(t),0,!0)};return oA.forEach(Object.keys({...e,...t}),(function(n){const o=c[n]||i,s=o(e[n],t[n],n);oA.isUndefined(s)&&o!==a||(r[n]=s)})),r}var XA=e=>{const t=JA({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=t;if(t.headers=s=kA.from(s),t.url=TA(zA(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),oA.isFormData(r))if(CA.hasStandardBrowserEnv||CA.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(oA.isFunction(r.getHeaders)){const e=r.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach((([e,r])=>{t.includes(e.toLowerCase())&&s.set(e,r)}))}if(CA.hasStandardBrowserEnv&&(n&&oA.isFunction(n)&&(n=n(t)),n||!1!==n&&HA(t.url))){const e=i&&o&&YA.read(o);e&&s.set(i,e)}return t};var QA="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){const n=XA(e);let i=n.data;const o=kA.from(n.headers).normalize();let s,a,c,u,d,{responseType:l,onUploadProgress:E,onDownloadProgress:p}=n;function h(){u&&u(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(s),n.signal&&n.signal.removeEventListener("abort",s)}let f=new XMLHttpRequest;function _(){if(!f)return;const n=kA.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());jA((function(e){t(e),h()}),(function(e){r(e),h()}),{data:l&&"text"!==l&&"json"!==l?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f}),f=null}f.open(n.method.toUpperCase(),n.url,!0),f.timeout=n.timeout,"onloadend"in f?f.onloadend=_:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(_)},f.onabort=function(){f&&(r(new sA("Request aborted",sA.ECONNABORTED,e,f)),f=null)},f.onerror=function(t){const n=new sA(t&&t.message?t.message:"Network Error",sA.ERR_NETWORK,e,f);n.event=t||null,r(n),f=null},f.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const i=n.transitional||AA;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new sA(t,i.clarifyTimeoutError?sA.ETIMEDOUT:sA.ECONNABORTED,e,f)),f=null},void 0===i&&o.setContentType(null),"setRequestHeader"in f&&oA.forEach(o.toJSON(),(function(e,t){f.setRequestHeader(t,e)})),oA.isUndefined(n.withCredentials)||(f.withCredentials=!!n.withCredentials),l&&"json"!==l&&(f.responseType=n.responseType),p&&([c,d]=KA(p,!0),f.addEventListener("progress",c)),E&&f.upload&&([a,u]=KA(E),f.upload.addEventListener("progress",a),f.upload.addEventListener("loadend",u)),(n.cancelToken||n.signal)&&(s=t=>{f&&(r(!t||t.type?new VA(null,e,f):t),f.abort(),f=null)},n.cancelToken&&n.cancelToken.subscribe(s),n.signal&&(n.signal.aborted?s():n.signal.addEventListener("abort",s)));const m=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);m&&-1===CA.protocols.indexOf(m)?r(new sA("Unsupported protocol "+m+":",sA.ERR_BAD_REQUEST,e)):f.send(i||null)}))};var $A=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const i=function(e){if(!r){r=!0,s();const t=e instanceof Error?e:this.reason;n.abort(t instanceof sA?t:new VA(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null,i(new sA(`timeout ${t} of ms exceeded`,sA.ETIMEDOUT))}),t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:a}=n;return a.unsubscribe=()=>oA.asap(s),a}};const ZA=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,i=0;for(;i<r;)n=i+t,yield e.slice(i,n),i=n},eS=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}},tS=(e,t,r,n)=>{const i=async function*(e,t){for await(const r of eS(e))yield*ZA(r,t)}(e,t);let o,s=0,a=e=>{o||(o=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await i.next();if(t)return a(),void e.close();let o=n.byteLength;if(r){let e=s+=o;r(e)}e.enqueue(new Uint8Array(n))}catch(e){throw a(e),e}},cancel:e=>(a(e),i.return())},{highWaterMark:2})},{isFunction:rS}=oA,nS=(({Request:e,Response:t})=>({Request:e,Response:t}))(oA.global),{ReadableStream:iS,TextEncoder:oS}=oA.global,sS=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},aS=e=>{e=oA.merge.call({skipUndefined:!0},nS,e);const{fetch:t,Request:r,Response:n}=e,i=t?rS(t):"function"==typeof fetch,o=rS(r),s=rS(n);if(!i)return!1;const a=i&&rS(iS),c=i&&("function"==typeof oS?(u=new oS,e=>u.encode(e)):async e=>new Uint8Array(await new r(e).arrayBuffer()));var u;const d=o&&a&&sS((()=>{let e=!1;const t=new r(CA.origin,{body:new iS,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),l=s&&a&&sS((()=>oA.isReadableStream(new n("").body))),E={stream:l&&(e=>e.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!E[e]&&(E[e]=(t,r)=>{let n=t&&t[e];if(n)return n.call(t);throw new sA(`Response type '${e}' is not supported`,sA.ERR_NOT_SUPPORT,r)})}));const p=async(e,t)=>{const n=oA.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(oA.isBlob(e))return e.size;if(oA.isSpecCompliantForm(e)){const t=new r(CA.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return oA.isArrayBufferView(e)||oA.isArrayBuffer(e)?e.byteLength:(oA.isURLSearchParams(e)&&(e+=""),oA.isString(e)?(await c(e)).byteLength:void 0)})(t):n};return async e=>{let{url:i,method:s,data:a,signal:c,cancelToken:u,timeout:h,onDownloadProgress:f,onUploadProgress:_,responseType:m,headers:T,withCredentials:R="same-origin",fetchOptions:A}=XA(e),S=t||fetch;m=m?(m+"").toLowerCase():"text";let O=$A([c,u&&u.toAbortSignal()],h),I=null;const b=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let g;try{if(_&&d&&"get"!==s&&"head"!==s&&0!==(g=await p(T,a))){let e,t=new r(i,{method:"POST",body:a,duplex:"half"});if(oA.isFormData(a)&&(e=t.headers.get("content-type"))&&T.setContentType(e),t.body){const[e,r]=GA(g,KA(WA(_)));a=tS(t.body,65536,e,r)}}oA.isString(R)||(R=R?"include":"omit");const t=o&&"credentials"in r.prototype,c={...A,signal:O,method:s.toUpperCase(),headers:T.normalize().toJSON(),body:a,duplex:"half",credentials:t?R:void 0};I=o&&new r(i,c);let u=await(o?S(I,A):S(i,c));const h=l&&("stream"===m||"response"===m);if(l&&(f||h&&b)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=u[t]}));const t=oA.toFiniteNumber(u.headers.get("content-length")),[r,i]=f&&GA(t,KA(WA(f),!0))||[];u=new n(tS(u.body,65536,r,(()=>{i&&i(),b&&b()})),e)}m=m||"text";let N=await E[oA.findKey(E,m)||"text"](u,e);return!h&&b&&b(),await new Promise(((t,r)=>{jA(t,r,{data:N,headers:kA.from(u.headers),status:u.status,statusText:u.statusText,config:e,request:I})}))}catch(t){if(b&&b(),t&&"TypeError"===t.name&&/Load failed|fetch/i.test(t.message))throw Object.assign(new sA("Network Error",sA.ERR_NETWORK,e,I),{cause:t.cause||t});throw sA.from(t,t&&t.code,e,I)}}},cS=new Map,uS=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:i}=t,o=[n,i,r];let s,a,c=o.length,u=cS;for(;c--;)s=o[c],a=u.get(s),void 0===a&&u.set(s,a=c?new Map:aS(t)),u=a;return a};uS();const dS={http:null,xhr:QA,fetch:{get:uS}};oA.forEach(dS,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const lS=e=>`- ${e}`,ES=e=>oA.isFunction(e)||null===e||!1===e;var pS={getAdapter:function(e,t){e=oA.isArray(e)?e:[e];const{length:r}=e;let n,i;const o={};for(let s=0;s<r;s++){let r;if(n=e[s],i=n,!ES(n)&&(i=dS[(r=String(n)).toLowerCase()],void 0===i))throw new sA(`Unknown adapter '${r}'`);if(i&&(oA.isFunction(i)||(i=i.get(t))))break;o[r||"#"+s]=i}if(!i){const e=Object.entries(o).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new sA("There is no suitable adapter to dispatch the request "+(r?e.length>1?"since :\n"+e.map(lS).join("\n"):" "+lS(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return i},adapters:dS};function hS(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new VA(null,e)}function fS(e){hS(e),e.headers=kA.from(e.headers),e.data=xA.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return pS.getAdapter(e.adapter||vA.adapter,e)(e).then((function(t){return hS(e),t.data=xA.call(e,e.transformResponse,t),t.headers=kA.from(t.headers),t}),(function(t){return BA(t)||(hS(e),t&&t.response&&(t.response.data=xA.call(e,e.transformResponse,t.response),t.response.headers=kA.from(t.response.headers))),Promise.reject(t)}))}const _S="1.13.2",mS={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{mS[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const TS={};mS.transitional=function(e,t,r){function n(e,t){return"[Axios v"+_S+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,i,o)=>{if(!1===e)throw new sA(n(i," has been removed"+(t?" in "+t:"")),sA.ERR_DEPRECATED);return t&&!TS[i]&&(TS[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,o)}},mS.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};var RS={assertOptions:function(e,t,r){if("object"!=typeof e)throw new sA("options must be an object",sA.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const o=n[i],s=t[o];if(s){const t=e[o],r=void 0===t||s(t,o,e);if(!0!==r)throw new sA("option "+o+" must be "+r,sA.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new sA("Unknown option "+o,sA.ERR_BAD_OPTION)}},validators:mS};const AS=RS.validators;let SS=class{constructor(e){this.defaults=e||{},this.interceptors={request:new RA,response:new RA}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const r=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?r&&!String(e.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+r):e.stack=r}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=JA(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:i}=t;void 0!==r&&RS.assertOptions(r,{silentJSONParsing:AS.transitional(AS.boolean),forcedJSONParsing:AS.transitional(AS.boolean),clarifyTimeoutError:AS.transitional(AS.boolean)},!1),null!=n&&(oA.isFunction(n)?t.paramsSerializer={serialize:n}:RS.assertOptions(n,{encode:AS.function,serialize:AS.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),RS.assertOptions(t,{baseUrl:AS.spelling("baseURL"),withXsrfToken:AS.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&oA.merge(i.common,i[t.method]);i&&oA.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=kA.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const c=[];let u;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let d,l=0;if(!a){const e=[fS.bind(this),void 0];for(e.unshift(...s),e.push(...c),d=e.length,u=Promise.resolve(t);l<d;)u=u.then(e[l++],e[l++]);return u}d=s.length;let E=t;for(;l<d;){const e=s[l++],t=s[l++];try{E=e(E)}catch(e){t.call(this,e);break}}try{u=fS.call(this,E)}catch(e){return Promise.reject(e)}for(l=0,d=c.length;l<d;)u=u.then(c[l++],c[l++]);return u}getUri(e){return TA(zA((e=JA(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};oA.forEach(["delete","get","head","options"],(function(e){SS.prototype[e]=function(t,r){return this.request(JA(r||{},{method:e,url:t,data:(r||{}).data}))}})),oA.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,i){return this.request(JA(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}SS.prototype[e]=t(),SS.prototype[e+"Form"]=t(!0)}));var OS=SS;class IS{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,i){r.reason||(r.reason=new VA(e,n,i),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new IS((function(t){e=t})),cancel:e}}}var bS=IS;const gS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(gS).forEach((([e,t])=>{gS[t]=e}));var NS=gS;const CS=function e(t){const r=new OS(t),n=fR(OS.prototype.request,r);return oA.extend(n,OS.prototype,r,{allOwnKeys:!0}),oA.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(JA(t,r))},n}(vA);CS.Axios=OS,CS.CanceledError=VA,CS.CancelToken=bS,CS.isCancel=BA,CS.VERSION=_S,CS.toFormData=pA,CS.AxiosError=sA,CS.Cancel=CS.CanceledError,CS.all=function(e){return Promise.all(e)},CS.spread=function(e){return function(t){return e.apply(null,t)}},CS.isAxiosError=function(e){return oA.isObject(e)&&!0===e.isAxiosError},CS.mergeConfig=JA,CS.AxiosHeaders=kA,CS.formToJSON=e=>yA(oA.isHTMLForm(e)?new FormData(e):e),CS.getAdapter=pS.getAdapter,CS.HttpStatusCode=NS,CS.default=CS;var yS=CS;function wS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wS(Object(r),!0).forEach((function(t){hm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}let DS,LS=0,PS=0;function MS(e,t,r,n){return new Gl(((i,o)=>{t.responseType=t.responseType||"json",t.data&&!r?(t.data=JSON.stringify(t.data),LS+=rR(t.data)):r&&(t.data.size?LS+=t.data.size:t.data instanceof FormData?LS+=nR(t.data):LS+=rR(JSON.stringify(t.data))),t.headers=t.headers||{},t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json",t.method="POST",t.url=e,yS.request(t).then((e=>{"string"==typeof e.data?PS+=rR(e.data):e.data instanceof ArrayBuffer||e.data instanceof Uint8Array?PS+=e.data.byteLength:PS+=rR(JSON.stringify(e.data)),n&&i({data:e.data,headers:e.headers}),i(e.data)})).catch((e=>{yS.isCancel(e)?o(new _m(fm.OPERATION_ABORTED,"cancel token canceled")):"ECONNABORTED"===e.code?o(new _m(fm.NETWORK_TIMEOUT,e.message)):e.response?o(new _m(fm.NETWORK_RESPONSE_ERROR,e.response.status)):o(new _m(fm.NETWORK_ERROR,e.message))}))}))}function US(e){if(e.match(/[0-9]+\.[0-9]+\.[0-9]+$/))return e;const t=e.match(/([0-9]+\.[0-9]+\.[0-9]+)\-([0-9]+)/);if(t&&t[1]&&t[2]){const e=t[1],r=t[2];return"".concat(e,".").concat(r)}return"4.0.0.999"}function FS(e){if(Array.isArray(e))return e.map((e=>e));if(!kS(e))return e;const t={};for(const r in e){const n=e[r];kS(n)||Array.isArray(n)?t[r]=FS(n):t[r]=n}return t}function kS(e){return!("object"!=typeof e||Array.isArray(e)||!e)}class xS{constructor(e){hm(this,"input",[]),hm(this,"size",void 0),this.size=e}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)}diffMean(){return 0===this.input.length?0:(this.input[this.input.length-1]-this.input[0])/this.input.length}}const BS={address:"unknown",candidateType:"unknown",id:"unknown",port:0,priority:0,protocol:"unknown",type:"unknown"},VS={timestamp:0,bitrate:{actualEncoded:0,transmit:0},sendPacketLossRate:0,recvPacketLossRate:0,videoRecv:[],videoSend:[],audioRecv:[],audioSend:[],transport:{bytesSent:0,bytesReceived:0,packetsSent:0,packetsReceived:0},selectedCandidatePair:{id:"unknown",localCandidate:BS,remoteCandidate:BS},updateInterval:0},jS={firsCount:0,nacksCount:0,plisCount:0,framesDecodeCount:0,framesDecodeInterval:0,framesDecodeFreezeTime:0,decodeFrameRate:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,qpSumPerFrame:0,framesDroppedCount:0,outputFrameRate:0,packetsDiscarded:0,framesAssembledFromMultiplePackets:0,totalProcessingDelay:0,avgDecodeMs:0,avgFramesAssembledFromMultiplePacketsMs:0,avgProcessingDelayMs:0,avgInterFrameDelayMs:0,totalAssemblyTime:0},KS={firsCount:0,nacksCount:0,plisCount:0,frameCount:0,bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0,qpSumPerFrame:0},GS={bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0},WS={jitterBufferMs:0,jitterMs:0,bytes:0,packetsLost:0,packetLostRate:0,packetsDiscarded:0,packets:0,ssrc:0,receivedFrames:0,droppedFrames:0,concealedSamples:0,totalSamplesReceived:0,silentConcealedSamples:0,concealmentEvents:0,freezeMs80:0,freezeMs200:0,freezeSamples80:0,freezeSamples200:0};function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function YS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?HS(Object(r),!0).forEach((function(t){hm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class zS{constructor(e,t){hm(this,"onFirstVideoReceived",void 0),hm(this,"onFirstVideoDecoded",void 0),hm(this,"onFirstAudioReceived",void 0),hm(this,"onFirstVideoDecodedTimeout",void 0),hm(this,"onFirstAudioDecoded",void 0),hm(this,"onSelectedLocalCandidateChanged",void 0),hm(this,"onSelectedRemoteCandidateChanged",void 0),hm(this,"videoIsReady",!1),hm(this,"videoIsReady2",{}),hm(this,"pc",void 0),hm(this,"options",void 0),hm(this,"intervalTimer",void 0),hm(this,"stats",FS(VS)),hm(this,"isFirstVideoReceived",{}),hm(this,"isFirstVideoDecoded",{}),hm(this,"isFirstAudioReceived",{}),hm(this,"isFirstAudioDecoded",{}),hm(this,"isFirstVideoDecodedTimeout",{}),hm(this,"lossRateWindowStats",[]),this.pc=e,this.options=t,this.intervalTimer=window.setInterval((async()=>{this.updateStats()}),this.options.updateInterval)}getStats(){return this.stats}getSelectedCandidatePair(){return new Gl((e=>{e({local:YS({},BS),remote:YS({},BS)})}))}setVideoIsReady(e){this.videoIsReady=e}setVideoIsReady2(e,t){this.videoIsReady2[e]=t}getVideoIsReady(e){return this.videoIsReady2[e]||!1}setIsFirstAudioDecoded(e){}destroy(){window.clearInterval(this.intervalTimer),this.pc=void 0}calcLossRate(e){this.lossRateWindowStats.push(e),this.lossRateWindowStats.length>this.options.lossRateInterval&&this.lossRateWindowStats.splice(0,1);const t=this.lossRateWindowStats.length,r=["videoSend","audioSend","videoRecv","audioRecv"];let n=0,i=0,o=0,s=0;for(const a of r)e[a].forEach(((e,r)=>{if(!this.lossRateWindowStats[t-1][a][r]||!this.lossRateWindowStats[0][a][r])return;const c=this.lossRateWindowStats[t-1][a][r].packets-this.lossRateWindowStats[0][a][r].packets,u=this.lossRateWindowStats[t-1][a][r].packetsLost-this.lossRateWindowStats[0][a][r].packetsLost;"videoSend"===a||"audioSend"===a?(n+=c,o+=u):(i+=c,s+=u),Number.isNaN(c)||Number.isNaN(c)?e.packetLostRate=0:e.packetLostRate=c<=0||u<=0?0:u/(c+u)}));e.sendPacketLossRate=n<=0||o<=0?0:o/(n+o),e.recvPacketLossRate=i<=0||s<=0?0:s/(i+s)}}function qS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function JS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qS(Object(r),!0).forEach((function(t){hm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class XS extends zS{constructor(){super(...arguments),hm(this,"_stats",VS),hm(this,"lastDecodeVideoReceiverStats",new Map)}async updateStats(){const e=await this._getStats(),t=this.statsResponsesToObjects(e);this._stats=FS(VS);const r=t.filter((e=>"ssrc"===e.type));this.processSSRCStats(r);const n=t.find((e=>"VideoBwe"===e.type));n&&this.processBandwidthStats(n),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}processBandwidthStats(e){this._stats.bitrate={actualEncoded:Number(e.googActualEncBitrate),targetEncoded:Number(e.googTargetEncBitrate),retransmit:Number(e.googRetransmitBitrate),transmit:Number(e.googTransmitBitrate)},this._stats.sendBandwidth=Number(e.googAvailableSendBandwidth)}processSSRCStats(e){e.forEach((e=>{var t;const r=RE(t=e.id).call(t,"send");switch("".concat(e.mediaType,"_").concat(r?"send":"recv")){case"video_send":{const t=FS(KS);t.codec=e.googCodecName,t.adaptionChangeReason="none",e.googCpuLimitedResolution&&(t.adaptionChangeReason="cpu"),e.googBandwidthLimitedResolution&&(t.adaptionChangeReason="bandwidth"),t.avgEncodeMs=Number(e.googAvgEncodeMs),t.inputFrame={width:Number(e.googFrameWidthInput)||Number(e.googFrameWidthSent),height:Number(e.googFrameHeightInput)||Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},t.sentFrame={width:Number(e.googFrameWidthSent),height:Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},t.firsCount=Number(e.googFirReceived),t.nacksCount=Number(e.googNacksReceived),t.plisCount=Number(e.googPlisReceived),t.frameCount=Number(e.framesEncoded),t.bytes=Number(e.bytesSent),t.packets=Number(e.packetsSent),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.rttMs=Number(e.googRtt||0),this._stats.videoSend.push(t),this._stats.rtt=t.rttMs;break}case"video_recv":{const t=FS(jS),r=this.lastDecodeVideoReceiverStats.get(Number(e.ssrc));if(t.codec=e.googCodecName,t.targetDelayMs=Number(e.googTargetDelayMs),t.renderDelayMs=Number(e.googRenderDelayMs),t.currentDelayMs=Number(e.googCurrentDelayMs),t.minPlayoutDelayMs=Number(e.googMinPlayoutDelayMs),t.decodeMs=Number(e.googDecodeMs),t.maxDecodeMs=Number(e.googMaxDecodeMs),t.receivedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateReceived)},t.decodedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateDecoded)},t.decodeFrameRate=Number(e.googFrameRateDecoded),t.outputFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateOutput)},t.jitterBufferMs=Number(e.googJitterBufferMs),t.firsCount=Number(e.googFirsSent),t.nacksCount=Number(e.googNacksSent),t.plisCount=Number(e.googPlisSent),t.framesDecodeCount=Number(e.framesDecoded),t.bytes=Number(e.bytesReceived),t.packets=Number(e.packetsReceived),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.packets>0&&!this.isFirstVideoReceived[t.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(t.ssrc),this.isFirstVideoReceived[t.ssrc]=!0),t.framesDecodeCount>0&&!this.isFirstVideoDecoded[t.ssrc]&&(this.onFirstVideoDecoded&&this.onFirstVideoDecoded(t.ssrc,t.decodedFrame.width,t.decodedFrame.height),this.isFirstVideoDecoded[t.ssrc]=!0),r){const n=r.stats,i=Date.now()-r.lts;t.framesDecodeFreezeTime=n.framesDecodeFreezeTime,t.framesDecodeInterval=n.framesDecodeInterval,t.framesDecodeCount>n.framesDecodeCount&&this.isFirstVideoDecoded[t.ssrc]?(r.lts=Date.now(),t.framesDecodeInterval=i,t.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e.ssrc,10))?t.framesDecodeFreezeTime+=t.framesDecodeInterval:this.setVideoIsReady2(parseInt(e.ssrc,10),!0))):t.framesDecodeCount<r.stats.framesDecodeCount&&(t.framesDecodeInterval=0)}this.lastDecodeVideoReceiverStats.set(t.ssrc,{stats:JS({},t),lts:Date.now()}),this._stats.videoRecv.push(t);break}case"audio_recv":{const t=FS(WS);t.codec=e.googCodecName,t.outputLevel=Math.abs(Number(e.audioOutputLevel))/32767,t.decodingCNG=Number(e.googDecodingCNG),t.decodingCTN=Number(e.googDecodingCTN),t.decodingCTSG=Number(e.googDecodingCTSG),t.decodingNormal=Number(e.googDecodingNormal),t.decodingPLC=Number(e.googDecodingPLC),t.decodingPLCCNG=Number(e.googDecodingPLCCNG),t.expandRate=Number(e.googExpandRate),t.accelerateRate=Number(e.googAccelerateRate),t.preemptiveExpandRate=Number(e.googPreemptiveExpandRate),t.secondaryDecodedRate=Number(e.googSecondaryDecodedRate),t.speechExpandRate=Number(e.googSpeechExpandRate),t.preferredJitterBufferMs=Number(e.googPreferredJitterBufferMs),t.jitterBufferMs=Number(e.googJitterBufferMs),t.jitterMs=Number(e.googJitterReceived),t.bytes=Number(e.bytesReceived),t.packets=Number(e.packetsReceived),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.receivedFrames=Number(e.googDecodingCTN)||Number(e.packetsReceived),t.droppedFrames=Number(e.googDecodingPLC)+Number(e.googDecodingPLCCNG)||Number(e.packetsLost),t.receivedFrames>0&&!this.isFirstAudioReceived[t.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(t.ssrc),this.isFirstAudioReceived[t.ssrc]=!0),t.decodingNormal>0&&!this.isFirstAudioDecoded[t.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(t.ssrc),this.isFirstAudioDecoded[t.ssrc]=!0),this._stats.audioRecv.push(t);break}case"audio_send":{const t=FS(GS);t.codec=e.googCodecName,t.inputLevel=Math.abs(Number(e.audioInputLevel))/32767,t.aecReturnLoss=Number(e.googEchoCancellationReturnLoss||0),t.aecReturnLossEnhancement=Number(e.googEchoCancellationReturnLossEnhancement||0),t.residualEchoLikelihood=Number(e.googResidualEchoLikelihood||0),t.residualEchoLikelihoodRecentMax=Number(e.googResidualEchoLikelihoodRecentMax||0),t.bytes=Number(e.bytesSent),t.packets=Number(e.packetsSent),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.rttMs=Number(e.googRtt||0),this._stats.rtt=t.rttMs,this._stats.audioSend.push(t);break}}}))}_getStats(){return new Gl(((e,t)=>{this.pc.getStats(e,t)}))}statsResponsesToObjects(e){const t=[];return e.result().forEach((e=>{const r={id:e.id,timestamp:e.timestamp.valueOf().toString(),type:e.type};e.names().forEach((t=>{r[t]=e.stat(t)})),t.push(r)})),t}}var QS=$l("Array","values"),$S=Ui,ZS=Ze,eO=ie,tO=QS,rO=Array.prototype,nO={DOMTokenList:!0,NodeList:!0},iO=r((function(e){var t=e.values;return e===rO||eO(rO,e)&&t===rO.values||ZS(nO,$S(e))?tO:t}));let oO=function(e){return e.BANDWIDTH="bandwidth",e.CPU="cpu",e.NONE="none",e.OTHER="other",e}({}),sO=function(e){return e.L1T1="L1T1",e.L1T2="L1T2",e.L1T3="L1T3",e.L1T3_KEY="L1T3_KEY",e.L2T1_KEY="L2T1_KEY",e.L2T2_KEY="L2T2_KEY",e.L2T3_KEY="L2T3_KEY",e.L3T1_KEY="L3T1_KEY",e.L3T2_KEY="L3T2_KEY",e.L3T3_KEY="L3T3_KEY",e}({}),aO=function(e){return e[e.new=0]="new",e[e.connecting=1]="connecting",e[e.connected=2]="connected",e[e.disconnected=3]="disconnected",e[e.failed=4]="failed",e[e.closed=5]="closed",e}({}),cO=function(e){return e.CERTIFICATE="certificate",e.CODEC="codec",e.CANDIDATE_PAIR="candidate-pair",e.LOCAL_CANDIDATE="local-candidate",e.REMOTE_CANDIDATE="remote-candidate",e.INBOUND="inbound-rtp",e.TRACK="track",e.OUTBOUND="outbound-rtp",e.PC="peer-connection",e.REMOTE_INBOUND="remote-inbound-rtp",e.REMOTE_OUTBOUND="remote-outbound-rtp",e.TRANSPORT="transport",e.CSRC="csrc",e.DATA_CHANNEL="data-channel",e.STREAM="stream",e.SENDER="sender",e.RECEIVER="receiver",e}({});var uO=function(e){return e[e.kNone=1]="kNone",e[e.kMillisecondsFromSeconds=1e3]="kMillisecondsFromSeconds",e[e.kBytesToBits=8]="kBytesToBits",e}(uO||{});function dO(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:uO.kNone;if(!t)return;const o=Number(t[r]);if("number"!=typeof o)return;const s=Number(t[n]);if("number"!=typeof s)return;if(!e)return s?o/s*i:void 0;const a=Number(e[r]);if("number"!=typeof a)return;const c=Number(e[n]);if("number"!=typeof c)return;const u=s-c;return u?(o-a)/u*i:void 0}function lO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function EO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lO(Object(r),!0).forEach((function(t){hm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class pO extends zS{constructor(){super(...arguments),hm(this,"_stats",VS),hm(this,"report",void 0),hm(this,"lastDecodeVideoReceiverStats",new Map),hm(this,"lastVideoFramesRecv",new Map),hm(this,"lastVideoFramesSent",new Map),hm(this,"lastVideoFramesDecode",new Map),hm(this,"lastVideoFramesOutput",new Map),hm(this,"lastVideoJBDelay",new Map),hm(this,"lastAudioJBDelay",new Map),hm(this,"mediaBytesSent",new Map),hm(this,"mediaBytesRetransmit",new Map),hm(this,"mediaBytesTargetEncode",new Map),hm(this,"lastDecodeAudioReceiverStats",new Map),hm(this,"lastAudioConcealment",new Map),hm(this,"lastEncoderMs",new Map)}async updateStats(){this.report=await this.pc.getStats(),this._stats=FS(VS),this.report.forEach((e=>{switch(e.type){case cO.OUTBOUND:case cO.INBOUND:{const t=e.mediaType||e.kind,r=!t&&"frameWidth"in e,n=!t&&!("frameWidth"in e);e.type===cO.OUTBOUND?"audio"===t||n?this.processAudioOutboundStats(e):("video"===t||r)&&this.processVideoOutboundStats(e):e.type===cO.INBOUND&&("audio"===t||n?this.processAudioInboundStats(e):("video"===t||r)&&this.processVideoInboundStats(e));break}case cO.TRANSPORT:{this.processTransportStats(e);const t=this.report.get(e.selectedCandidatePairId);t&&this.processCandidatePairStats(t);break}case cO.CANDIDATE_PAIR:e.selected&&this.processCandidatePairStats(e)}})),this.updateSendBitrate(),this._stats.updateInterval=Date.now()-this.stats.timestamp,this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}async getSelectedCandidatePair(){const e=await this.pc.getStats(),t={local:EO({},BS),remote:EO({},BS)};return e.forEach((r=>{let n;if(r.type===cO.TRANSPORT&&(n=e.get(r.selectedCandidatePairId)),r.type===cO.CANDIDATE_PAIR&&r.selected&&(n=r),n){const r=(e,t)=>{e.type=t.type,e.id=t.id,t.address&&(e.address=t.address),t.candidateType&&(e.candidateType=t.candidateType),t.port&&(e.port=t.port),t.priority&&(e.priority=t.priority),t.protocol&&(e.protocol=t.protocol),t.relayProtocol&&(e.relayProtocol=t.relayProtocol)};if(n.localCandidateId){const i=e.get(n.localCandidateId);i&&r(t.local,i)}if(n.remoteCandidateId){const i=e.get(n.remoteCandidateId);i&&r(t.remote,i)}}})),t}processCandidatePairStats(e){if(this._stats.sendBandwidth=e.availableOutgoingBitrate||0,e.currentRoundTripTime&&(this._stats.rtt=1e3*e.currentRoundTripTime),this._stats.videoSend.forEach((t=>{e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)})),this._stats.audioSend.forEach((t=>{e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)})),this._stats.selectedCandidatePair.id=e.id,e.localCandidateId){const t=this.report.get(e.localCandidateId);t&&this.processCandidateStats(t)}if(e.remoteCandidateId){const t=this.report.get(e.remoteCandidateId);t&&this.processCandidateStats(t)}}processCandidateStats(e){let t;e.type===cO.LOCAL_CANDIDATE&&(t=this._stats.selectedCandidatePair.localCandidate),e.type===cO.REMOTE_CANDIDATE&&(t=this._stats.selectedCandidatePair.remoteCandidate),t&&(t.type=e.type,t.id=e.id,e.address&&(t.address=e.address),e.candidateType&&(t.candidateType=e.candidateType),e.port&&(t.port=e.port),e.priority&&(t.priority=e.priority),e.protocol&&(t.protocol=e.protocol),e.relayProtocol&&(t.relayProtocol=e.relayProtocol),e.type===cO.LOCAL_CANDIDATE&&this.stats.selectedCandidatePair.localCandidate.id!==t.id&&this.onSelectedLocalCandidateChanged&&this.onSelectedLocalCandidateChanged(EO({},t),EO({},this.stats.selectedCandidatePair.localCandidate)),e.type===cO.REMOTE_CANDIDATE&&this.stats.selectedCandidatePair.remoteCandidate.id!==t.id&&this.onSelectedRemoteCandidateChanged&&this.onSelectedRemoteCandidateChanged(EO({},t),EO({},this.stats.selectedCandidatePair.remoteCandidate)))}processAudioInboundStats(e){let t=this._stats.audioRecv.find((t=>t.ssrc===e.ssrc));t||(t=FS(WS),this._stats.audioRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.packetsDiscarded=e.packetsDiscarded,t.bytes=e.bytesReceived,t.jitterMs=1e3*e.jitter,t.retransmittedBytesReceived=e.retransmittedBytesReceived,t.retransmittedPacketsReceived=e.retransmittedPacketsReceived,t.totalProcessingDelay=e.totalProcessingDelay,t.jitterBufferEmittedCount=e.jitterBufferEmittedCount,t.estimatedPlayoutTimestamp=e.estimatedPlayoutTimestamp;const r=this.lastDecodeAudioReceiverStats.get(t.ssrc);t.avgProcessingDelayMs=dO(r,t,"totalProcessingDelay","jitterBufferEmittedCount",uO.kMillisecondsFromSeconds),this.processAudioTrackReceiverStats(e,e.trackId,t),this.calculateAudioFreeze(t,r,e),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),t.receivedFrames||(t.receivedFrames=e.packetsReceived),t.droppedFrames||(t.droppedFrames=e.packetsLost),t.receivedFrames>0&&!this.isFirstAudioReceived[t.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(t.ssrc),this.isFirstAudioReceived[t.ssrc]=!0),t.outputLevel&&t.outputLevel>0&&!this.isFirstAudioDecoded[t.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(t.ssrc),this.isFirstAudioDecoded[t.ssrc]=!0),"number"==typeof e.concealedSamples&&(t.concealedSamples=e.concealedSamples),this.lastDecodeAudioReceiverStats.set(t.ssrc,EO({},t))}calculateAudioFreeze(e,t,r){const n=this.lastAudioConcealment.get(e.ssrc);if(null!=t&&null!=n){const i=n.lts,o=r.timestamp,s=o-i;if(s<=0)return;const a=e.concealedSamples-t.concealedSamples-0,c=n.nonSilent+a,u=e.totalSamplesReceived-t.totalSamplesReceived;if(u<=0)return;const d=80*u/s,l=200*u/s,E=s/u;let p=0;e.freezeSamples80=t.freezeSamples80,e.freezeMs80=t.freezeMs80,c>d&&(n.plc80>0?(e.freezeSamples80+=a,e.freezeMs80+=Math.round(a*E)):(e.freezeSamples80+=c,e.freezeMs80+=Math.round(c*E)),p=n.plc80+1);let h=0;e.freezeSamples200=t.freezeSamples200,e.freezeMs200=t.freezeMs200,c>l&&(n.plc200>0?(e.freezeSamples200+=a,e.freezeMs200+=Math.round(a*E)):(e.freezeSamples200+=c,e.freezeMs200+=Math.round(c*E)),h=n.plc200+1),this.lastAudioConcealment.set(e.ssrc,{nonSilent:a,lts:o,plc80:p,plc200:h})}else e.freezeSamples80=0,e.freezeSamples200=0,e.freezeMs80=0,e.freezeMs200=0,this.lastAudioConcealment.set(e.ssrc,{nonSilent:0,lts:r.timestamp,plc80:0,plc200:0})}processVideoInboundStats(e){let t=this._stats.videoRecv.find((t=>t.ssrc===e.ssrc));t||(t=FS(jS),this._stats.videoRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.bytes=e.bytesReceived,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.framesDecodeCount=e.framesDecoded,t.framesDroppedCount=e.framesDropped,t.totalInterFrameDelay=e.totalInterFrameDelay,t.totalSquaredInterFrameDelay=e.totalSquaredInterFrameDelay,t.totalFreezesDuration=e.totalFreezesDuration,t.totalProcessingDelay=e.totalProcessingDelay,t.packetsDiscarded=e.packetsDiscarded,t.framesAssembledFromMultiplePackets=e.framesAssembledFromMultiplePackets,t.totalAssemblyTime=e.totalAssemblyTime,t.keyFramesDecoded=e.keyFramesDecoded,t.retransmittedBytesReceived=e.retransmittedBytesReceived,t.retransmittedPacketsReceived=e.retransmittedPacketsReceived,t.estimatedPlayoutTimestamp=e.estimatedPlayoutTimestamp;const r=this.lastDecodeVideoReceiverStats.get(t.ssrc),n=this.lastVideoFramesDecode.get(t.ssrc),i=this.lastVideoFramesOutput.get(t.ssrc),o=Date.now();if(t.framesDecodeCount>0&&!this.isFirstVideoDecoded[t.ssrc]){const e=t.decodedFrame?t.decodedFrame.width:0,r=t.decodedFrame?t.decodedFrame.height:0;this.onFirstVideoDecoded&&this.onFirstVideoDecoded(t.ssrc,e,r),this.isFirstVideoDecoded[t.ssrc]=!0}if(r){const n=r.stats,i=o-r.lts;t.framesDecodeFreezeTime=n.framesDecodeFreezeTime,t.framesDecodeInterval=n.framesDecodeInterval,!this.isFirstVideoDecoded[t.ssrc]&&i>this.options.firstVideoDecodedTimeout&&!this.isFirstVideoDecodedTimeout[t.ssrc]&&(this.onFirstVideoDecodedTimeout&&this.onFirstVideoDecodedTimeout(t.ssrc),this.isFirstVideoDecodedTimeout[t.ssrc]=!0),t.framesDecodeCount>n.framesDecodeCount&&this.isFirstVideoDecoded[t.ssrc]?(r.lts=Date.now(),t.framesDecodeInterval=i,t.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e.ssrc))?t.framesDecodeFreezeTime+=t.framesDecodeInterval:this.setVideoIsReady2(parseInt(e.ssrc,10),!0))):t.framesDecodeCount<n.framesDecodeCount&&(t.framesDecodeInterval=0),e.framesDecoded&&e.qpSum&&(r.stats.framesDecodeCount>e.framesDecoded?t.qpSumPerFrame=e.qpSum/e.framesDecoded:t.qpSumPerFrame=(e.qpSum-r.qpSum)/(e.framesDecoded-r.stats.framesDecodeCount))}e.totalDecodeTime&&(t.decodeMs=1e3*e.totalDecodeTime,t.avgDecodeMs=dO(null==r?void 0:r.stats,t,"decodeMs","framesDecodeCount")),t.avgProcessingDelayMs=dO(null==r?void 0:r.stats,t,"totalProcessingDelay","framesDecodeCount",uO.kMillisecondsFromSeconds),t.avgFramesAssembledFromMultiplePacketsMs=dO(null==r?void 0:r.stats,t,"totalAssemblyTime","framesAssembledFromMultiplePackets",uO.kMillisecondsFromSeconds),t.avgInterFrameDelayMs=dO(null==r?void 0:r.stats,t,"totalInterFrameDelay","framesDecodeCount",uO.kMillisecondsFromSeconds),n&&o-n.lts>=800?(t.decodeFrameRate=Math.round((t.framesDecodeCount-n.count)/((o-n.lts)/1e3)),this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:o,rate:t.decodeFrameRate})):n?t.decodeFrameRate=n.rate:this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:o,rate:0}),t.framesDroppedCount&&e.framesReceived&&(i&&o-i.lts>=800?(t.outputFrameRate=Math.round((e.framesReceived-t.framesDroppedCount-i.count)/((o-i.lts)/1e3)),this.lastVideoFramesOutput.set(t.ssrc,{count:e.framesReceived-t.framesDroppedCount,lts:o,rate:Math.max(t.outputFrameRate,0)})):i?t.outputFrameRate=i.rate:this.lastVideoFramesOutput.set(t.ssrc,{count:e.framesReceived-t.framesDroppedCount,lts:o,rate:0})),this.processVideoTrackReceiverStats(e,e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.framerateMean&&(t.framesRateFirefox=e.framerateMean),t.packets>0&&!this.isFirstVideoReceived[t.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(t.ssrc),this.isFirstVideoReceived[t.ssrc]=!0),this.lastDecodeVideoReceiverStats.set(t.ssrc,{stats:EO({},t),lts:r?r.lts:Date.now(),qpSum:e.qpSum})}processVideoOutboundStats(e){let t=this._stats.videoSend.find((t=>t.ssrc===e.ssrc));t||(t=FS(KS),this._stats.videoSend.push(t));const r=this.mediaBytesSent.get(e.ssrc);if(r)r.add(e.bytesSent);else{const t=new xS(10);t.add(e.bytesSent),this.mediaBytesSent.set(e.ssrc,t)}if(void 0!==e.retransmittedBytesSent){const t=this.mediaBytesRetransmit.get(e.ssrc);if(t)t.add(e.retransmittedBytesSent);else{const t=new xS(10);t.add(e.retransmittedBytesSent),this.mediaBytesRetransmit.set(e.ssrc,t)}}if(e.totalEncodedBytesTarget){const t=this.mediaBytesTargetEncode.get(e.ssrc);if(t)t.add(e.totalEncodedBytesTarget);else{const t=new xS(10);t.add(e.totalEncodedBytesTarget),this.mediaBytesTargetEncode.set(e.ssrc,t)}}if(t.ssrc=e.ssrc,t.bytes=e.bytesSent,t.packets=e.packetsSent,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.frameCount=e.framesEncoded,t.adaptionChangeReason=e.qualityLimitationReason,t.scalabilityMode=e.scalabilityMode,t.retransmittedBytesSent=e.retransmittedBytesSent,t.retransmittedPacketsSent=e.retransmittedPacketsSent,t.hugeFramesSent=e.hugeFramesSent,t.keyFramesEncoded=e.keyFramesEncoded,t.targetBitrate=e.targetBitrate,e.totalEncodeTime&&e.framesEncoded){const r=this.lastEncoderMs.get(e.ssrc);if(!r||r.lastFrameCount>e.framesEncoded)t.avgEncodeMs=1e3*e.totalEncodeTime/e.framesEncoded;else{const n=e.framesEncoded-r.lastFrameCount,i=e.totalEncodeTime-r.lastEncoderTime;t.avgEncodeMs=1e3*i/n}}if(e.framesEncoded&&e.qpSum){const r=this.lastEncoderMs.get(e.ssrc);!r||r.lastFrameCount>e.framesEncoded?t.qpSumPerFrame=e.qpSum/e.framesEncoded:t.qpSumPerFrame=(e.qpSum-r.lastQpSum)/(e.framesEncoded-r.lastFrameCount)}if(this.lastEncoderMs.set(e.ssrc,{lastFrameCount:e.framesEncoded,lastEncoderTime:e.totalEncodeTime,lastQpSum:e.qpSum,lts:Date.now()}),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.mediaSourceId&&this.processVideoMediaSource(e.mediaSourceId,t),this.processVideoTrackSenderStats(e,e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{const r=this.findRemoteStatsId(e.ssrc,cO.REMOTE_INBOUND);r&&this.processRemoteInboundStats(r,t)}}processAudioOutboundStats(e){let t=this._stats.audioSend.find((t=>t.ssrc===e.ssrc));if(t||(t=FS(GS),this._stats.audioSend.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsSent,t.bytes=e.bytesSent,t.retransmittedBytesSent=e.retransmittedBytesSent,t.retransmittedPacketsSent=e.retransmittedPacketsSent,e.mediaSourceId&&this.processAudioMediaSource(e.mediaSourceId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),this.processAudioTrackSenderStats(e,e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{const r=this.findRemoteStatsId(e.ssrc,cO.REMOTE_INBOUND);r&&this.processRemoteInboundStats(r,t)}}processTransportStats(e){this._stats.transport.bytesReceived=e.bytesReceived||this._stats.transport.bytesReceived,this._stats.transport.bytesSent=e.bytesSent||this._stats.transport.bytesSent,this._stats.transport.packetsReceived=e.packetsReceived||this._stats.transport.packetsReceived,this._stats.transport.packetsSent=e.packetsSent||this._stats.transport.packetsSent}findRemoteStatsId(e,t){var r;const n=Array.from(iO(r=this.report).call(r)).find((r=>r.type===t&&r.ssrc===e));return n?n.id:null}processVideoMediaSource(e,t){const r=this.report.get(e);r&&r.width&&r.height&&r.framesPerSecond&&(t.inputFrame={width:r.width,height:r.height,frameRate:r.framesPerSecond})}processAudioMediaSource(e,t){const r=this.report.get(e);r&&(t.inputLevel=r.audioLevel)}processVideoTrackSenderStats(e,t,r){var n,i,o,s;const a=t?this.report.get(t):void 0,c=null!==(n=null==a?void 0:a.framesSent)&&void 0!==n?n:e.framesSent;if("number"!=typeof c)return;let u=null!==(i=null==a?void 0:a.frameWidth)&&void 0!==i?i:e.frameWidth,d=null!==(o=null==a?void 0:a.frameHeight)&&void 0!==o?o:e.frameHeight,l=null!==(s=null==a?void 0:a.framesPerSecond)&&void 0!==s?s:e.framesPerSecond;if("number"==typeof u&&"number"==typeof d||(u=0,d=0),null==l){const e=Date.now(),t=this.lastVideoFramesSent.get(r.ssrc);t&&e-t.lts>=800?(l=Math.round((c-t.count)/((e-t.lts)/1e3)),this.lastVideoFramesSent.set(r.ssrc,{count:c,lts:e,rate:l})):t?l=t.rate:this.lastVideoFramesSent.set(r.ssrc,{count:c,lts:e,rate:0})}r.sentFrame={width:u,height:d,frameRate:Math.max(0,l)}}processVideoTrackReceiverStats(e,t,r){var n,i,o,s,a;const c=t?this.report.get(t):void 0,u=null!==(n=null==c?void 0:c.framesReceived)&&void 0!==n?n:e.framesReceived,d=null!==(i=null==c?void 0:c.frameWidth)&&void 0!==i?i:e.frameWidth,l=null!==(o=null==c?void 0:c.frameHeight)&&void 0!==o?o:e.frameHeight,E=null!==(s=null==c?void 0:c.jitterBufferDelay)&&void 0!==s?s:e.jitterBufferDelay,p=null!==(a=null==c?void 0:c.jitterBufferEmittedCount)&&void 0!==a?a:e.jitterBufferEmittedCount;if("number"==typeof u){const e=this.lastVideoFramesRecv.get(r.ssrc),t=Date.now();r.framesReceivedCount=u;let n=0;e&&t-e.lts>=800?(n=Math.round((u-e.count)/((t-e.lts)/1e3)),this.lastVideoFramesRecv.set(r.ssrc,{count:u,lts:t,rate:n})):e?n=e.rate:this.lastVideoFramesRecv.set(r.ssrc,{count:u,lts:t,rate:0}),r.receivedFrame={width:d||0,height:l||0,frameRate:n||0},r.decodedFrame={width:d||0,height:l||0,frameRate:r.decodeFrameRate||0},r.outputFrame={width:d||0,height:l||0,frameRate:r.outputFrameRate||r.decodeFrameRate||0}}if(E&&p){const e=this.lastVideoJBDelay.get(r.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let t=e.jitterBufferMs;const n=p-e.jitterBufferEmittedCount;n>0&&(t=1e3*(E-e.jitterBufferDelay)/n),r.jitterBufferMs=t,r.currentDelayMs=Math.round(t),this.lastVideoJBDelay.set(r.ssrc,{jitterBufferDelay:E,jitterBufferEmittedCount:p,jitterBufferMs:r.currentDelayMs})}}processAudioTrackSenderStats(e,t,r){var n,i,o,s;const a=t?this.report.get(t):void 0,c=null!==(n=null!==(i=null==a?void 0:a.echoReturnLoss)&&void 0!==i?i:e.echoReturnLoss)&&void 0!==n?n:0,u=null!==(o=null!==(s=null==a?void 0:a.echoReturnLossEnhancement)&&void 0!==s?s:e.echoReturnLossEnhancement)&&void 0!==o?o:0;r.aecReturnLoss=c,r.aecReturnLossEnhancement=u}processAudioTrackReceiverStats(e,t,r){var n,i,o,s,a,c,u,d,l;const E=t?this.report.get(t):void 0,p=null!==(n=null==E?void 0:E.removedSamplesForAcceleration)&&void 0!==n?n:e.removedSamplesForAcceleration,h=null!==(i=null==E?void 0:E.totalSamplesReceived)&&void 0!==i?i:e.totalSamplesReceived,f=null!==(o=null==E?void 0:E.jitterBufferDelay)&&void 0!==o?o:e.jitterBufferDelay,_=null!==(s=null==E?void 0:E.jitterBufferEmittedCount)&&void 0!==s?s:e.jitterBufferEmittedCount,m=null!==(a=null==E?void 0:E.audioLevel)&&void 0!==a?a:null==e?void 0:e.audioLevel,T=null!==(c=null==E?void 0:E.totalSamplesDuration)&&void 0!==c?c:null==e?void 0:e.totalSamplesDuration,R=null!==(u=null==E?void 0:E.concealedSamples)&&void 0!==u?u:e.concealedSamples,A=null!==(d=null==E?void 0:E.silentConcealedSamples)&&void 0!==d?d:e.silentConcealedSamples,S=null!==(l=null==E?void 0:E.concealmentEvents)&&void 0!==l?l:e.concealmentEvents;if("number"==typeof h&&(r.totalSamplesReceived=h),"number"==typeof A&&(r.silentConcealedSamples=A),"number"==typeof S&&(r.concealmentEvents=S),"number"==typeof R&&(r.concealedSamples=R),p&&h&&(r.accelerateRate=p/h),f&&_){const e=this.lastAudioJBDelay.get(r.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let t=e.jitterBufferMs;const n=_-e.jitterBufferEmittedCount;n>0&&(t=1e3*(f-e.jitterBufferDelay)/n),r.jitterBufferMs=Math.round(t),this.lastAudioJBDelay.set(r.ssrc,{jitterBufferDelay:f,jitterBufferEmittedCount:_,jitterBufferMs:r.jitterBufferMs})}r.outputLevel=m;let O=1920;T&&h&&(O=h/T/50,r.receivedFrames=Math.round(h/O)),R&&(r.droppedFrames=Math.round(R/O))}processRemoteInboundStats(e,t){const r=this.report.get(e);r&&(t.packetsLost=r.packetsLost,r.roundTripTime&&(t.rttMs=1e3*r.roundTripTime),r.jitter&&(t.jitterMs=1e3*r.jitter),r.timestamp&&(t.timestamp=r.timestamp))}getCodecFromCodecStats(e){const t=this.report.get(e);if(!t)return"";const r=t.mimeType.match(/\/(.*)$/);return r&&r[1]?r[1]:""}updateSendBitrate(){let e=0,t=null,r=null;this.mediaBytesSent.forEach((t=>{e+=t.diffMean()})),this.mediaBytesRetransmit.forEach((e=>{t=null===t?e.diffMean():t+e.diffMean()})),this.mediaBytesTargetEncode.forEach((e=>{r=null===r?e.diffMean():r+e.diffMean()}));const n=null!==t?e-t:e;this._stats.bitrate={actualEncoded:8*n/(this.options.updateInterval/1e3),transmit:8*e/(this.options.updateInterval/1e3)},null!==t&&(this._stats.bitrate.retransmit=8*t/(this.options.updateInterval/1e3)),null!==r&&(this._stats.bitrate.targetEncoded=8*r/(this.options.updateInterval/1e3))}}class hO extends zS{updateStats(){return Gl.resolve()}}function fO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fO(Object(r),!0).forEach((function(t){hm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const mO="websdk_ng_install_id";const TO=US("4.24.2"),RO=function(){try{return!0===JSON.parse("true")}catch(e){return!0}}(),AO=["CHINA","GLOBAL"];let SO=function(e){return e.Default="default",e.Auto="auto",e.Relay="relay",e.SdRtn="sd-rtn",e}({});const OO=function(){const e="us".concat("erna","me"),t="pa".concat("sswo","rd"),r=["t","s","t"];r.splice(1,0,"e");const n=r.join(""),i=[];for(let e=0;e<6;e++)i.push("1");const o=i.join(""),s={};return s[e]=n,s[t]=o,Object.assign(s,{turnServerURL:"",tcpport:3433,udpport:3478,forceturn:!1})}();window.DEFAULT_TURN_CONFIG=OO;const IO={ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,ENABLE_USER_LICENSE_CHECK:!0,DISABLE_FEC:void 0,ENABLE_NTP_REPORT:!1,ENABLE_INSTANT_VIDEO:!1,ENABLE_USER_AUTO_REBALANCE_CHECK:!0,ENABLE_LOSSBASED_BWE:!0,ENABLE_AUT_CC:!0,FORCE_ENABLE_AUT_CC:!1,ENABLE_CC_FALLBACK:void 0,SUBSCRIBE_TWCC:!0,PUBLISH_TWCC:!1,ENABLE_SVC_DEFAULT_CODECS:["H264","VP8","VP9","AV1"],SVC:[],ENABLE_FULL_LINK_AV_SYNC:!1,SVC_MODE:null,PRE_SUB_NUM:1,ENABLE_AUT_FEEDBACK:!0,SVC_EXTENDED:["VP9"]},bO={MIN_FRAME_RATE:1,MAX_FRAME_RATE:30,MAX_THRESHOLD_FRAMERATE:30,BITRATE_MIN_THRESHOLD:100,BITRATE_MAX_THRESHOLD:100,MAX_SCALE:5,BWE_SCALE_UP_THRESHOLD:.6,BWE_SCALE_DOWN_THRESHOLD:.6,PERF_SCALE_UP_THRESHOLD:.7,PERF_SCALE_DOWN_THRESHOLD:.6,MOTION_RESOLUTION_FACTOR:.8,MOTION_BITRATE_FACTOR:.6,DETAIL_FRAMERATE_FACTOR:.8,DETAIL_BITRATE_FACTOR:.6,BALANCE_RESOLUTION_FACTOR:.9,BALANCE_FRAMERATE_FACTOR:.9,BALANCE_BITRATE_FACTOR:.6,OVERUSE_TIMES_THRESHOLD:10,UNDERUSE_TIMES_THRESHOLD:40},gO={INSTALL_ID:""},NO={ENABLE_EVENT_REPORT:!0,UPLOAD_LOG:!1,ENABLE_AG_ADAPTATION:!0,FORCE_AG_HIGH_FRAMERATE:!1,FORCE_SUPPORT_AG_ADAPTATION:!1,ENCODER_CONFIG_LIMIT:{},CAMERA_CAPTURE_CONFIG:void 0,ENABLE_PRELOAD:!0,NEW_ICE_RESTART:!0,ICE_RESTART_INTERVAL:1e4,RESTART_SEQUENCE:["udp_tcp_relay","relay"],FIRST_TCP_CANDIDATE:!1,FIRST_TCP_CANDIDATE_INTERVAL:1e3,TURN_DOMAIN:"edge.agora.io",TURN_DOMAINS:["edge.agora.io"],USE_TURN_IP:!0,NEW_TURN_MODE:4,NEW_FORCE_TURN:!1,USE_NEW_RENDER_FREEZE_TIME:!1,FLS_FALLBACK_TIMEOUT:3e4,RTE_DETAIL_REPORT_INTERVAL:6e4,ENCODE_EXCEPTION_TIMES:5,ENABLE_ENCODE_EXCEPTION:!0,ENCODE_EXCEPTION_VALIDATE_CODEC:["h264"],VIDEO_ENCODER_CONFIG_LIST:[{width:240,height:180},{width:320,height:240},{width:400,height:300},{width:480,height:360},{width:560,height:420},{width:640,height:480}],DELETE_NEQ_AFTER_USER_LEAVE:!0,UPDATE_RTP_CAP_IN_HOST:!1,IOS_BG_TAG:!0,IOS_AUTO_RESTART_BG_TAG:!0,IGNORE_UID_CHECK:!1,ENABLE_UP_SPS_PPS:!1,ENABLE_DOWN_SPS_PPS:!1,NO_EDGES_RETRY:!0,BUFFER_READY_FRAMES:3,FLS_SYNC_AV_PLAY_LIMIT:0,FLS_BUFFER_WAIT_TIME:1500,VOS_CONFIGURE:void 0,ENABLE_QUALITY_FALLBACK:!1,QUALITY_FALLBACK_REHEARSAL:!0,ENABLE_FLS_AV1_FIRST:!1,ENABLE_AP_MULTI_IP:!0,FLS_ENABLE_AV1_DETECT:!0,FLS_ENABLE_AV1_DECODE_DETECT:!0},CO=_O(_O(_O(_O({},NO),{},{PROCESS_ID:"",ENCRYPT_AES:!0,AREAS:AO,WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io","webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io","webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-web-2.ap.sd-rtn.com","cds-ap-web-3.agora.io","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-web-2.ap.sd-rtn.com","sua-ap-web-3.agora.io","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-ap-web-1.agora.io","uap-web-2.ap.sd-rtn.com","uap-ap-web-3.agora.io","uap-web-4.ap.sd-rtn.com"],LOG_UPLOAD_SERVER:"logservice.agora.io",EVENT_REPORT_DOMAIN:"statscollector-1.agora.io",EVENT_REPORT_BACKUP_DOMAIN:"web-2.statscollector.sd-rtn.com",GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:"",LIVE_STREAMING_ADDRESS:"",HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,NOT_REPORT_EVENT:[],PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,ENABLE_CONFIG_DISTRIBUTE:!0,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,SHOW_REPORT_USER_INVOKER_LOG:!0,JOIN_EXTEND:"",PUB_EXTEND:"",SUB_EXTEND:"",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:["edge.agora.io","edge.sd-rtn.com"],CONNECT_GATEWAY_WITHOUT_DOMAIN:!1,WORKER_DOMAIN:"edge.agora.io",EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,GET_VOLUME_OF_MUTED_AUDIO_TRACK:!1,STATS_UPDATE_INTERVAL:250,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:"webnginx-proxy.agora.io",PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com","webrtc-cloud-proxy.agora.io"],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:"high",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,CHECK_LOCAL_STATS_INTERVAL:250,PROFILE_SWITCH_INTERVAL:2e3,UNSUPPORTED_VIDEO_CODEC:[],ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,CLOSE_AFB_FOR_LOCAL_AP:!0,JOIN_MAX_CONCURRENCY:6,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_GATEWAY_TRY_443PORT_DURATION:2e3,JOIN_GATEWAY_USE_443PORT_ONLY:!1,JOIN_GATEWAY_USE_DUAL_DOMAIN:!0,JOIN_GATEWAY_FALLBACK_PORT:443,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:"",USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,CSP_DETECTED_HOSTNAME_LIST:["agora.io","sd-rtn.com"],REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!1,BITRATE_ADAPTER_TYPE:"STANDARD_BITRATE",AI_DENOISER_PARAMETERS:{excludedLinks:[]},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,FIRST_H264_PROFILE_LEVEL_ID:"42001f",FIRST_PACKETIZATION_MODE:"",X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:["data-reporting.agora.io","data-reporting.agora.io"],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:"edge.agora.io",VIDEO_INSPECT_WORKER_MANAGER_PORT:"",VIDEO_INSPECT_WORKER_MANAGER_WSS:"",VIDEO_INSPECT_WORKER_PORT:"",SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,CHROME_DUAL_STREAM_USE_ENCODING:!0,DISABLE_DUAL_STREAM_USE_ENCODING:!1,EXTENSION_USAGE_UPLOAD_INTERVAL:1e4,ICE_RESTART:!0,FINGERPRINT:null,ENABLE_VIDEO_FRAME_CALLBACK:!0,VIDEO_FREEZE_DURATION:500,SPATIALIZER_PARAMETERS:{},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0,DISABLE_WEBAUDIO:!1,CHANNEL_MEDIA_RELAY_SERVERS:void 0,KEEP_LAST_FRAME:!0,FORWARD_P2P_CREATION:!0,SYNC_GROUP:!0,BLOCK_LOCAL_CLIENT:!1,ENABLE_AUDIO_TOPN:!1,ENABLE_AUDIO_METADATA:!1,ENABLE_AUDIO_PTS:!1,TOPN_SMOOTH_LEVEL:void 0,TOPN_NEW_SPEAKER_DELAY:void 0,TOPN_SWITCH_HOLD_MS:void 0,TOPN_AUDIO_GAIN:void 0,TOPN_SILENCE_THRESHOLD:250,AP_AREA:!0,ENABLE_ENCODED_TRANSFORM:!1,ENABLE_VIDEO_SEI:!1,IMAGE_MODERATION_WORKER_HOST:"edge.agora.io",IMAGE_MODERATION_WORKER_WSS:"",IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT:3e5,IMAGE_MODERATION_INTERVAL_MINIMUM:1e3,SHOW_IMAGE_MODERATION_WORKER_MESSAGE:!1,IMAGE_MODERATION_QUALITY_RATIO:.9,IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL:5e3,SHOW_GLOBAL_CLIENT_LIST:!1,DATASTREAM_MAX_RETRANSMITS:10,TCP_CANDIDATE_ONLY:!1,EXTERNAL_SIGNAL_REQUEST_TIMEOUT:3e3,SHOW_P2P_LOG:!1,MAX_P2P_TIMEOUT:3e4,P2P_TOKEN_INTERVAL:1e3,SHOW_DATASTREAM2_LOG:!1,RESTRICTION_SET_PLAYBACK_DEVICE:!0,USE_PURE_ENCRYPTION_MASTER_KEY:!1,ENABLE_AUDIO_RED:!1,OPUS_PTIME:void 0,AUDIO_DUPLICATE_NUM:void 0,ENABLE_ABSSENDTIME_AS_SENTTS:!0,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0},FILTER_VIDEO_CODEC:[],SIGNAL_CHANNEL:0,TRANSMITTER_INITIAL_RTT:30,TRANSMITTER_INITIAL_RTO:30,TRANSMITTER_MAX_BATCH_ACK_COUNT:2,TRANSMITTER_MAX_RTO:500,DATACHANNEL_COMPRESS:!1,DC_JOIN_WITH_FAILBACK:4e3,DC_CONNECTION_TIMEOUT:2e3,DC_PINGPONG_INTERVAL:2e3,DC_DEBUG_LOG:!1,UNSUPPORTED_VIDEO_UPLINK_CODEC:[],UNSUPPORTED_VIDEO_DOWNLINK_CODEC:[],USE_NEW_NETWORK_CONFIG:!1,AUTO_RESET_AUDIO_ROUTE:!1,PLUGIN_INFO:[],OVERUSE_DETECTOR_PARAMS:bO,CUSTOM_ADAPTATION_DEFAULT_MODE:"",HIDE_NO_POSTER:!1,AP_CACHE_NUM:10,AP_UPDATE_INTERVAL:12e4,AP_CACHE_LIFETIME:12e4,MAX_PRELOAD_ASYNC_LENGTH:3,DISABLE_SCREEN_SHARE_REMB:!1},IO),{},{USE_CANDIDATE_FROM_AP_DETAIL:!1,AP_REQUEST_DETAIL:void 0,ENABLE_ROLE_SELECT_EDGE:!1,CLIENT_ROLE_OPTIONS:void 0,REMOTE_VIDEO_STREAM_TYPE:void 0,COMPATIBLE_SDP_EXTENSION:["gdpr_forbidden"],LIMIT_BITRATE:void 0,EXPERIMENTS:{},USE_PUB_RTX:!0,USE_SUB_RTX:!0,ENABLE_DATASTREAM_2:!1,USE_XR:!0,ENABLE_PREALLOC_PC:!1,ENABLE_PRE_SUB:!1,ENABLE_SVC:!1,ENABLE_FORCE_HLS:!1,MAX_WEBAUDIO_VOLUME:300,ENABLE_VOS_FALLBACK:!1,ENABLE_FALLBACK_TO_HLS:!1,ENABLE_PRE_RENDER:!1,FORCE_DISABLE_AUTO_SUB:!1,ENABLE_PRE_SUB_WITH_PRE_PC:!0,PRE_USE_LOCAL_CODECS:!0},gO),{},{K_MIN_RENDER_DELAY:66,USE_STANDARD_BITRATE_DEFAULT:!1,VIDEO_NEW_BITRATE_RATIO:void 0,VIDEO_STANDARD_BITRATE_VERSION:2,BASELINE_MORE_H264_BITRATE_RATIO:1.1,IGNORE_RTC_DEVICE_CHECK:!1,FLS_AUTOPLAY_EMITS:!1,ENABLE_DUAL_STREAM_FLAG:!1,FORBID_MODIFY_LOCAL_OFFER_SDP:!1,RESERVE_MID_1_MLINE:!1});function yO(e,t,r){var n,i,o;RE(n=Object.keys(CO)).call(n,e)&&(!r&&RE(i=Object.keys(DO)).call(i,e)||(CO[e]=t,"ENABLE_VIDEO_SEI"!==e&&"ENABLE_AUDIO_TOPN"!==e&&"ENABLE_AUDIO_METADATA"!==e&&"ENABLE_AUDIO_PTS"!==e||!0!==t||(CO.ENABLE_ENCODED_TRANSFORM=!0),"USE_NEW_NETWORK_CONFIG"===e&&t&&(o=!!t,CO.USE_NEW_NETWORK_CONFIG=o,o&&(CO.WEBCS_DOMAIN=["webrtc2-2.ap.sd-rtn.com"],CO.WEBCS_DOMAIN_BACKUP_LIST=["webrtc2-4.ap.sd-rtn.com"],CO.CDS_AP=["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],CO.ACCOUNT_REGISTER=["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],CO.EVENT_REPORT_DOMAIN="web-2.statscollector.sd-rtn.com",CO.EVENT_REPORT_BACKUP_DOMAIN="statscollector-1.agora.io",CO.GATEWAY_DOMAINS=["edge.sd-rtn.com"])),"ENABLE_PRE_SUB"===e&&t&&(CO.ENABLE_INSTANT_VIDEO=!0,CO.ENABLE_PREALLOC_PC=!0),"ENABLE_SVC"===e&&t&&(CO.ENABLE_AUT_CC=!0),"NEW_FORCE_TURN"===e&&t&&(CO.NEW_TURN_MODE||(CO.NEW_TURN_MODE=4))))}function wO(e){if("TURN_DOMAINS"===e){const e=CO.TURN_DOMAINS;return RE(e).call(e,wO("TURN_DOMAIN"))?e:[wO("TURN_DOMAIN")].concat(e)}return CO[e]}RO||(CO.WEBCS_DOMAIN=["ap-web-1-oversea.agora.io","ap-web-1-north-america.agora.io"],CO.WEBCS_DOMAIN_BACKUP_LIST=["ap-web-2-oversea.agora.io","ap-web-2-north-america.agora.io"],CO.PROXY_CS=["proxy-ap-web-oversea.agora.io","proxy-ap-web-america.agora.io"],CO.CDS_AP=["cds-ap-web-oversea.agora.io","cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],CO.ACCOUNT_REGISTER=["sua-ap-web-oversea.agora.io","sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],CO.UAP_AP=["uap-ap-web-oversea.agora.io","uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],CO.LOG_UPLOAD_SERVER="logservice-oversea.agora.io",CO.EVENT_REPORT_DOMAIN="statscollector-1-oversea.agora.io",CO.EVENT_REPORT_BACKUP_DOMAIN="statscollector-2-oversea.agora.io",CO.PROXY_SERVER_TYPE3="webrtc-cloud-proxy.agora.io",CO.AREAS=["NORTH_AMERICA","OVERSEA"]);let vO=function(e){return e[e.REALTIME=1]="REALTIME",e}({});const DO={};function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function PO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?LO(Object(r),!0).forEach((function(t){hm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var MO=function(e){return e.SET_SESSION_ID="SET_SESSION_ID",e.SET_RTE_URL="SET_RTE_URL",e.SET_RTE_SID="SET_RTE_SID",e.SET_P2P_ID="SET_P2P_id",e.SET_DC_ID="SET_DC_id",e.SET_UID="SET_UID",e.SET_INT_UID="SET_INT_UID",e.SET_PUB_ID="SET_PUB_ID",e.SET_CLOUD_PROXY_SERVER_MODE="SET_CLOUD_PROXY_SERVER_MODE",e.KEY_METRIC_CLIENT_CREATED="KEY_METRIC_CLIENT_CREATED",e.KEY_METRIC_JOIN_START="KEY_METRIC_JOIN_START",e.KEY_METRIC_PRELOAD_START="KEY_METRIC_PRELOAD_START",e.KEY_METRIC_PRELOAD_END="KEY_METRIC_PRELOAD_END",e.KEY_METRIC_JOIN_END="KEY_METRIC_JOIN_END",e.KEY_METRIC_REQUEST_AP_START="KEY_METRIC_REQUEST_AP_START",e.KEY_METRIC_REQUEST_AP_END="KEY_METRIC_REQUEST_AP_END",e.KEY_METRIC_REQUEST_SUA_END="KEY_METRIC_REQUEST_SUA_END",e.KEY_METRIC_BEFORE_CONNECT="KEY_METRIC_BEFORE_CONNECT",e.KEY_METRIC_PEER_RECEIVER="KEY_METRIC_PEER_RECEIVER",e.KEY_METRIC_SIGNAL_CONNECTED="KEY_METRIC_SIGNAL_CONNECTED",e.KEY_METRIC_JOIN_REQ="KEY_METRIC_JOIN_REQ",e.KEY_METRIC_JOIN_REP="KEY_METRIC_JOIN_REP",e.KEY_METRIC_JOIN_GATEWAY_START="KEY_METRIC_JOIN_GATEWAY_START",e.KEY_METRIC_JOIN_GATEWAY_END="KEY_METRIC_JOIN_GATEWAY_END",e.KEY_METRIC_PEER_CONNECTION_START="KEY_METRIC_PEER_CONNECTION_START",e.KEY_METRIC_PEER_CONNECTION_END="KEY_METRIC_PEER_CONNECTION_END",e.KEY_METRIC_FIRST_VIDEO_FRAME_DECODED="KEY_METRIC_FIRST_VIDEO_FRAME_DECODED",e.KEY_METRIC_DESCRIPTION_START="KEY_METRIC_DESCRIPTION_START",e.KEY_METRIC_ICE_CONNECTION_END="KEY_METRIC_ICE_CONNECTION_END",e.KEY_METRIC_SIGNAL_CHANNEL_OPEN="KEY_METRIC_SIGNAL_CHANNEL_OPEN",e.KEY_METRIC_PUBLISH="KEY_METRIC_PUBLISH",e.KEY_METRIC_SUBSCRIBE="KEY_METRIC_SUBSCRIBE",e.RECORD_JOIN_CHANNEL_SERVICE="RECORD_JOIN_CHANNEL_SERVICE",e.RESET_JOIN_CHANNEL_SERVICE_RECORDS="RESET_JOIN_CHANNEL_SERVICE_RECORDS",e.RESET_KEY_METRICS="RESET_KEY_METRICS",e.RESET_FIRST_VIDEO_FRAME_DECODED="RESET_FIRST_VIDEO_FRAME_DECODED",e.SET_USE_P2P="SET_USE_P2P",e.SET_TRANSPORT_TYPE="SET_TRANSPORT_TYPE",e}(MO||{});let UO=function(e){return e.h264="h264",e.h265="h265",e.vp8="vp8",e.vp9="vp9",e.av1="av1",e}({}),FO=function(e){return e.opus="opus",e.pcma="pcma",e.pcmu="pcmu",e.g722="g722",e}({});const kO=128,xO=96,BO=1e3,VO=10;let jO=0;var KO={exports:{}};!function(e,t){e.exports=(()=>{var e={8:(e,t,r)=>{r.r(t),r.d(t,{Parser:()=>O,Printer:()=>C,parse:()=>D,print:()=>L});const n="\n",i="".concat("\r").concat(n),o=" ";let s;function a(e){return e>="0"&&e<="9"}function c(e){return e>="!"&&e<="~"}function u(e){return c(e)||e>="Â"&&e<="Ã¿"}function d(e){return"!"===e||e>="#"&&e<="'"||e>="*"&&e<="+"||e>="-"&&e<="."||e>="0"&&e<="9"||e>="A"&&e<="Z"||e>="^"&&e<="~"}function l(e){return e>="1"&&e<="9"}function E(e){return e>="A"&&e<="Z"||e>="a"&&e<="z"}function p(e){return"d"===e||"h"===e||"m"===e||"s"===e}function h(e){return e>""&&e<"\t"||e>"\v"&&e<"\f"||e>""&&e<"Ã¿"}function f(e){return E(e)||a(e)||"+"===e||"/"===e}function _(e){return a(e)||E(e)||"+"===e||"/"===e||"-"===e||"_"===e}function m(e){return E(e)||a(e)||"+"===e||"/"===e}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e){e.VERSION="v",e.ORIGIN="o",e.SESSION_NAME="s",e.INFORMATION="i",e.URI="u",e.EMAIL="e",e.PHONE="p",e.CONNECTION="c",e.BANDWIDTH="b",e.TIME="t",e.REPEAT="r",e.ZONE_ADJUSTMENTS="z",e.KEY="k",e.ATTRIBUTE="a",e.MEDIA="m"}(s||(s={}));class S{consumeText(e,t){let r=t;for(;r<e.length;){const t=e[r];if("\0"===t||"\r"===t||t===n)break;r+=1}if(r-t==0)throw new Error("Invalid text, at ".concat(e));return r}consumeUnicastAddress(e,t,r){return this.consumeTill(e,t,o)}consumeOneOrMore(e,t,r){let n=t;for(;r(e[n]);)n++;if(n-t==0)throw new Error("Invalid rule at ".concat(t,"."));return n}consumeSpace(e,t){if(e[t]===o)return t+1;throw new Error("Invalid space at ".concat(t,"."))}consumeIP4Address(e,t){let r=t;for(let t=0;t<4;t++)if(r=this.consumeDecimalUChar(e,r),3!==t){if("."!==e[r])throw new Error("Invalid IP4 address.");r++}return r}consumeDecimalUChar(e,t){let r=t;for(let t=0;t<3&&a(e[r]);t++,r++);if(r-t==0)throw new Error("Invalid decimal uchar.");const n=parseInt(e.slice(t,r));if(n>=0&&n<=255)return r;throw new Error("Invalid decimal uchar")}consumeIP6Address(e,t){let r=this.consumeHexpart(e,t);return":"===e[r]?(r+=1,r=this.consumeIP4Address(e,r),r):r}consumeHexpart(e,t){let r=t;if(":"===e[r]&&":"===e[r+1]){r+=2;try{r=this.consumeHexseq(e,r)}catch(e){}return r}if(r=this.consumeHexseq(e,r),":"===e[r]&&":"===e[r+1]){r+=2;try{r=this.consumeHexseq(e,r)}catch(e){}return r}return r}consumeHexseq(e,t){let r=t;for(;r=this.consumeHex4(e,r),":"===e[r]&&":"!==e[r+1];)r+=1;return r}consumeHex4(e,t){let r=0;for(;r<4;r++)if(!((n=e[t+r])>="0"&&n<="9"||n>="a"&&n<="f"||n>="A"&&n<="F")){if(0===r)throw new Error("Invalid hex 4");break}var n;return t+r}consumeFQDN(e,t){let r=t;for(;a(e[r])||E(e[r])||"-"===e[r]||"."===e[r];)r+=1;if(r-t<4)throw new Error("Invalid FQDN");return r}consumeExtnAddr(e,t){return this.consumeOneOrMore(e,t,u)}consumeMulticastAddress(e,t,r){switch(r){case"IP4":case"ip4":return this.consumeIP4MulticastAddress(e,t);case"IP6":case"ip6":return this.consumeIP6MulticastAddress(e,t);default:try{return this.consumeFQDN(e,t)}catch(r){return this.consumeExtnAddr(e,t)}}}consumeIP6MulticastAddress(e,t){const r=this.consumeHexpart(e,t);return"/"===e[r]?this.consumeInteger(e,r+1):r}consumeIP4MulticastAddress(e,t){let r=t+3;const n=e.slice(t,r),i=parseInt(n);if(i<224||i>239)throw new Error("Invalid IP4 multicast address, IPv4 multicast addresses may be in the range 224.0.0.0 to 239.255.255.255.");for(let t=0;t<3;t++){if("."!==e[r])throw new Error("Invalid IP4 multicast address.");r+=1,r=this.consumeDecimalUChar(e,r)}return"/"===e[r]&&(r+=1),r=this.consumeTTL(e,r),"/"===e[r]&&(r=this.consumeInteger(e,r)),r}consumeInteger(e,t){if(!l(e[t]))throw new Error("Invalid integer.");for(t+=1;a(e[t]);)t+=1;return t}consumeTTL(e,t){if("0"===e[t])return t+1;if(!l(e[t]))throw new Error("Invalid TTL.");t+=1;for(let r=0;r<2&&a(e[t]);r++)t+=1;return t}consumeToken(e,t){return this.consumeOneOrMore(e,t,d)}consumeTime(e,t){let r=t;if("0"===e[r])return r+1;for(l(e[r])&&(r+=1);a(e[r]);)r++;if(r-t<10)throw new Error("Invalid time");return r}consumeAddress(e,t){return this.consumeTill(e,t,o)}consumeTypedTime(e,t){let r=t;return r=this.consumeOneOrMore(e,r,a),p(e[r])?r+1:r}consumeRepeatInterval(e,t){if(!l(e[t]))throw new Error("Invalid repeat interval");for(t+=1;a(e[t]);)t+=1;return p(e[t])&&(t+=1),t}consumePort(e,t){return this.consumeOneOrMore(e,t,a)}consume(e,t,r){for(let n=0;n<r.length;n++){if(t+n>=e.length)throw new Error("consume exceeding value length");if(e[t+n]!==r[n])throw new Error("consume ".concat(r," failed at ").concat(n))}return t+r.length}consumeTill(e,t,r){let n=t;for(;n<e.length&&("string"!=typeof r||e[n]!==r)&&("function"!=typeof r||!r(e[n]));)n++;return n}}class O extends S{constructor(){super(),A(this,"records",[]),A(this,"currentLine",0)}parse(e){const t=this.probeEOL(e);this.records=e.split(t).filter((e=>!!e.trim())).map(this.parseLine),this.currentLine=0;const r=this.parseVersion(),n=this.parseOrigin(),i=this.parseSessionName(),o=this.parseInformation(),s=this.parseUri(),a=this.parseEmail(),c=this.parsePhone(),u=this.parseConnection(),d=this.parseBandWidth(),l=this.parseTimeFields(),E=this.parseKey(),p=this.parseSessionAttribute(),h=this.parseMediaDescription();if(this.currentLine!==this.records.length)throw new Error("parsing failed, non exhaustive sdp lines.");return{version:r,origin:n,sessionName:i,information:o,uri:s,emails:a,phones:c,connection:u,bandwidths:d,timeFields:l,key:E,attributes:p,mediaDescriptions:h}}getCurrentRecord(){const e=this.records[this.currentLine];if(!e)throw new Error("Record doesn't exit.");return e}probeEOL(e){for(let t=0;t<e.length;t++)if(e[t]===n)return"\r"===e[t-1]?i:n;throw new Error("Invalid newline character.")}parseLine(e,t){if(e.length<2)throw new Error("Invalid sdp line, sdp line should be of form <type>=<value>.");const r=e[0];if("="!==e[1])throw new Error('Invalid sdp line, <type> should be a single character followed by an "=" sign.');return{type:r,value:e.slice(2),line:t,cur:0}}parseSessionAttribute(){const e=new b;for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==s.ATTRIBUTE)break;const r={attField:this.extractOneOrMore(t,(e=>d(e)&&":"!==e)),_cur:0};":"===t.value[t.cur]&&(t.cur+=1,r.attValue=this.extractOneOrMore(t,h)),e.parse(r),this.currentLine++}return e.digest()}parseMediaAttributes(e){const t=new g(e);for(;this.currentLine<this.records.length;){const e=this.getCurrentRecord();if(e.type!==s.ATTRIBUTE)break;const r={attField:this.extractOneOrMore(e,(e=>d(e)&&":"!==e)),_cur:0};":"===e.value[e.cur]&&(e.cur+=1,r.attValue=this.extractOneOrMore(e,h)),t.parse(r),this.currentLine++}return t.digest()}parseKey(){const e=this.getCurrentRecord();if(e.type===s.KEY){if("prompt"===e.value||"clear:"===e.value||"base64:"===e.value||"uri:"===e.value)return e.value;throw this.currentLine++,new Error("Invalid key.")}}parseZone(){const e=this.getCurrentRecord();if(e.type===s.ZONE_ADJUSTMENTS){const t=[];for(;;)try{const r=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);let n=!1;"-"===e.value[e.cur]&&(n=!0,e.cur+=1);const i=this.extract(e,this.consumeTypedTime);t.push({time:r,typedTime:i,back:n})}catch(e){break}if(0===t.length)throw new Error("Invalid zone adjustments");return this.currentLine++,t}return[]}parseRepeat(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==s.REPEAT)break;{const r=this.extract(t,this.consumeRepeatInterval),n=this.parseTypedTime(t);e.push({repeatInterval:r,typedTimes:n}),this.currentLine++}}return e}parseTypedTime(e){const t=[];for(;;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeTypedTime))}catch(e){break}if(0===t.length)throw new Error("Invalid typed time.");return t}parseTime(){const e=this.getCurrentRecord(),t=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);const r=this.extract(e,this.consumeTime);return this.currentLine++,{startTime:t,stopTime:r}}parseBandWidth(){const e=[];for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==s.BANDWIDTH)break;{const r=this.extractOneOrMore(t,d);if(":"!==t.value[t.cur])throw new Error("Invalid bandwidth field.");t.cur++;const n=this.extractOneOrMore(t,a);e.push({bwtype:r,bandwidth:n}),this.currentLine++}}return e}parseVersion(){const e=this.getCurrentRecord();if(e.type!==s.VERSION)throw new Error("first sdp record must be version");const t=e.value.slice(0,this.consumeOneOrMore(e.value,0,a));if(t.length!==e.value.length)throw new Error('invalid proto version, "v='.concat(e.value,'"'));return this.currentLine++,t}parseOrigin(){const e=this.getCurrentRecord();if(e.type!==s.ORIGIN)throw new Error("second line of sdp must be origin");const t=this.extractOneOrMore(e,u);this.consumeSpaceForRecord(e);const r=this.extractOneOrMore(e,a);this.consumeSpaceForRecord(e);const n=this.extractOneOrMore(e,a);this.consumeSpaceForRecord(e);const i=this.extractOneOrMore(e,d);this.consumeSpaceForRecord(e);const o=this.extractOneOrMore(e,d);this.consumeSpaceForRecord(e);const c=this.extract(e,this.consumeUnicastAddress);return this.currentLine++,{username:t,sessId:r,sessVersion:n,nettype:i,addrtype:o,unicastAddress:c}}parseSessionName(){const e=this.getCurrentRecord();if(e.type===s.SESSION_NAME){const t=this.extract(e,this.consumeText);return this.currentLine++,t}}parseInformation(){const e=this.getCurrentRecord();if(e.type!==s.INFORMATION)return;const t=this.extract(e,this.consumeText);return this.currentLine++,t}parseUri(){const e=this.getCurrentRecord();if(e.type===s.URI)return this.currentLine++,e.value}parseEmail(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==s.EMAIL)break;e.push(t.value),this.currentLine++}return e}parsePhone(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==s.PHONE)break;e.push(t.value),this.currentLine++}return e}parseConnection(){const e=this.getCurrentRecord();if(e.type===s.CONNECTION){const t=this.extractOneOrMore(e,d);this.consumeSpaceForRecord(e);const r=this.extractOneOrMore(e,d);this.consumeSpaceForRecord(e);const n=this.extract(e,this.consumeAddress);return this.currentLine++,{nettype:t,addrtype:r,address:n}}}parseMedia(){const e=this.getCurrentRecord(),t=this.extract(e,this.consumeToken);this.consumeSpaceForRecord(e);let r=this.extract(e,this.consumePort);"/"===e.value[e.cur]&&(e.cur+=1,r+=this.extract(e,this.consumeInteger)),this.consumeSpaceForRecord(e);const n=[];for(n.push(this.extract(e,this.consumeToken));"/"===e.value[e.cur];)e.cur+=1,n.push(this.extract(e,this.consumeToken));if(0===n.length)throw new Error("Invalid proto");const i=this.parseFmt(e);return this.currentLine++,{mediaType:t,port:r,protos:n,fmts:i}}parseTimeFields(){const e=[];for(;this.getCurrentRecord().type===s.TIME;){const t=this.parseTime(),r=this.parseRepeat(),n=this.parseZone();e.push({time:t,repeats:r,zones:n})}return e}parseMediaDescription(){const e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===s.MEDIA;){const t=this.parseMedia(),r=this.parseInformation(),n=this.parseConnections(),i=this.parseBandWidth(),o=this.parseKey(),s=this.parseMediaAttributes(t);e.push({media:t,information:r,connections:n,bandwidths:i,key:o,attributes:s})}return e}parseConnections(){const e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===s.CONNECTION;)e.push(this.parseConnection());return e}parseFmt(e){const t=[];for(;;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeToken))}catch(e){break}if(0===t.length)throw new Error("Invalid fmts");return t}extract(e,t,...r){const n=t.call(this,e.value,e.cur,...r),i=e.value.slice(e.cur,n);return e.cur=n,i}extractOneOrMore(e,t){const r=this.consumeOneOrMore(e.value,e.cur,t),n=e.value.slice(e.cur,r);return e.cur=r,n}consumeSpaceForRecord(e){if(e.value[e.cur]!==o)throw new Error("Invalid space at ".concat(e.cur,"."));e.cur+=1}}class I extends S{constructor(...e){super(...e),A(this,"attributes",void 0),A(this,"digested",!1)}extractOneOrMore(e,t,r){const n=this.consumeOneOrMore(e.attValue,e._cur,t),i=e.attValue.slice(e._cur,n),[o,s]=r||[];if("number"==typeof o&&i.length<o)throw new Error("error in length, should be more or equal than ".concat(o," characters."));if("number"==typeof s&&i.length>s)throw new Error("error in length, should be less or equal than ".concat(s," characters."));return e._cur=n,i}consumeAttributeSpace(e){if(e.attValue[e._cur]!==o)throw new Error("Invalid space at ".concat(e._cur,"."));e._cur+=1}extract(e,t,...r){if(!e.attValue)throw new Error("Nothing to extract from attValue.");const n=t.call(this,e.attValue,e._cur,...r),i=e.attValue.slice(e._cur,n);return e._cur=n,i}atEnd(e){if(!e.attValue)throw new Error;return e._cur>=e.attValue.length}peekChar(e){if(!e.attValue)throw new Error;return e.attValue[e._cur]}peek(e,t){if(!e.attValue)throw new Error;for(let r=0;r<t.length;r++)if(t[r]!==e.attValue[e._cur+r])return!1;return!0}parseIceUfrag(e){if(this.attributes.iceUfrag)throw new Error("Invalid ice-ufrag, should be only a single line if 'a=ice-ufrag'");this.attributes.iceUfrag=this.extractOneOrMore(e,f,[4,256])}parseIcePwd(e){if(this.attributes.icePwd)throw new Error("Invalid ice-pwd, should be only a single line if 'a=ice-pwd'");this.attributes.icePwd=this.extractOneOrMore(e,f,[22,256])}parseIceOptions(e){if(this.attributes.iceOptions)throw new Error("Invalid ice-options, should be only one 'ice-options' line");const t=[];for(;!this.atEnd(e);){t.push(this.extractOneOrMore(e,f));try{this.consumeAttributeSpace(e)}catch(t){if(this.atEnd(e))break;throw t}}this.attributes.iceOptions=t}parseFingerprint(e){const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const r=this.extract(e,this.consumeTill);this.attributes.fingerprints.push({hashFunction:t,fingerprint:r})}parseExtmap(e){const t=this.extractOneOrMore(e,a);let r;"/"===this.peekChar(e)&&(this.extract(e,this.consume,"/"),r=this.extract(e,this.consumeToken)),this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill,o),i=R(R({entry:parseInt(t,10)},r&&{direction:r}),{},{extensionName:n});this.peekChar(e)===o&&(this.consumeAttributeSpace(e),i.extensionAttributes=this.extract(e,this.consumeTill)),this.attributes.extmaps.push(i)}parseSetup(e){if(this.attributes.setup)throw new Error("must only be one single 'a=setup' line.");const t=this.extract(e,this.consumeTill);if("active"!==t&&"passive"!==t&&"actpass"!==t&&"holdconn"!==t)throw new Error("role must be one of 'active', 'passive', 'actpass', 'holdconn'.");this.attributes.setup=t}}class b extends I{constructor(...e){super(...e),A(this,"attributes",{unrecognized:[],groups:[],extmaps:[],fingerprints:[],identities:[]})}parse(e){if(this.digested)throw new Error("already digested");try{switch(e.attField){case"group":this.parseGroup(e);break;case"ice-lite":this.parseIceLite();break;case"ice-ufrag":this.parseIceUfrag(e);break;case"ice-pwd":this.parseIcePwd(e);break;case"ice-options":this.parseIceOptions(e);break;case"fingerprint":this.parseFingerprint(e);break;case"setup":this.parseSetup(e);break;case"tls-id":this.parseTlsId(e);break;case"identity":this.parseIdentity(e);break;case"extmap":this.parseExtmap(e);break;case"msid-semantic":this.parseMsidSemantic(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error("parsing session attribute ".concat(e.attField,' error, "a=').concat(e.attField,":").concat(e.attValue,'"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error("attribute parsing error")}digest(){return this.digested=!0,this.attributes}parseGroup(e){const t=this.extract(e,this.consumeToken),r=[];for(;!this.atEnd(e)&&this.peekChar(e)===o;)this.consumeAttributeSpace(e),r.push(this.extract(e,this.consumeToken));this.attributes.groups.push({semantic:t,identificationTag:r})}parseIceLite(){if(this.attributes.iceLite)throw new Error("Invalid ice-lite, should be only a single line of 'a=ice-lite'");this.attributes.iceLite=!0}parseTlsId(e){if(this.attributes.tlsId)throw new Error("must be only one tld-id line");this.attributes.tlsId=this.extractOneOrMore(e,_)}parseIdentity(e){const t=this.extractOneOrMore(e,m),r=[];for(;!this.atEnd(e)&&this.peekChar(e)===o;){this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeToken);this.extract(e,this.consume,"=");const n=this.extractOneOrMore(e,(e=>e!==o&&h(e)));r.push({name:t,value:n})}this.attributes.identities.push({assertionValue:t,extensions:r})}parseMsidSemantic(e){this.peekChar(e)===o&&this.consumeAttributeSpace(e);const t={semantic:this.extract(e,this.consumeToken),identifierList:[]};for(;;){try{this.consumeAttributeSpace(e)}catch(e){break}if("*"===this.peekChar(e)){this.extract(e,this.consume,"*"),t.applyForAll=!0;break}{const r=this.extract(e,this.consumeTill,o);t.identifierList.push(r)}}this.attributes.msidSemantic=t}}class g extends I{constructor(e){super(),A(this,"attributes",void 0),-1!==e.protos.indexOf("RTP")||e.protos.indexOf("rtp"),this.attributes={unrecognized:[],candidates:[],extmaps:[],fingerprints:[],imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[]}}parse(e){if(this.digested)throw new Error("already digested");try{switch(e.attField){case"extmap":this.parseExtmap(e);break;case"setup":this.parseSetup(e);break;case"ice-ufrag":this.parseIceUfrag(e);break;case"ice-pwd":this.parseIcePwd(e);break;case"ice-options":this.parseIceOptions(e);break;case"candidate":this.parseCandidate(e);break;case"remote-candidate":this.parseRemoteCandidate(e);break;case"end-of-candidates":this.parseEndOfCandidates();break;case"fingerprint":this.parseFingerprint(e);break;case"rtpmap":this.parseRtpmap(e);break;case"ptime":this.parsePtime(e);break;case"maxptime":this.parseMaxPtime(e);break;case"sendrecv":case"recvonly":case"sendonly":case"inactive":this.parseDirection(e);break;case"ssrc":this.parseSSRC(e);break;case"fmtp":this.parseFmtp(e);break;case"rtcp-fb":this.parseRtcpFb(e);break;case"rtcp-mux":this.parseRTCPMux();break;case"rtcp-mux-only":this.parseRTCPMuxOnly();break;case"rtcp-rsize":this.parseRTCPRsize();break;case"rtcp":this.parseRTCP(e);break;case"mid":this.parseMid(e);break;case"msid":this.parseMsid(e);break;case"imageattr":this.parseImageAttr(e);break;case"rid":this.parseRid(e);break;case"simulcast":this.parseSimulcast(e);break;case"sctp-port":this.parseSctpPort(e);break;case"max-message-size":this.parseMaxMessageSize(e);break;case"ssrc-group":this.parseSSRCGroup(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error("parsing media attribute ".concat(e.attField,' error, "a=').concat(e.attField,":").concat(e.attValue,'"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error("attribute parsing error")}parseCandidate(e){const t=this.extractOneOrMore(e,f,[1,32]);this.consumeAttributeSpace(e);const r=this.extractOneOrMore(e,a,[1,5]);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const i=this.extractOneOrMore(e,a,[1,10]);this.consumeAttributeSpace(e);const s=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);const u=this.extract(e,this.consumePort);this.consumeAttributeSpace(e),this.extract(e,this.consume,"typ"),this.consumeAttributeSpace(e);const d={foundation:t,componentId:r,transport:n,priority:i,connectionAddress:s,port:u,type:this.extract(e,this.consumeToken),extension:{}};for(this.peek(e," raddr")&&(this.extract(e,this.consume," raddr"),this.consumeAttributeSpace(e),d.relAddr=this.extract(e,this.consumeAddress)),this.peek(e," rport")&&(this.extract(e,this.consume," rport"),this.consumeAttributeSpace(e),d.relPort=this.extract(e,this.consumePort));this.peekChar(e)===o;){this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e),d.extension[t]=this.extractOneOrMore(e,c)}this.attributes.candidates.push(d)}parseRemoteCandidate(e){const t=[];for(;;){const r=this.extractOneOrMore(e,a,[1,5]);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumePort);t.push({componentId:r,connectionAddress:n,port:i});try{this.consumeAttributeSpace(e)}catch(e){break}}this.attributes.remoteCandidatesList.push(t)}parseEndOfCandidates(){if(this.attributes.endOfCandidates)throw new Error("must be only one line of end-of-candidates");this.attributes.endOfCandidates=!0}parseRtpmap(e){const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const r=this.extract(e,this.consumeTill,"/");this.extract(e,this.consume,"/");const n={encodingName:r,clockRate:this.extractOneOrMore(e,a)};this.atEnd(e)||"/"!==this.peekChar(e)||(this.extract(e,this.consume,"/"),n.encodingParameters=parseInt(this.extract(e,this.consumeTill),10));const i=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));i?i.rtpMap=n:this.attributes.payloads.push({payloadType:parseInt(t,10),rtpMap:n,rtcpFeedbacks:[]})}parsePtime(e){if(this.attributes.ptime)throw new Error("must be only one line of ptime");this.attributes.ptime=this.extract(e,this.consumeTill)}parseMaxPtime(e){if(this.attributes.maxPtime)throw new Error("must be only one line of ptime");this.attributes.maxPtime=this.extract(e,this.consumeTill)}parseDirection(e){if(this.attributes.direction)throw new Error("must be only one line of direction info");this.attributes.direction=e.attField}parseSSRC(e){const t=this.extractOneOrMore(e,a);this.consumeAttributeSpace(e);const r=this.extract(e,this.consumeTill,":");let n;":"===this.peekChar(e)&&(this.extract(e,this.consume,":"),n=this.extract(e,this.consumeTill));const i=this.attributes.ssrcs.find((e=>e.ssrcId===parseInt(t,10)));i?i.attributes[r]=n:this.attributes.ssrcs.push({ssrcId:parseInt(t,10),attributes:{[r]:n}})}parseFmtp(e){const t=this.extract(e,this.consumeTill,o);this.consumeAttributeSpace(e);const r=this.extract(e,this.consumeTill),n={};r.split(";").forEach((e=>{let[t,r]=e.split("=");t=t.trim();const i="string"==typeof r?r.trim():null;"string"==typeof t&&t.length>0&&(n[t]=i)}));const i=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));i?i.fmtp={parameters:n}:this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[],fmtp:{parameters:n}})}parseFmtParameters(e){const t={},r=this.extract(e,this.consumeTill,"=");e._cur++;const n=this.extract(e,this.consumeTill,";");for(t[r]=n;";"===e.attValue[e._cur];){const r=this.extract(e,this.consumeTill,"=");e._cur++;const n=this.extract(e,this.consumeTill,";");t[r]=n}return t}parseRtcpFb(e){let t="";t="*"===this.peekChar(e)?this.extract(e,this.consume,"*"):this.extract(e,this.consumeTill,o),this.consumeAttributeSpace(e);const r=this.extract(e,this.consumeTill,o);let n;if("trr-int"===r)n={type:r,interval:this.extract(e,this.consumeTill)};else{const t={type:r};this.peekChar(e)===o&&(this.consumeAttributeSpace(e),t.parameter=this.extract(e,this.consumeToken),this.peekChar(e)===o&&(t.additional=this.extract(e,this.consumeTill))),n=t}if("*"===t)this.attributes.rtcpFeedbackWildcards.push(n);else{const e=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));e?e.rtcpFeedbacks.push(n):this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[n]})}}parseRTCPMux(){if(this.attributes.rtcpMux)throw new Error("must be single line of rtcp-mux");this.attributes.rtcpMux=!0}parseRTCPMuxOnly(){if(this.attributes.rtcpMuxOnly)throw new Error("must be single line of rtcp-only");this.attributes.rtcpMuxOnly=!0}parseRTCPRsize(){if(this.attributes.rtcpRsize)throw new Error("must be single line of rtcp-rsize");this.attributes.rtcpRsize=!0}parseRTCP(e){if(this.attributes.rtcp)throw new Error("must be single line of rtcp");const t={port:this.extract(e,this.consumePort)};this.peekChar(e)===o&&(this.consumeAttributeSpace(e),t.netType=this.extractOneOrMore(e,d),this.consumeAttributeSpace(e),t.addressType=this.extractOneOrMore(e,d),this.consumeAttributeSpace(e),t.address=this.extract(e,this.consumeAddress)),this.attributes.rtcp=t}parseMsid(e){const t={id:this.extractOneOrMore(e,d,[1,64])};this.peekChar(e)===o&&(this.consumeAttributeSpace(e),t.appdata=this.extractOneOrMore(e,d,[1,64])),this.attributes.msids.push(t)}parseImageAttr(e){this.attributes.imageattr.push(e.attValue)}parseRid(e){const t=this.extractOneOrMore(e,(e=>E(e)||a(e)||"_"===e||"-"===e));this.consumeAttributeSpace(e);const r={id:t,direction:this.extract(e,this.consumeToken),params:[]};if(this.peekChar(e)===o){if(this.consumeAttributeSpace(e),this.peek(e,"pt=")){this.extract(e,this.consume,"pt=");const t=[];for(;;){const r=this.extract(e,this.consumeToken);t.push(r);try{this.extract(e,this.consume,",")}catch(e){break}}r.payloads=t,this.peekChar(e)===o&&this.extract(e,this.consume,o)}for(;;){const t=this.extract(e,this.consumeToken);switch(t){case"depend":{const n={type:t,rids:this.extract(e,this.consume,"=").split(",")};r.params.push(n);break}default:{const n={type:t};"="===this.peekChar(e)&&(this.extract(e,this.consume,"="),n.val=this.extract(e,this.consumeTill,";")),r.params.push(n)}}try{this.extract(e,this.consume,";")}catch(e){break}}}this.attributes.rids.push(r)}parseSimulcast(e){if(this.attributes.simulcast)throw new Error("must be single line of simulcast");this.attributes.simulcast=e.attValue,this.extract(e,this.consumeTill)}parseSctpPort(e){this.attributes.sctpPort=this.extractOneOrMore(e,a,[1,5])}parseMaxMessageSize(e){this.attributes.maxMessageSize=this.extractOneOrMore(e,a,[1,void 0])}digest(){return this.digested=!0,this.attributes}parseMid(e){this.attributes.mid=this.extract(e,this.consumeToken)}parseSSRCGroup(e){const t=this.extract(e,this.consumeToken),r=[];for(;;)try{this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeInteger);r.push(parseInt(t,10))}catch(e){break}this.attributes.ssrcGroups.push({semantic:t,ssrcIds:r})}}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class C{constructor(){N(this,"eol",i)}print(e,t){let r="";return t&&(this.eol=t),r+=this.printVersion(e.version),r+=this.printOrigin(e.origin),r+=this.printSessionName(e.sessionName),r+=this.printInformation(e.information),r+=this.printUri(e.uri),r+=this.printEmail(e.emails),r+=this.printPhone(e.phones),r+=this.printConnection(e.connection),r+=this.printBandwidth(e.bandwidths),r+=this.printTimeFields(e.timeFields),r+=this.printKey(e.key),r+=this.printSessionAttributes(e.attributes),r+=this.printMediaDescription(e.mediaDescriptions),r}printVersion(e){return"v=".concat(e).concat(this.eol)}printOrigin(e){return"o=".concat(e.username," ").concat(e.sessId," ").concat(e.sessVersion," ").concat(e.nettype," ").concat(e.addrtype," ").concat(e.unicastAddress).concat(this.eol)}printSessionName(e){return e?"s=".concat(e).concat(this.eol):""}printInformation(e){return e?"i=".concat(e).concat(this.eol):""}printUri(e){return e?"u=".concat(e).concat(this.eol):""}printEmail(e){let t="";for(const r of e)t+="e=".concat(r).concat(this.eol);return t}printPhone(e){let t="";for(const r of e)t+="e=".concat(r).concat(this.eol);return t}printConnection(e){return e?"c=".concat(e.nettype," ").concat(e.addrtype," ").concat(e.address).concat(this.eol):""}printBandwidth(e){let t="";for(const r of e)t+="b=".concat(r.bwtype,":").concat(r.bandwidth).concat(this.eol);return t}printTimeFields(e){let t="";for(const r of e){t+="t=".concat(r.time.startTime," ").concat(r.time.startTime).concat(this.eol);for(const e of r.repeats)t+="r=".concat(e.repeatInterval," ").concat(e.typedTimes.join(" ")).concat(this.eol);r.zoneAdjustments&&(t+="z=",t+="z=".concat(r.zoneAdjustments.map((e=>"".concat(e.time," ").concat(e.back?"-":""," ").concat(e.typedTime))).join(" ")).concat(this.eol),t+=this.eol)}return t}printKey(e){return e?"k=".concat(e).concat(this.eol):""}printAttributes(e){let t="";for(const r of e)t+="a=".concat(r.attField).concat(r.attValue?":".concat(r.attValue):"").concat(this.eol);return t}printMediaDescription(e){let t="";for(const r of e)t+=this.printMedia(r.media),t+=this.printInformation(r.information),t+=this.printConnections(r.connections),t+=this.printBandwidth(r.bandwidths),t+=this.printKey(r.key),t+=this.printMediaAttributes(r);return t}printConnections(e){let t="";for(const r of e)t+=this.printConnection(r);return t}printMedia(e){return"m=".concat(e.mediaType," ").concat(e.port," ").concat(e.protos.join("/")," ").concat(e.fmts.join(" ")).concat(this.eol)}printSessionAttributes(e){return new w(this.eol).print(e)}printMediaAttributes(e){return new v(this.eol).print(e)}}class y{constructor(e){N(this,"eol",void 0),this.eol=e}printIceUfrag(e){return void 0===e?"":"a=ice-ufrag:".concat(e).concat(this.eol)}printIcePwd(e){return void 0===e?"":"a=ice-pwd:".concat(e).concat(this.eol)}printIceOptions(e){return void 0===e?"":"a=ice-options:".concat(e.join(o)).concat(this.eol)}printFingerprints(e){return e.length>0?e.map((e=>"a=fingerprint:".concat(e.hashFunction).concat(o).concat(e.fingerprint))).join(this.eol)+this.eol:""}printExtmap(e){return e.map((e=>"a=extmap:".concat(e.entry).concat(e.direction?"/".concat(e.direction):"").concat(o).concat(e.extensionName).concat(e.extensionAttributes?"".concat(o).concat(e.extensionAttributes):"").concat(this.eol))).join("")}printSetup(e){return void 0===e?"":"a=setup:".concat(e).concat(this.eol)}printUnrecognized(e){return e.map((e=>"a=".concat(e.attField).concat(e.attValue?":".concat(e.attValue):"").concat(this.eol))).join("")}}class w extends y{print(e){let t="";return t+=this.printGroups(e.groups),t+=this.printMsidSemantic(e.msidSemantic),t+=this.printIceLite(e.iceLite),t+=this.printIceUfrag(e.iceUfrag),t+=this.printIcePwd(e.icePwd),t+=this.printIceOptions(e.iceOptions),t+=this.printFingerprints(e.fingerprints),t+=this.printSetup(e.setup),t+=this.printTlsId(e.tlsId),t+=this.printIdentity(e.identities),t+=this.printExtmap(e.extmaps),t+=this.printUnrecognized(e.unrecognized),t}printGroups(e){let t="";return e.length>0&&(t+=e.map((e=>"a=group:".concat(e.semantic).concat(e.identificationTag.map((e=>"".concat(o).concat(e))).join("")).concat(this.eol))).join("")),t}printIceLite(e){return void 0===e?"":"a=ice-lite"+this.eol}printTlsId(e){return e?"a=tls-id:".concat(e).concat(this.eol):""}printIdentity(e){return 0===e.length?"":e.map((e=>"a=identity:".concat(e.assertionValue).concat(e.extensions.map((e=>"".concat(o).concat(e.name).concat(e.value?"=".concat(e.value):"")))))).join(this.eol)+this.eol}printMsidSemantic(e){if(!e)return"";let t="a=msid-semantic:".concat(e.semantic);return e.applyForAll?t+="".concat(o,"*"):e.identifierList.length>0&&(t+=e.identifierList.map((e=>"".concat(o).concat(e)))),t+this.eol}}class v extends y{print(e){const t=e.attributes;let r="";return r+=this.printRTCP(t.rtcp),r+=this.printIceUfrag(t.iceUfrag),r+=this.printIcePwd(t.icePwd),r+=this.printIceOptions(t.iceOptions),r+=this.printCandidates(t.candidates),r+=this.printRemoteCandidatesList(t.remoteCandidatesList),r+=this.printEndOfCandidates(t.endOfCandidates),r+=this.printFingerprints(t.fingerprints),r+=this.printSetup(t.setup),r+=this.printMid(t.mid),r+=this.printExtmap(t.extmaps),r+=this.printRTPRelated(t),r+=this.printPtime(t.ptime),r+=this.printMaxPtime(t.maxPtime),r+=this.printDirection(t.direction),r+=this.printSSRCGroups(t.ssrcGroups),r+=this.printSSRC(t.ssrcs),r+=this.printRTCPMux(t.rtcpMux),r+=this.printRTCPMuxOnly(t.rtcpMuxOnly),r+=this.printRTCPRsize(t.rtcpRsize),r+=this.printMSId(t.msids),r+=this.printImageattr(t.imageattr),r+=this.printRid(t.rids),r+=this.printSimulcast(t.simulcast),r+=this.printSCTPPort(t.sctpPort),r+=this.printMaxMessageSize(t.maxMessageSize),r+=this.printUnrecognized(t.unrecognized),r}printCandidates(e){return e.map((e=>"a=candidate:".concat(e.foundation).concat(o).concat(e.componentId).concat(o).concat(e.transport).concat(o).concat(e.priority).concat(o).concat(e.connectionAddress).concat(o).concat(e.port).concat(o,"typ").concat(o).concat(e.type).concat(e.relAddr?"".concat(o,"raddr").concat(o).concat(e.relAddr):"").concat(e.relPort?"".concat(o,"rport").concat(o).concat(e.relPort):"").concat(Object.keys(e.extension).map((t=>"".concat(o).concat(t).concat(o).concat(e.extension[t]))).join("")).concat(this.eol))).join("")}printRemoteCandidatesList(e){return e.map((e=>"a=remote-candidates:".concat(e.join(o)).concat(this.eol))).join("")}printEndOfCandidates(e){return void 0===e?"":"a=end-of-candidates"+this.eol}printRTPRelated(e){if(!e.payloads)return"";const t=e.payloads;let r="";r+=e.rtcpFeedbackWildcards.map((e=>this.printRTCPFeedback("*",e))).join("");for(const e of t)r+=this.printRtpMap(e.payloadType,e.rtpMap),r+=this.printFmtp(e.payloadType,e.fmtp),r+=e.rtcpFeedbacks.map((t=>this.printRTCPFeedback(e.payloadType,t))).join("");return r}printFmtp(e,t){if(!t)return"";const r=Object.keys(t.parameters);return 1===r.length&&null===t.parameters[r[0]]?"a=fmtp:".concat(e).concat(o).concat(r[0]).concat(this.eol):"a=fmtp:".concat(e).concat(o).concat(Object.keys(t.parameters).map((e=>"".concat(e,"=").concat(t.parameters[e]))).join(";")).concat(this.eol)}printRtpMap(e,t){return t?"a=rtpmap:".concat(e).concat(o).concat(t.encodingName,"/").concat(t.clockRate).concat(t.encodingParameters?"/".concat(t.encodingParameters):"").concat(this.eol):""}printRTCPFeedback(e,t){let r="a=rtcp-fb:".concat(e).concat(o),n=t;return"trr-int"===n.type?r+="ttr-int".concat(o).concat(n.interval):(r+="".concat(n.type),n.parameter&&(r+="".concat(o).concat(n.parameter),n.additional&&(r+="".concat(o).concat(n.additional)))),r+this.eol}printPtime(e){return void 0===e?"":"a=ptime:".concat(e).concat(this.eol)}printMaxPtime(e){return void 0===e?"":"a=maxptime:".concat(e).concat(this.eol)}printDirection(e){return void 0===e?"":"a=".concat(e).concat(this.eol)}printSSRC(e){return e.map((e=>Object.keys(e.attributes).map((t=>"a=ssrc:".concat(e.ssrcId.toString(10)).concat(o).concat(t).concat(e.attributes[t]?":".concat(e.attributes[t]):"").concat(this.eol))).join(""))).join("")}printRTCPMux(e){return void 0===e?"":"a=rtcp-mux".concat(this.eol)}printRTCPMuxOnly(e){return void 0===e?"":"a=rtcp-mux-only".concat(this.eol)}printRTCPRsize(e){return void 0===e?"":"a=rtcp-rsize".concat(this.eol)}printRTCP(e){if(void 0===e)return"";let t="a=rtcp:".concat(e.port);return e.netType&&(t+="".concat(o).concat(e.netType)),e.addressType&&(t+="".concat(o).concat(e.addressType)),e.address&&(t+="".concat(o).concat(e.address)),t+this.eol}printMSId(e){return e.map((e=>"a=msid:".concat(e.id).concat(e.appdata?"".concat(o).concat(e.appdata):"").concat(this.eol))).join("")}printImageattr(e){return e.map((e=>"a=imageattr:".concat(e).concat(this.eol))).join("")}printRid(e){return e.map((e=>{let t="a=rid:".concat(e.id).concat(o).concat(e.direction);return e.payloads&&(t+="".concat(o,"pt=").concat(e.payloads.join(","))),e.params.length>0&&(t+="".concat(o).concat(e.params.map((e=>"depend"===e.type?"depend=".concat(e.rids.join(",")):"".concat(e.type,"=").concat(e.val))).join(";"))),t+this.eol})).join("")}printSimulcast(e){return void 0===e?"":"a=simulcast:".concat(e).concat(this.eol)}printSCTPPort(e){return void 0===e?"":"a=sctp-port:".concat(e).concat(this.eol)}printMaxMessageSize(e){return void 0===e?"":"a=max-message-size:".concat(e).concat(this.eol)}printMid(e){return void 0===e?"":"a=mid:".concat(e).concat(this.eol)}printSSRCGroups(e){return e.map((e=>"a=ssrc-group:".concat(e.semantic).concat(e.ssrcIds.map((e=>"".concat(o).concat(e.toString(10)))).join("")).concat(this.eol))).join("")}}function D(e){return(new O).parse(e)}function L(e,t){return(new C).print(e,t)}}},t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}return r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(8)})()}(KO);var GO=KO.exports;e.AgoraAPIName=vm,e.AgoraAPITag=Dm,e.AgoraRTCError=_m,e.AgoraRTCErrorCode=fm,e.AgoraWebRTCStatsFilter=zS,e.AudienceLatencyLevelType=Pm,e.AudioCodec=FO,e.BUILD="v4.24.2-0-g002485b1-dirty(12/12/2025, 5:26:54 PM)",e.BrowserName=SE,e.BrowserOS=AE,e.CONFIG_DISTRIBUTE_TYPE=vO,e.CRYPTO_HEADER_LENGTH=VO,e.CRYPTO_ITERATIONS=BO,e.CRYPTO_IV_LENGTH=xO,e.CRYPTO_TAG_LENGTH=kO,e.ClientEvents=km,e.ClientFallbackToHlsType=xm,e.ConnectionDisconnectedReason=Mm,e.DEFAULT_AREAS=AO,e.DEFAULT_AUDIO_RECV_STATS=WS,e.DEFAULT_AUDIO_SEND_STATS=GS,e.DEFAULT_CANDIDATE_STATS=BS,e.DEFAULT_PC_STATS=VS,e.DEFAULT_RETRY_CONFIG=hR,e.DEFAULT_TRANSPORT_STATS={bytesSent:0,bytesReceived:0,packetsSent:0,packetsReceived:0},e.DEFAULT_TURN_CONFIG=OO,e.DEFAULT_VIDEO_RECV_STATS=jS,e.DEFAULT_VIDEO_SEND_STATS=KS,e.EventEmitter=Cm,e.IMMUTABLE_PARAMS=gO,e.IS_GLOBAL_VERSION=RO,e.MUTABLE_GATEWAY_PARAMS=IO,e.MUTABLE_PARAMS=CO,e.MUTABLE_PARAMS_LOCAL_CACHE=DO,e.MUTABLE_REALTIME_PARAMS=NO,e.NETWORK_INDICATOR_EVENTS=jm,e.NETWORK_STATE=Vm,e.OVERUSE_DETECTOR_PARAMS=bO,e.P2PTransportType=SO,e.PeerConnectionState=aO,e.PromiseMutex=class{static setLogger(e){pR=e}constructor(e,t){hm(this,"id",void 0),hm(this,"lockingPromise",Gl.resolve()),hm(this,"locks",0),hm(this,"name",""),hm(this,"lockId",void 0),this.lockId=ER++,e&&(this.name=e),t&&(this.id=t),this.logger("created")}logger(e,t){const r=(this.id?"[".concat(this.id,"]"):"")+"[lock-".concat(this.name,"-").concat(this.lockId,"]"),n="created"===e?"is ".concat(e,"."):"is ".concat(e,", current queue ").concat(this.locks,". ").concat(null!=t?t:"");pR.debug("".concat(r," ").concat(n))}setId(e){this.id=e}get isLocked(){return this.locks>0}lock(e){let t;this.locks+=1,this.logger("locked",e);const r=new Gl((r=>{t=()=>{this.locks-=1,this.logger("unlocked",e),r()}})),n=this.lockingPromise.then((()=>t));return this.lockingPromise=this.lockingPromise.then((()=>r)),n}},e.QualityLimitationReason=oO,e.RTCStatsType=cO,e.Rolling=class{constructor(e){hm(this,"input",[]),hm(this,"size",void 0),this.size=e}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)}mean(){var e;return 0===this.input.length?0:nT(e=this.input).call(e,((e,t)=>e+t))/this.input.length}},e.SDKStore=class{constructor(e,t,r,n,i){hm(this,"state",void 0),this.state={codec:e,audioCodec:t,mode:r,clientId:n,sessionId:null,p2pId:0,dcId:0,pubId:0,subId:0,keyMetrics:{publish:[],subscribe:[],firstVideoFrameDecoded:[]},joinChannelServiceRecords:[],cloudProxyServerMode:"disabled",useP2P:!1,p2pTransport:SO.Default,hasStartJoinChannel:!1,isABTestSuccess:!1,rteUrl:void 0,rteSid:void 0,autoSubscribe:!1,enableInstantMuteRestore:!1,networkQualityProbe:!1,useDcSignal:!!i}}dispatch(e){this.state=function(e,t){switch(t.type){case MO.SET_SESSION_ID:return PO(PO({},e),{},{sessionId:t.sessionId});case MO.SET_P2P_ID:return PO(PO({},e),{},{p2pId:t.p2pId});case MO.SET_UID:return PO(PO({},e),{},{uid:t.uid});case MO.SET_INT_UID:return PO(PO({},e),{},{intUid:t.intUid});case MO.SET_PUB_ID:return PO(PO({},e),{},{pubId:t.pubId});case MO.KEY_METRIC_CLIENT_CREATED:return PO(PO({},e),{},{keyMetrics:PO(PO({},e.keyMetrics),{},{clientCreated:t.metric})});case MO.KEY_METRIC_JOIN_START:return PO(PO({},e),{},{keyMetrics:PO(PO({},e.keyMetrics),{},{joinStart:t.metric})});case MO.KEY_METRIC_PRELOAD_START:return PO(PO({},e),{},{keyMetrics:PO(PO({},e.keyMetrics),{},{preloadStart:t.metric})});case MO.KEY_METRIC_PRELOAD_END:return PO(PO({},e),{},{keyMetrics:PO(PO({},e.keyMetrics),{},{preloadEnd:t.metric})});case MO.KEY_METRIC_JOIN_END:return PO(PO({},e),{},{keyMetrics:PO(PO({},e.keyMetrics),{},{joinEnd:t.metric})});case MO.KEY_METRIC_REQUEST_AP_START:return PO(PO({},e),{},{keyMetrics:PO(PO({},e.keyMetrics),{},{requestAPStart:t.metric})});case MO.KEY_METRIC_REQUEST_AP_END:return PO(PO({},e),{},{keyMetrics:PO(PO({},e.keyMetrics),{},{requestAPEnd:t.metric})});case MO.KEY_METRIC_REQUEST_SUA_END:return PO(PO({},e),{},{keyMetrics:PO(PO({},e.keyMetrics),{},{requestSUAEnd:t.metric})});case MO.KEY_METRIC_BEFORE_CONNECT:return PO(PO({},e),{},{keyMetrics:PO(PO({},e.keyMetrics),{},{beforeConnect:t.metric})});case MO.KEY_METRIC_PEER_RECEIVER:return PO(PO({},e),{},{keyMetrics:PO(PO({},e.keyMetrics),{},{peerReceiver:t.metric})});case MO.KEY_METRIC_SIGNAL_CONNECTED:return PO(PO({},e),{},{keyMetrics:PO(PO({},e.keyMetrics),{},{signalConnected:t.metric})});case MO.KEY_METRIC_JOIN_REQ:return PO(PO({},e),{},{keyMetrics:PO(PO({},e.keyMetrics),{},{joinReq:t.metric})});case MO.KEY_METRIC_JOIN_REP:return PO(PO({},e),{},{keyMetrics:PO(PO({},e.keyMetrics),{},{joinRep:t.metric})});case MO.KEY_METRIC_JOIN_GATEWAY_START:return PO(PO({},e),{},{keyMetrics:PO(PO({},e.keyMetrics),{},{joinGatewayStart:t.metric})});case MO.KEY_METRIC_JOIN_GATEWAY_END:return PO(PO({},e),{},{keyMetrics:PO(PO({},e.keyMetrics),{},{joinGatewayEnd:t.metric})});case MO.KEY_METRIC_PEER_CONNECTION_START:return PO(PO({},e),{},{keyMetrics:PO(PO({},e.keyMetrics),{},{peerConnectionStart:t.metric})});case MO.KEY_METRIC_PEER_CONNECTION_END:return PO(PO({},e),{},{keyMetrics:PO(PO({},e.keyMetrics),{},{peerConnectionEnd:t.metric})});case MO.KEY_METRIC_DESCRIPTION_START:return PO(PO({},e),{},{keyMetrics:PO(PO({},e.keyMetrics),{},{descriptionStart:t.metric})});case MO.KEY_METRIC_SIGNAL_CHANNEL_OPEN:return PO(PO({},e),{},{keyMetrics:PO(PO({},e.keyMetrics),{},{signalChannelOpen:t.metric})});case MO.KEY_METRIC_ICE_CONNECTION_END:return PO(PO({},e),{},{keyMetrics:PO(PO({},e.keyMetrics),{},{iceConnectionEnd:t.metric})});case MO.KEY_METRIC_PUBLISH:{const r=e.keyMetrics.publish,n=r.findIndex((e=>e.trackId===t.metric.trackId));return-1!==n?(r[n]=PO(PO({},r[n]),t.metric),PO(PO({},e),{},{keyMetrics:PO(PO({},e.keyMetrics),{},{publish:[...r]})})):PO(PO({},e),{},{keyMetrics:PO(PO({},e.keyMetrics),{},{publish:[...e.keyMetrics.publish,t.metric]})})}case MO.KEY_METRIC_SUBSCRIBE:{const r=e.keyMetrics.subscribe,n=r.findIndex((e=>e.userId===t.metric.userId&&e.type===t.metric.type));return-1!==n?(r[n]=PO(PO({},r[n]),t.metric),PO(PO({},e),{},{keyMetrics:PO(PO({},e.keyMetrics),{},{subscribe:[...r]})})):PO(PO({},e),{},{keyMetrics:PO(PO({},e.keyMetrics),{},{subscribe:[...e.keyMetrics.subscribe,t.metric]})})}case MO.KEY_METRIC_FIRST_VIDEO_FRAME_DECODED:{const r=e.keyMetrics.firstVideoFrameDecoded,n=r.findIndex((e=>e.userId===t.metric.userId));return-1!==n?(r[n]=PO(PO({},r[n]),t.metric),PO(PO({},e),{},{keyMetrics:PO(PO({},e.keyMetrics),{},{firstVideoFrameDecoded:[...r]})})):PO(PO({},e),{},{keyMetrics:PO(PO({},e.keyMetrics),{},{firstVideoFrameDecoded:[...e.keyMetrics.firstVideoFrameDecoded,t.metric]})})}case MO.RESET_FIRST_VIDEO_FRAME_DECODED:return e.keyMetrics.firstVideoFrameDecoded=[],e;case MO.SET_CLOUD_PROXY_SERVER_MODE:return e.cloudProxyServerMode=t.mode,e;case MO.RECORD_JOIN_CHANNEL_SERVICE:return"number"!=typeof t.index?e.joinChannelServiceRecords=[...e.joinChannelServiceRecords,t.record]:(e.joinChannelServiceRecords[t.index]=PO(PO({},e.joinChannelServiceRecords[t.index]),t.record),e.joinChannelServiceRecords=[...e.joinChannelServiceRecords]),e;case MO.RESET_JOIN_CHANNEL_SERVICE_RECORDS:return e.joinChannelServiceRecords=[],e;case MO.RESET_KEY_METRICS:return e.keyMetrics={publish:[],subscribe:[],firstVideoFrameDecoded:[]},e;case MO.SET_USE_P2P:return PO(PO({},e),{},{useP2P:t.val});case MO.SET_TRANSPORT_TYPE:return PO(PO({},e),{},{p2pTransport:t.val});case MO.SET_RTE_URL:return PO(PO({},e),{},{rteUrl:t.rteUrl});case MO.SET_RTE_SID:return PO(PO({},e),{},{rteSid:t.rteSid});default:return e}}(this.state,e)}get useDcSignal(){return this.state.useDcSignal}set useDcSignal(e){this.state.useDcSignal=e}set autoSubscribe(e){this.state.autoSubscribe=e}get autoSubscribe(){return this.state.autoSubscribe}set enableInstantMuteRestore(e){this.state.enableInstantMuteRestore=e}get enableInstantMuteRestore(){return this.state.enableInstantMuteRestore}set networkQualityProbe(e){this.state.networkQualityProbe=e}get networkQualityProbe(){return this.state.networkQualityProbe}set sessionId(e){this.dispatch({type:MO.SET_SESSION_ID,sessionId:e})}get sessionId(){return this.state.sessionId}set rteUrl(e){this.dispatch({type:MO.SET_RTE_URL,rteUrl:e})}get rteUrl(){return this.state.rteUrl}set rteSid(e){this.dispatch({type:MO.SET_RTE_SID,rteSid:e})}get rteSid(){return this.state.rteSid}set cid(e){this.state.cid=e}get cid(){return this.state.cid}set codec(e){this.state.codec=e}get codec(){return this.state.codec}get mode(){return this.state.mode}get audioCodec(){return this.state.audioCodec}get clientId(){return this.state.clientId}set p2pId(e){this.dispatch({type:MO.SET_P2P_ID,p2pId:e})}get p2pId(){return this.state.p2pId}set dcId(e){this.dispatch({type:MO.SET_DC_ID,dcId:e})}get dcId(){return this.state.dcId}set uid(e){this.dispatch({type:MO.SET_UID,uid:e})}get uid(){return this.state.uid}set intUid(e){this.dispatch({type:MO.SET_INT_UID,intUid:e})}get intUid(){return this.state.intUid}set pubId(e){this.dispatch({type:MO.SET_PUB_ID,pubId:e})}get pubId(){return this.state.pubId}set cloudProxyServerMode(e){this.dispatch({type:MO.SET_CLOUD_PROXY_SERVER_MODE,mode:e})}get cloudProxyServerMode(){return this.state.cloudProxyServerMode}set useP2P(e){this.dispatch({type:MO.SET_USE_P2P,val:e})}get useP2P(){return this.state.useP2P}set p2pTransport(e){this.dispatch({type:MO.SET_TRANSPORT_TYPE,val:e})}get p2pTransport(){return this.state.p2pTransport}set hasStartJoinChannel(e){this.state.hasStartJoinChannel=e}get hasStartJoinChannel(){return this.state.hasStartJoinChannel}set isABTestSuccess(e){this.state.isABTestSuccess=e}get isABTestSuccess(){return this.state.isABTestSuccess}clientCreated(){this.dispatch({type:MO.KEY_METRIC_CLIENT_CREATED,metric:Date.now()})}joinStart(){this.dispatch({type:MO.KEY_METRIC_JOIN_START,metric:Date.now()})}preloadStart(){this.dispatch({type:MO.KEY_METRIC_PRELOAD_START,metric:Date.now()})}preloadEnd(){this.dispatch({type:MO.KEY_METRIC_PRELOAD_END,metric:Date.now()})}joinEnd(){this.dispatch({type:MO.KEY_METRIC_JOIN_END,metric:Date.now()})}requestAPStart(){this.dispatch({type:MO.KEY_METRIC_REQUEST_AP_START,metric:Date.now()})}requestAPEnd(){this.dispatch({type:MO.KEY_METRIC_REQUEST_AP_END,metric:Date.now()})}requestSUAEnd(){this.dispatch({type:MO.KEY_METRIC_REQUEST_SUA_END,metric:Date.now()})}beforeConnect(){this.dispatch({type:MO.KEY_METRIC_BEFORE_CONNECT,metric:Date.now()})}peerReceiver(){this.dispatch({type:MO.KEY_METRIC_PEER_RECEIVER,metric:Date.now()})}signalConnected(){this.dispatch({type:MO.KEY_METRIC_SIGNAL_CONNECTED,metric:Date.now()})}joinReq(){this.dispatch({type:MO.KEY_METRIC_JOIN_REQ,metric:Date.now()})}joinRep(){this.dispatch({type:MO.KEY_METRIC_JOIN_REP,metric:Date.now()})}joinGatewayStart(){this.dispatch({type:MO.KEY_METRIC_JOIN_GATEWAY_START,metric:Date.now()})}joinGatewayEnd(){this.dispatch({type:MO.KEY_METRIC_JOIN_GATEWAY_END,metric:Date.now()})}peerConnectionStart(){this.dispatch({type:MO.KEY_METRIC_PEER_CONNECTION_START,metric:Date.now()})}peerConnectionEnd(){this.dispatch({type:MO.KEY_METRIC_PEER_CONNECTION_END,metric:Date.now()})}firstVideoFrameDecoded(e,t){this.dispatch({type:MO.KEY_METRIC_FIRST_VIDEO_FRAME_DECODED,metric:PO({userId:e},t)})}descriptionStart(){this.dispatch({type:MO.KEY_METRIC_DESCRIPTION_START,metric:Date.now()})}signalChannelOpen(){this.dispatch({type:MO.KEY_METRIC_SIGNAL_CHANNEL_OPEN,metric:Date.now()})}iceConnectionEnd(){this.dispatch({type:MO.KEY_METRIC_ICE_CONNECTION_END,metric:Date.now()})}publish(e,t,r,n){this.dispatch({type:MO.KEY_METRIC_PUBLISH,metric:PO(PO({trackId:e,type:t},r&&{publishStart:r}),n&&{publishEnd:n})})}subscribe(e,t,r,n,i,o,s){this.dispatch({type:MO.KEY_METRIC_SUBSCRIBE,metric:PO(PO(PO(PO(PO({userId:e,type:t},r&&{subscribeStart:r}),n&&{subscribeEnd:n}),i&&{firstFrame:i}),o&&{streamAdded:o}),s&&{firstDecoded:s})})}massSubscribe(e,t,r,n){e.forEach((e=>{this.dispatch({type:MO.KEY_METRIC_SUBSCRIBE,metric:PO(PO(PO({userId:e.userId,type:e.type},t&&{subscribeStart:t}),r&&{subscribeEnd:r}),n&&{firstFrame:n})})}))}get keyMetrics(){return this.state.keyMetrics}recordJoinChannelService(e,t){"gateway"===e.service&&Array.isArray(e.urls)&&(e.urls=e.urls.map((e=>e.replace(/(\d+)-\d+-\d+-(\d+)/,"$1-*-*-$2"))));try{return"number"!=typeof t?(this.dispatch({type:MO.RECORD_JOIN_CHANNEL_SERVICE,record:PO(PO({},e),{},{sessionId:this.sessionId,cloudProxyMode:this.cloudProxyServerMode,uid:this.uid})}),this.state.joinChannelServiceRecords.length-1):(t<0||t>=this.state.joinChannelServiceRecords.length||this.dispatch({type:MO.RECORD_JOIN_CHANNEL_SERVICE,record:e,index:t}),t)}catch(e){return 0}}resetJoinChannelServiceRecords(){this.dispatch({type:MO.RESET_JOIN_CHANNEL_SERVICE_RECORDS})}resetKeyMetrics(){this.dispatch({type:MO.RESET_KEY_METRICS})}resetFirstVideoFrameDecoded(){this.dispatch({type:MO.RESET_FIRST_VIDEO_FRAME_DECODED})}get joinChannelServiceRecords(){try{return this.state.joinChannelServiceRecords}catch(e){return[]}}},e.SHA256=async e=>Nm(await crypto.subtle.digest("SHA-256",gm(e)),16),e.SIMULCAST_STREAM_MODE=Fm,e.ScalabilityMode=sO,e.TransformStreamAdapter=class{constructor(e){hm(this,"_transformStream",void 0),hm(this,"_readable",void 0),hm(this,"_writable",void 0),hm(this,"_reader",void 0),hm(this,"_writer",void 0),this._transformStream=new TransformStream({transform:e}),this._readable=this._transformStream.readable,this._writable=this._transformStream.writable,this._reader=this._readable.getReader(),this._writer=this._writable.getWriter()}get reader(){return this._reader}get writer(){return this._writer}close(){this.writer.releaseLock(),this._writable.close(),this.reader.cancel(),this.reader.releaseLock(),this._readable.cancel()}},e.VERSION=TO,e.VideoCodec=UO,e.WebSocketQuitReason=Bm,e.appendBuffer=function(e,t){const r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e),0),r.set(new Uint8Array(t),e.byteLength),r},e.atom=function(e,t){return function(r,n,i){const o=i.value;if("function"!=typeof o)throw new Error("Cannot use mutex on object property.");return i.value=async function(){const r=this[t];if(!r)throw new Error("mutex property key ".concat(t," doesn't exist on ").concat(e));const i=await r.lock("From ".concat(e,".").concat(n));try{for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return await o.apply(this,a)}finally{i()}},i}},e.base64ToUint8Array=function(e){const t=window.atob(e),r=new Uint8Array(new ArrayBuffer(t.length));for(let e=0;e<t.length;e+=1)r[e]=t.charCodeAt(e);return r},e.bufferToStr=Nm,e.checkIsEqual=function(e,t){var r,n;const i=Ap(r=Object.keys(e)).call(r),o=Ap(n=Object.keys(t)).call(n);for(let r=0;r<i.length;r+=1){if(i[r]!==o[r])return!1;if(e[i[r]]!==t[i[r]])return!1}return!0},e.checkValidArray=function(e,t){if(!Array.isArray(e))throw new _m(fm.INVALID_PARAMS,"".concat(t," should be an array"))},e.checkValidBoolean=mm,e.checkValidConstrainLong=function(e,t){if("number"!=typeof e){if(!(e.min||e.max||e.ideal||e.exact)){throw new _m(fm.INVALID_PARAMS,"".concat(t," is not a valid ConstrainLong"))}void 0!==e.min&&Rm(e.min,"".concat(t,".min"),0,1/0),void 0!==e.max&&Rm(e.max,"".concat(t,".max"),1,1/0),void 0!==e.exact&&Rm(e.exact,"".concat(t,".exact"),1,1/0),void 0!==e.ideal&&Rm(e.ideal,"".concat(t,".ideal"),1,1/0)}else Rm(e,t,1,1/0)},e.checkValidEnum=Tm,e.checkValidNumber=Rm,e.checkValidString=Am,e.compareArray=function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r+=1){const n=e[r];if(e.filter((e=>e===n)).length!==t.filter((e=>e===n)).length)return!1}return!0},e.concurrent=async function(e,t,r){Yl.get(e)||Yl.set(e,[]),zl.get(e)||zl.set(e,t),ql.get(e)||ql.set(e,0);const n=Yl.get(e),i=zl.get(e);if(!n||!i)throw new Error("concurrent: deferQueue or maxConcurrency is null");if(ql.get(e)===i){const e=Hl();n.push(e),await e.promise}ql.set(e,ql.get(e)+1);for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];const c=await r(...s);return ql.set(e,ql.get(e)-1),ql.get(e)===i-1&&n.length>0&&(n[0].resolve(),n.shift()),0===ql.get(e)&&(Yl.set(e,[]),zl.set(e,0),ql.set(e,0)),c},e.constrainLongToNumber=function(e){return"number"==typeof e?e:e.exact||e.ideal||e.max||e.min||0},e.convertStringToFixedLengthUint8Array=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,r=(new TextEncoder).encode(e);if(r.length>t)r=r.slice(0,t);else if(r.length<t){const e=new Uint8Array(t);e.set(r),r=e}return r},e.createAxiosCancelSource=function(){return yS.CancelToken.source()},e.createDefer=Hl,e.createInternalUnexpectedError=function(e,t){return new _m(fm.UNEXPECTED_ERROR,e,t)},e.createResolvedDefer=function(e){const t=Hl();return t.resolve(e),t},e.createTimeoutDefer=function(e){const t=Hl(),r=setTimeout(t.resolve,e);return t.cancel=()=>clearTimeout(r),t},e.createWebRTCStatsFilter=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e4;const o=function(){const e=navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]*/i);return e&&e[0]?Number(e[0].split("/")[1]):null}();return o?o<76?new XS(e,{updateInterval:t,lossRateInterval:r,freezeRateLimit:n,firstVideoDecodedTimeout:i}):new pO(e,{updateInterval:t,lossRateInterval:r,freezeRateLimit:n,firstVideoDecodedTimeout:i}):function(e){if(!window.RTCStatsReport)return!1;const t=e.getStats();return!!(t instanceof Gl||lR(t))}(e)?new pO(e,{updateInterval:t,lossRateInterval:r,freezeRateLimit:n,firstVideoDecodedTimeout:i}):new hO(e,{updateInterval:t,lossRateInterval:r,freezeRateLimit:n,firstVideoDecodedTimeout:i})},e.decryptAesGcm=async function(e,t,r){const n=r.subarray(0,VO),i=n.slice(8,VO),o=(i[0]<<8)+i[1],s=(n[6]<<8)+n[7],a=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:e,tagLength:kO,additionalData:new Uint8Array(dR(o,2))},t,r.subarray(VO));return r=new Uint8Array(a).subarray(0,s)},e.deprecatedGetBrowserInfo=function(e){const t=e||navigator.userAgent;let r=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if("Chrome"===r[1]){const e=t.match(/(OPR(?=\/))\/?(\d+)/i);null!==e&&(r=e)}if("Safari"===r[1]){const e=t.match(/version\/(\d+)/i);null!==e&&(r[2]=e[1])}if(-1!==t.toLowerCase().indexOf("qqbrowser")){const e=t.match(/(qqbrowser(?=\/))\/?(\d+)/i);null!==e&&(r=e)}if(-1!==t.toLowerCase().indexOf("micromessenger")){const e=t.match(/(micromessenger(?=\/))\/?(\d+)/i);null!==e&&(r=e)}if(-1!==t.toLowerCase().indexOf("edge")){const e=t.match(/(edge(?=\/))\/?(\d+)/i);null!==e&&(r=e)}if(-1!==t.toLowerCase().indexOf("trident")){const e=/\brv[ :]+(\d+)/g.exec(t)||[];null!==e&&(r=["","IE",e[1]])}let n=null;const i=[{s:AE.WIN_10,r:/(Windows 10.0|Windows NT 10.0)/},{s:AE.WIN_81,r:/(Windows 8.1|Windows NT 6.3)/},{s:AE.WIN_8,r:/(Windows 8|Windows NT 6.2)/},{s:AE.WIN_7,r:/(Windows 7|Windows NT 6.1)/},{s:AE.WIN_VISTA,r:/Windows NT 6.0/},{s:AE.WIN_SERVER_2003,r:/Windows NT 5.2/},{s:AE.WIN_XP,r:/(Windows NT 5.1|Windows XP)/},{s:AE.WIN_2000,r:/(Windows NT 5.0|Windows 2000)/},{s:AE.ANDROID,r:/Android/},{s:AE.OPEN_BSD,r:/OpenBSD/},{s:AE.SUN_OS,r:/SunOS/},{s:AE.LINUX,r:/(Linux|X11)/},{s:AE.IOS,r:/(iPhone|iPad|iPod)/},{s:AE.MAC_OS,r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:AE.QNX,r:/QNX/},{s:AE.UNIX,r:/UNIX/},{s:AE.BEOS,r:/BeOS/},{s:AE.OS_2,r:/OS\/2/},{s:AE.SEARCH_BOT,r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(const e of i)if(e.r.test(t)){n=e.s;break}return{name:r[1],version:r[2],os:n}},e.detectSecureContext=function(){return"boolean"==typeof isSecureContext?isSecureContext:"https:"===location.protocol||"file:"===location.protocol||"localhost"===location.hostname||"127.0.0.1"===location.hostname||"::1"===location.hostname},e.dividePackage=function(e,t,r){const n=e[t];if(!n||"string"!=typeof n)return[e];e[t]="";const i=rR(JSON.stringify(e));let o=0;const s=[];let a=0;for(let c=0;c<n.length;c++)a+=n.charCodeAt(c)<=127?1:3,a<=r-i||(s[s.length]=$T($T({},e),{},{[t]:n.substring(o,c)}),o=c,a=n.charCodeAt(c)<=127?1:3);return o!==n.length-1&&(s[s.length]=$T($T({},e),{},{[t]:n.substring(o)})),s},e.domLoadedPromise=function(){return new Gl((e=>{document.body?e():window.addEventListener("load",(()=>e()))}))},e.elementVisibleChecker=bm,e.emitAsInvoker=Gm,e.emitAsInvokerNoResponse=function(e,t){if(0===e.getListeners(t).length)return null;for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return Gm(e,t,...n)},e.emitAsPromise=Km,e.emitAsPromiseNoResponse=function(e,t){if(0===e.getListeners(t).length)return Gl.resolve();for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return Km(e,t,...n)},e.encryptAesGcm=async function(e,t,r){var n;const i=nT(n=Array.from(r)).call(n,((e,t)=>e+t),0),o={serverTs:0,seq:jO++,length:r.length,checkSum:i},s=new Uint8Array(dR(i,2)),a=new ArrayBuffer(VO),c=new DataView(a);c.setUint32(0,o.serverTs),c.setUint16(4,o.seq),c.setUint16(6,o.length),c.setUint16(8,o.checkSum);const u=16-r.length%16;r=tR(r,new Uint8Array(u));const d=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:e,tagLength:kO,additionalData:s},t,r);return tR(new Uint8Array(a),new Uint8Array(d))},e.encryptRSA=async e=>{const t=function(e){const t=window.atob(e),r=new Uint8Array(new ArrayBuffer(t.length));for(let e=0;e<t.length;e+=1)r[e]=t.charCodeAt(e);return r}("MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu\nSTM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+\nHvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy\nxQiYDz3vqa6bP29adwIDAQAB"),r=await window.crypto.subtle.importKey("spki",t,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"]),n=gm(e),i=await window.crypto.subtle.encrypt({name:"RSA-OAEP"},r,n);return function(e){let t="";for(let r=0;r<e.length;r+=1)t+=String.fromCharCode(e[r]);return window.btoa(t)}(new Uint8Array(i))},e.findIndexs=function(e,t){const r=[];return e.forEach(((e,n)=>{t(e)&&r.push(n)})),r},e.generateIv=async function(e,t,r){const n=await window.crypto.subtle.importKey("raw",t,"PBKDF2",!1,["deriveBits","deriveKey"]),i="aes-128-gcm2"===e?128:256,o=await window.crypto.subtle.deriveBits({name:"PBKDF2",iterations:BO,hash:"SHA-256",salt:r},n,i+xO);return new Uint8Array(o).subarray(i/8)},e.generateKey=async function(e,t,r){const n=await window.crypto.subtle.importKey("raw",t,"PBKDF2",!1,["deriveBits","deriveKey"]),i="aes-128-gcm2"===e?128:256;return await window.crypto.subtle.deriveKey({name:"PBKDF2",iterations:BO,hash:"SHA-256",salt:r},n,{name:"AES-GCM",length:i},!0,["encrypt","decrypt"])},e.generateProcessID=function(){return"process-".concat(oR(8,""),"-").concat(oR(4,""),"-").concat(oR(4,""),"-").concat(oR(4,""),"-").concat(oR(12,""))},e.generateSessionID=sR,e.getBigInt64=function(e,t,r){if("getBigInt64"in DataView.prototype)return e.getBigInt64(t,r);const n=Number(!!r),i=Number(!r);return BigInt(e.getInt32(t,r)*i+e.getInt32(t+4,r)*n)<<BigInt(32)|BigInt(e.getUint32(t,r)*n+e.getUint32(t+4,r)*i)},e.getBigUint64=function(e,t,r){if("getBigUint64"in DataView.prototype)return e.getBigUint64(t,r);const n=e.getUint32(t,r),i=e.getUint32(t+4,r),o=Number(!!r),s=Number(!r);return BigInt(n*s+i*o)<<BigInt(32)|BigInt(n*o+i*s)},e.getBrowserInfo=NE,e.getBrowserOS=vE,e.getBrowserVersion=function(){return NE().version},e.getChangedKeysFromObject=function(e,t){const r=Object.keys(e),n=[];for(const i of r)e[i]!==t[i]&&n.push(i);return n},e.getChromeKernelVersion=function(){const e=navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]*/i);return e&&e[0]?e[0].split("/")[1]:null},e.getElectronInstance=wm,e.getHTTPRecvBytes=function(){return PS},e.getHTTPSendBytes=function(){return LS},e.getMessageEncoding=gm,e.getMultiUnilbsFormDataByteLength=nR,e.getOSWithVersion=function(){const e=NE();return"".concat(e.os," ").concat(e.osVersion)},e.getParameter=wO,e.getRandomString=oR,e.getRetryWaitTime=function(e,t){const r=Math.floor(t.timeout*Math.pow(t.timeoutFactor,e));return Math.min(t.maxRetryTimeout,r)},e.getUTF8StringByteLength=rR,e.getUniqueList=function(e){const t=[];return e.forEach((e=>{-1===t.indexOf(e)&&t.push(e)})),t},e.hexToBytes=function(e){const t=[];for(let r=0;r<e.length;r+=2)t.push(parseInt(e.slice(r,r+2),16));return Uint8Array.from(t)},e.isAboveChrome=function(e){const t=NE();return!(t.name!==SE.CHROME||!t.osVersion)&&Number(t.version)>=e},e.isAboveEdge=function(e){const t=NE();return!(t.name!==SE.EDGE||!t.osVersion)&&Number(t.version)>=e},e.isAboveFirefox=function(e){const t=NE();return!(t.name!==SE.FIREFOX||!t.osVersion)&&Number(t.version)>=e},e.isAboveIOS=function(e,t,r){const n=NE();if(n.os!==AE.IOS||!n.osVersion)return!1;const i=n.osVersion.split(".");return r?t&&Number(i[0])===e&&Number(i[1])>t||Number(i[0])>e:t?Number(i[0])===e&&Number(i[1])>=t||Number(i[0])>e:Number(i[0])>=e},e.isAboveIOS13=function(){const e=NE();if(e.os!==AE.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return Number(t[0])>=13},e.isAboveIOS15_1=function(){const e=NE();if(e.os!==AE.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])&&Number(t[1])>=1},e.isAboveIOS15_2=function(){const e=NE();if(e.os!==AE.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])&&Number(t[1])>=2},e.isAboveIOS16_0=function(){const e=NE();if(e.os!==AE.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 16===Number(t[0])&&Number(t[1])>=0},e.isAboveOpera=function(e){const t=NE();return!(t.name!==SE.OPERA||!t.osVersion)&&Number(t.version)>=e},e.isAboveSafari=function(e){const t=NE();return!(t.name!==SE.SAFARI||!t.osVersion)&&Number(t.version)>=e},e.isAboveSafari15_4=function(){const e=NE();if(e.name!==SE.SAFARI||!e.browserVersion)return!1;const t=e.browserVersion.split(".");return Number(t[0])>15||15===Number(t[0])&&Number(t[1])>=4},e.isAboveSafari18_4=function(){const e=NE();if(e.name!==SE.SAFARI||!e.browserVersion)return!1;const t=e.browserVersion.split(".");return Number(t[0])>18||18===Number(t[0])&&Number(t[1])>=4},e.isAndroid=UE,e.isAndroidChromium=function(){const e=NE();return UE()&&(e.name===SE.CHROME||e.name===SE.WECHAT||/chrome|chromium/i.test(navigator.userAgent))},e.isBelowChrome=function(e){const t=NE();return!(t.name!==SE.CHROME||!t.osVersion)&&Number(t.version)<e},e.isBelowIOS=function(e,t,r){const n=NE();if(n.os!==AE.IOS||!n.osVersion)return!1;const i=n.osVersion.split(".");return r?t&&Number(i[0])===e&&Number(i[1])<t||Number(i[0])<e:t?Number(i[0])===e&&Number(i[1])<=t||Number(i[0])<e:Number(i[0])<=e},e.isBelowIOS14_6=function(){const e=NE();if(e.os!==AE.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return Number(t[0])<14||14===Number(t[0])&&Number(t[1])<=6},e.isBelowSafari=function(e,t,r){const n=NE();if(n.name!==SE.SAFARI||!n.osVersion||!n.browserVersion)return!1;const i=n.browserVersion.split(".");return r?t&&Number(i[0])===e&&Number(i[1])<t||Number(i[0])<e:t?Number(i[0])===e&&Number(i[1])<=t||Number(i[0])<e:Number(i[0])<=e},e.isBetweenBrowser=function(e,t,r){const n=NE();return!(n.name!==e||!n.osVersion)&&(r?Number(n.version)>=t&&Number(n.version)<=r:Number(n.version)===t)},e.isChrome=function(){return NE().name===SE.CHROME},e.isChromeBelow90=function(){const e=NE();return!(e.name!==SE.CHROME||!e.osVersion)&&Number(e.version)<=90},e.isChromeKernel=function(){const e=NE();return e.name!==SE.EDGE&&e.name!==SE.SAFARI&&!!navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]./i)},e.isClientConfig=function(e){return Tm(e.codec,"config.codec",["vp8","vp9","av1","h264","h265"]),Tm(e.mode,"config.mode",["rtc","live","p2p"]),void 0!==e.audioCodec&&Tm(e.audioCodec,"config.audioCodec",["opus","pcmu","pcma","g722"]),void 0!==e.proxyServer&&Am(e.proxyServer,"config.proxyServer",1,1e4),void 0!==e.turnServer&&Um(e.turnServer),void 0!==e.httpRetryConfig&&Lm(e.httpRetryConfig),void 0!==e.websocketRetryConfig&&Lm(e.websocketRetryConfig),!0},e.isClientRole=function(e){return Tm(e,"role",["audience","host"]),!0},e.isClientRoleOptions=function(e){return void 0!==e.level&&Tm(e.level,"level",[1,2,3]),void 0!==e.delay&&Rm(e.delay,"delay",0,3e3,!0),!0},e.isEdge=function(){return NE().name===SE.EDGE},e.isElectron=function(){return!!wm()},e.isEmpty=function(e){return null==e},e.isEncryptionMode=function(e){return Tm(e,"encryptionMode",["aes-128-xts","aes-256-xts","aes-128-ecb","sm4-128-ecb","aes-128-gcm","aes-256-gcm","aes-128-gcm2","aes-256-gcm2","none"]),!0},e.isFirefox=function(){return NE().name===SE.FIREFOX},e.isFirefoxVersion=function(e){const t=NE();return!(t.name!==SE.FIREFOX||!t.osVersion)&&Number(t.version)===e},e.isHarmonyOS=function(){return vE()===AE.HARMONY_OS},e.isHttpsEnv=()=>"HTTPS"===(DS||DS||(DS=(window.location.protocol.split(":")[0]||"").toUpperCase(),DS)),e.isIOS=PE,e.isIOS13=function(){const e=NE();if(e.os!==AE.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 13===Number(t[0])},e.isIOS15=function(){const e=NE();if(e.os!==AE.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])},e.isIOS15_0=function(){const e=NE();if(e.os!==AE.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])&&0===Number(t[1])},e.isIOS16=function(){const e=NE();if(e.os!==AE.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 16===Number(t[0])},e.isInPage=function(e){return e!==document.body&&document.body.contains(e)},e.isIpadOS=function(){return LE()&&navigator.maxTouchPoints>0},e.isJsonEqual=function(e,t){try{return"object"==typeof e&&"object"==typeof t&&JSON.stringify(e)===JSON.stringify(t)}catch(e){return!1}},e.isLegacyChrome=function(){return window.navigator.appVersion&&null!==window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)&&window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]<=35},e.isMacOS=function(){return NE().os===AE.MAC_OS},e.isMobile=function(){const e=vE();return ME()||e===AE.ANDROID||e===AE.IOS||e===AE.HARMONY_OS},e.isMobileAndTabletType=ME,e.isOpera=function(){return NE().name===SE.OPERA},e.isP2PTransport=function(e){return Tm(e,"transport",["default","auto","relay","sd-rtn"]),!0},e.isPageRecording=function(){const e=window.navigator.userAgent;return!!RE(e).call(e,"AgoraWebView")},e.isPromise=lR,e.isQQBrowser=function(){return NE().name===SE.QQ},e.isRTCIceServerList=function(e){if(!Array.isArray(e)||e.length<1)return!1;try{e.forEach((e=>{if(!e.urls)throw Error()}))}catch(e){return!1}return!0},e.isRetryConfiguration=Lm,e.isSafari=LE,e.isSupportedPC=function(){const e=vE();return e===AE.LINUX||e===AE.MAC_OS||-1!==e.indexOf("Windows")},e.isSupportedWkWebview=function(){const e=NE();if(DE()){if(e.os===AE.MAC_OS)return!0;if(e.os===AE.IOS){const e=bE.os.version&&bE.os.version.split(".");if(e&&14===Number(e[0])&&e[1]&&Number(e[1])>=3)return!0;if(e&&Number(e[0])>14)return!0}}return!1},e.isTurnServerConfig=Um,e.isValidString=Sm,e.isWebKit=function(){return"WebKit"===bE.engine.name},e.isWechatBrowser=function(){return NE().name===SE.WECHAT},e.isWindows=function(){return-1!==vE().indexOf("Windows")},e.isWkWebview=DE,e.jsonClone=ZT,e.loadInstallId=function(){try{if(wO("INSTALL_ID"))return wO("INSTALL_ID");let e=window.localStorage.getItem(mO);return e||(e=sR(),window.localStorage.setItem(mO,e)),yO("INSTALL_ID",e),e}catch(e){return}},e.md5=function(e){const t="0123456789abcdef";function r(e){let r,n="";for(r=0;r<=3;r++)n+=t.charAt(e>>8*r+4&15)+t.charAt(e>>8*r&15);return n}function n(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function i(e,t,r,i,o,s){return n(function(e,t){return e<<t|e>>>32-t}(n(n(t,e),n(i,s)),o),r)}function o(e,t,r,n,o,s,a){return i(t&r|~t&n,e,t,o,s,a)}function s(e,t,r,n,o,s,a){return i(t&n|r&~n,e,t,o,s,a)}function a(e,t,r,n,o,s,a){return i(t^r^n,e,t,o,s,a)}function c(e,t,r,n,o,s,a){return i(r^(t|~n),e,t,o,s,a)}const u=function(e){let t;const r=1+(e.length+8>>6),n=new Array(16*r);for(t=0;t<16*r;t++)n[t]=0;for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<t%4*8;return n[t>>2]|=128<<t%4*8,n[16*r-2]=8*e.length,n}(e);let d,l,E,p,h,f=1732584193,_=-271733879,m=-1732584194,T=271733878;for(d=0;d<u.length;d+=16)l=f,E=_,p=m,h=T,f=o(f,_,m,T,u[d+0],7,-680876936),T=o(T,f,_,m,u[d+1],12,-389564586),m=o(m,T,f,_,u[d+2],17,606105819),_=o(_,m,T,f,u[d+3],22,-1044525330),f=o(f,_,m,T,u[d+4],7,-176418897),T=o(T,f,_,m,u[d+5],12,1200080426),m=o(m,T,f,_,u[d+6],17,-1473231341),_=o(_,m,T,f,u[d+7],22,-45705983),f=o(f,_,m,T,u[d+8],7,1770035416),T=o(T,f,_,m,u[d+9],12,-1958414417),m=o(m,T,f,_,u[d+10],17,-42063),_=o(_,m,T,f,u[d+11],22,-1990404162),f=o(f,_,m,T,u[d+12],7,1804603682),T=o(T,f,_,m,u[d+13],12,-40341101),m=o(m,T,f,_,u[d+14],17,-1502002290),_=o(_,m,T,f,u[d+15],22,1236535329),f=s(f,_,m,T,u[d+1],5,-165796510),T=s(T,f,_,m,u[d+6],9,-1069501632),m=s(m,T,f,_,u[d+11],14,643717713),_=s(_,m,T,f,u[d+0],20,-373897302),f=s(f,_,m,T,u[d+5],5,-701558691),T=s(T,f,_,m,u[d+10],9,38016083),m=s(m,T,f,_,u[d+15],14,-660478335),_=s(_,m,T,f,u[d+4],20,-405537848),f=s(f,_,m,T,u[d+9],5,568446438),T=s(T,f,_,m,u[d+14],9,-1019803690),m=s(m,T,f,_,u[d+3],14,-187363961),_=s(_,m,T,f,u[d+8],20,1163531501),f=s(f,_,m,T,u[d+13],5,-1444681467),T=s(T,f,_,m,u[d+2],9,-51403784),m=s(m,T,f,_,u[d+7],14,1735328473),_=s(_,m,T,f,u[d+12],20,-1926607734),f=a(f,_,m,T,u[d+5],4,-378558),T=a(T,f,_,m,u[d+8],11,-2022574463),m=a(m,T,f,_,u[d+11],16,1839030562),_=a(_,m,T,f,u[d+14],23,-35309556),f=a(f,_,m,T,u[d+1],4,-1530992060),T=a(T,f,_,m,u[d+4],11,1272893353),m=a(m,T,f,_,u[d+7],16,-155497632),_=a(_,m,T,f,u[d+10],23,-1094730640),f=a(f,_,m,T,u[d+13],4,681279174),T=a(T,f,_,m,u[d+0],11,-358537222),m=a(m,T,f,_,u[d+3],16,-722521979),_=a(_,m,T,f,u[d+6],23,76029189),f=a(f,_,m,T,u[d+9],4,-640364487),T=a(T,f,_,m,u[d+12],11,-421815835),m=a(m,T,f,_,u[d+15],16,530742520),_=a(_,m,T,f,u[d+2],23,-995338651),f=c(f,_,m,T,u[d+0],6,-198630844),T=c(T,f,_,m,u[d+7],10,1126891415),m=c(m,T,f,_,u[d+14],15,-1416354905),_=c(_,m,T,f,u[d+5],21,-57434055),f=c(f,_,m,T,u[d+12],6,1700485571),T=c(T,f,_,m,u[d+3],10,-1894986606),m=c(m,T,f,_,u[d+10],15,-1051523),_=c(_,m,T,f,u[d+1],21,-2054922799),f=c(f,_,m,T,u[d+8],6,1873313359),T=c(T,f,_,m,u[d+15],10,-30611744),m=c(m,T,f,_,u[d+6],15,-1560198380),_=c(_,m,T,f,u[d+13],21,1309151649),f=c(f,_,m,T,u[d+4],6,-145523070),T=c(T,f,_,m,u[d+11],10,-1120210379),m=c(m,T,f,_,u[d+2],15,718787259),_=c(_,m,T,f,u[d+9],21,-343485551),f=n(f,l),_=n(_,E),m=n(m,p),T=n(T,h);return r(f)+r(_)+r(m)+r(T)},e.networkIndicator=Wm,e.nextTick=function(e){void 0!==Gl?Gl.resolve().then(e):setTimeout(e,0)},e.noop=()=>{},e.parseSdp=function(e){return GO.parse(e)},e.post=MS,e.postProtobuf=async function(e,t){const r=new Blob([t.data],{type:"buffer"});return await MS(e,vS(vS({},t),{},{data:r,headers:{"Content-Type":"application/octet-stream"}}),!0)},e.printSdp=function(e,t){return GO.print(e,t)},e.recursiveMerge=function e(t,r){if(!uR(t)||!uR(r))return r;if(Array.isArray(t)&&!Array.isArray(r)||!Array.isArray(t)&&Array.isArray(r))return r;if(Array.isArray(r)&&Array.isArray(t)){const n=[...t];for(let i=0;i<r.length;i++)n[i]=e(t[i],r[i]);return n}{const n=$T({},t);for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(Object.prototype.hasOwnProperty.call(t,i)?n[i]=e(t[i],r[i]):n[i]=r[i]);return n}},e.releaseStream=function(e){e.getTracks().forEach((e=>{e.stop()}))},e.removeItemFromList=function(e,t){const r=e.indexOf(t);-1!==r&&e.splice(r,1)},e.resetHTTPBytesCount=function(){LS=0,PS=0},e.retryable=function(e,t,r,n){const i=Object.assign({},hR,n);let o=i.timeout;const s=async()=>{await function(e){return new Gl((t=>{window.setTimeout(t,e)}))}(o),o*=i.timeoutFactor,o=Math.min(i.maxRetryTimeout,o)};let a=!1;const c=new Gl((async(n,o)=>{t=t||(()=>!1),r=r||(()=>!0);for(let c=0;c<i.maxRetryCount;c+=1){if(a)return o(new _m(fm.OPERATION_ABORTED));try{const r=await e();if(!t(r,c))return n(r);if(c+1===i.maxRetryCount)return n(r);await s()}catch(e){if(!r(e,c))return o(e);if(c+1===i.maxRetryCount)return o(e);await s()}}}));return c.cancel=()=>a=!0,c},e.runOnce=function(e,t){eR[t]||(eR[t]=!0,e())},e.safeCloneJson=function(e){try{return ZT(e)}catch(t){return e}},e.setBigInt64=function(e,t,r,n){if("setBigInt64"in DataView.prototype)return e.setBigInt64(t,r,n);const i=Number(r>>BigInt(32)),o=Number(r&BigInt(4294967295));n?(e.setInt32(t+4,i,n),e.setUint32(t,o,n)):(e.setInt32(t,i,n),e.setUint32(t+4,o,n))},e.setBigUint64=function(e,t,r,n){if("setBigUint64"in DataView.prototype)return e.setBigUint64(t,r,n);const i=Number(r>>BigInt(32)),o=Number(r&BigInt(4294967295));n?(e.setUint32(t+4,i,n),e.setUint32(t,o,n)):(e.setUint32(t,i,n),e.setUint32(t+4,o,n))},e.setParameter=yO,e.shiftAndPush=dR,e.showElectronSelectSourceWindow=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Gl(((r,n)=>{const i=document.createElement("div");i.innerText="share screen",i.setAttribute("style","text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;");const o=document.createElement("div");o.setAttribute("style","width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;");const s=document.createElement("div");s.innerText="Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.",s.setAttribute("style","height: 12%;");const a=document.createElement("div");a.setAttribute("style","width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;");const c=document.createElement("div");c.setAttribute("style","display: flex; justify-content: space-between; padding: 16px 0;");const u=document.createElement("button");u.innerHTML="cancel",u.setAttribute("style","width: 85px;"),u.onclick=()=>{document.body.removeChild(E);const e=new Error("NotAllowedError");e.name="NotAllowedError",n(e)};let d=t;const l=document.createElement("div");if(t){const e=document.createElement("input");e.setAttribute("type","checkbox");const t=document.createElement("span");e.setAttribute("style","margin-right: 6px;"),t.innerText="Share audio",e.checked=d,e.onchange=()=>{d=e.checked},l.appendChild(e),l.appendChild(t)}c.appendChild(l),c.appendChild(u),o.appendChild(s),o.appendChild(a),o.appendChild(c);const E=document.createElement("div");E.setAttribute("style","position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);"),E.appendChild(i),E.appendChild(o),document.body.appendChild(E),e.map((e=>{if(e.id){const t=document.createElement("div");t.setAttribute("style","width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;");let n=e.thumbnail;try{const{width:e}=n.getSize();e>1920&&(n=n.resize({width:1920}))}catch(e){throw e&&e.message.startsWith("Illegal invocation")&&console.error("Operate thumbnail error, please try to set contextIsolation: false. (https://github.com/electron/electron/issues/34953)"),e}t.innerHTML='<div style="height: 120px; display: table-cell; vertical-align: middle;"><img style="width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);" src='+n.toDataURL()+' /></div><span style="\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">'+(e.name.replace(/[\u00A0-\u9999<>\&]/g,(function(e){return"&#"+e.charCodeAt(0)+";"}))+"</span>"),t.onclick=()=>{document.body.removeChild(E),r({sourceId:e.id,audio:d})},a.appendChild(t)}}))}))},e.sumArray=function(e){return nT(e).call(e,((e,t)=>e+t),0)},e.supportIsSecureContext=()=>void 0!==window.isSecureContext,e.throttleByKey=cR,e.timeout=iR,e.toCamelCase=function(e){const t=e.split("_");return t[0]+t.slice(1).map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join("")},e.transferVersion=US,e.transformBrowserName=CE,e.transformBrowserVersion=yE,e.transformOSName=wE,e.uint8ArrayConcat=tR,e.uint8ArrayToBase64=function(e){let t="";for(let r=0;r<e.length;r+=1)t+=String.fromCharCode(e[r]);return window.btoa(t)},e.updateConcurrentNumber=function(e,t){zl.set(e,t)},e.wait=function(e){return new Gl((t=>{window.setTimeout(t,e)}))},e.withTimeout=function(e,t){return t===1/0?e:Gl.race([e,iR(t)])}}));
