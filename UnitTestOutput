wybuntu@Wyatt-Lat7490:~/hubtube$ php vendor/bin/pest --testsuite=Feature

   PASS  Tests\Feature\AdminPanelTest
  ✓ guest cannot access admin panel                                                                              1.09s
  ✓ regular user cannot access admin panel                                                                       0.14s
  ✓ admin user can access admin panel                                                                            0.35s
  ✓ guest cannot access horizon dashboard                                                                        0.05s

   FAIL  Tests\Feature\ApiTest
  ✓ unauthenticated API user request returns 401                                                                 0.06s
  ⨯ authenticated API user returns user data                                                                     0.08s
  ✓ API search endpoint is publicly accessible                                                                   0.05s
  ✓ API wallet transactions require auth                                                                         0.04s
  ⨯ translation API returns languages                                                                            0.05s

   FAIL  Tests\Feature\AuthTest
  ✓ registration page loads for guests                                                                           0.05s
  ✓ login page loads for guests                                                                                  0.04s
  ✓ user can register with valid data                                                                            0.23s
  ✓ registration fails with duplicate email                                                                      0.05s
  ✓ registration fails with duplicate username                                                                   0.04s
  ⨯ user can login with valid credentials                                                                        0.05s
  ✓ login fails with wrong password                                                                              0.04s
  ⨯ authenticated user can logout                                                                                0.27s
  ✓ forgot password page loads                                                                                   0.05s
  ⨯ authenticated users cannot access login page                                                                 0.18s
  ⨯ authenticated users cannot access register page                                                              0.18s

   FAIL  Tests\Feature\CommentTest
  ⨯ authenticated user can post a comment                                                                        0.22s
  ✓ guest cannot post a comment                                                                                  0.05s
  ⨯ comment requires content                                                                                     0.18s
  ⨯ comment owner can update their comment                                                                       0.19s
  ⨯ non-owner cannot update comment                                                                              0.19s
  ⨯ comment owner can delete their comment                                                                       0.20s
  ⨯ authenticated user can like a comment                                                                        0.20s

   PASS  Tests\Feature\ContactTest
  ✓ contact page loads                                                                                           0.08s
  ✓ contact form requires valid data                                                                             0.06s
  ✓ contact form submits with valid data                                                                         0.05s

   FAIL  Tests\Feature\PlaylistTest
  ✓ guest cannot access playlists page                                                                           0.06s
  ⨯ authenticated user can access playlists page                                                                 0.21s
  ⨯ authenticated user can create a playlist                                                                     0.20s
  ⨯ playlist owner can update playlist                                                                           0.20s
  ⨯ playlist owner can delete playlist                                                                           0.19s
  ⨯ non-owner cannot delete playlist                                                                             0.18s
  ✓ public playlist page loads for guests                                                                        0.07s
  ⨯ authenticated user can add video to playlist                                                                 0.20s
  ⨯ authenticated user can remove video from playlist                                                            0.21s

   FAIL  Tests\Feature\ProductionReadinessTest
  ✓ APP_KEY is set and not the default                                                                           0.04s
  ✓ APP_ENV is not set to local in production                                                                    0.03s
  ✓ APP_DEBUG should be false in production                                                                      0.03s
  ✓ APP_URL is configured                                                                                        0.02s
  ✓ timezone is set                                                                                              0.02s
  ✓ app locale is set                                                                                            0.03s
  ✓ database connection works                                                                                    0.03s
  ✓ migrations are up to date                                                                                    0.05s
  ✓ users table exists                                                                                           0.02s
  ✓ videos table exists                                                                                          0.02s
  ✓ categories table exists                                                                                      0.02s
  ✓ settings table exists                                                                                        0.02s
  ✓ comments table exists                                                                                        0.02s
  ✓ playlists table exists                                                                                       0.02s
  ✓ subscriptions table exists                                                                                   0.02s
  ✓ video_ads table exists                                                                                       0.03s
  ✓ translations table exists                                                                                    0.02s
  ✓ cache driver is configured                                                                                   0.02s
  ✓ session driver is configured                                                                                 0.02s
  ✓ queue driver is configured                                                                                   0.02s
  ✓ cache operations work                                                                                        0.02s
  ⨯ bcrypt rounds are at least 10                                                                                0.02s
  ✓ session cookie is configured securely                                                                        0.02s
  ✓ CSRF protection is enabled                                                                                   0.06s
  ✓ storage/installed marker file exists                                                                         0.02s
  ✓ storage directory is writable                                                                                0.02s
  ✓ storage/logs directory exists                                                                                0.02s
  ✓ bootstrap/cache directory is writable                                                                        0.03s
  ✓ public/index.php exists                                                                                      0.03s
  ✓ public storage symlink exists                                                                                0.03s
  ✓ sentry config exists                                                                                         0.03s
  ✓ hubtube config exists                                                                                        0.03s
  ✓ horizon config exists                                                                                        0.02s
  ✓ video allowed extensions are configured                                                                      0.03s
  ✓ video qualities are configured                                                                               0.03s
  ✓ mail from address is configured                                                                              0.03s
  ✓ mail from name is configured                                                                                 0.03s
  ✓ setting model can read and write                                                                             0.03s
  ✓ encrypted settings work correctly                                                                            0.03s
  ✓ all critical named routes are registered                                                                     0.03s
  ✓ locale-prefixed routes are registered                                                                        0.02s
  ✓ security headers middleware is registered                                                                    0.02s
  ✓ age verification middleware is registered                                                                    0.03s
  ✓ set locale middleware is registered                                                                          0.03s
  ✓ check installed middleware is registered                                                                     0.04s
  ✓ SeoService class exists                                                                                      0.03s
  ✓ VideoService class exists                                                                                    0.03s
  ✓ StorageManager class exists                                                                                  0.02s
  ✓ TranslationService class exists                                                                              0.02s
  ✓ WalletService class exists                                                                                   0.02s
  ✓ artisan optimize runs without error                                                                          0.07s
  ✓ artisan route:list runs without error                                                                        0.06s

   PASS  Tests\Feature\PublicRoutesTest
  ✓ homepage loads successfully                                                                                  0.11s
  ✓ trending page loads successfully                                                                             0.05s
  ✓ shorts page loads successfully                                                                               0.05s
  ✓ search page loads successfully                                                                               0.06s
  ✓ search page accepts query parameter                                                                          0.05s
  ✓ categories page loads successfully                                                                           0.05s
  ✓ category page loads with valid category                                                                      0.06s
  ✓ video page loads with valid video                                                                            0.07s
  ✓ video page returns 404 for non-existent slug                                                                 0.06s
  ✓ channel page loads with valid user                                                                           0.06s
  ✓ channel videos tab loads                                                                                     0.06s
  ✓ channel about tab loads                                                                                      0.06s
  ✓ contact page loads successfully                                                                              0.06s
  ✓ live streams page loads successfully                                                                         0.07s
  ✓ videos index page loads successfully                                                                         0.06s
  ✓ offline page loads for PWA                                                                                   0.05s
  ✓ health check endpoint returns 200                                                                            0.05s

   PASS  Tests\Feature\SecurityHeadersTest
  ✓ response includes Content-Security-Policy header                                                             0.08s
  ✓ response includes X-Content-Type-Options header                                                              0.05s
  ✓ response includes X-Frame-Options header                                                                     0.05s
  ✓ response includes X-XSS-Protection header                                                                    0.05s
  ✓ response includes Referrer-Policy header                                                                     0.05s
  ✓ response includes Permissions-Policy header                                                                  0.06s

   FAIL  Tests\Feature\SeoTest
  ⨯ sitemap.xml returns valid XML                                                                                0.06s
  ⨯ robots.txt returns plain text                                                                                0.05s
  ✓ homepage returns Inertia response with seo prop                                                              0.07s
  ✓ video page returns Inertia response with seo prop                                                            0.08s
  ✓ category page returns Inertia response with seo prop                                                         0.07s
  ✓ channel page returns Inertia response with seo prop                                                          0.07s
  ✓ locale-prefixed homepage loads                                                                               0.06s
  ✓ locale-prefixed trending loads                                                                               0.08s

   FAIL  Tests\Feature\SubscriptionTest
  ⨯ authenticated user can subscribe to a channel                                                                0.29s
  ⨯ authenticated user can unsubscribe from a channel                                                            0.32s
  ✓ guest cannot subscribe to a channel                                                                          0.06s
  ⨯ user cannot subscribe to themselves                                                                          0.21s

   FAIL  Tests\Feature\UserSettingsTest
  ✓ guest cannot access settings page                                                                            0.07s
  ⨯ authenticated user can access settings page                                                                  0.21s
  ⨯ user can update profile                                                                                      0.18s
  ⨯ user can update password                                                                                     0.18s
  ⨯ password update fails with wrong current password                                                            0.18s
  ✓ guest cannot access dashboard                                                                                0.06s
  ⨯ authenticated user can access dashboard                                                                      0.28s
  ✓ guest cannot access feed                                                                                     0.07s
  ⨯ authenticated user can access feed                                                                           0.21s
  ✓ guest cannot access history                                                                                  0.05s
  ⨯ authenticated user can access history                                                                        0.19s
  ✓ guest cannot access notifications                                                                            0.06s
  ⨯ authenticated user can access notifications                                                                  0.19s
  ✓ guest cannot access wallet                                                                                   0.06s
  ⨯ authenticated user can access wallet                                                                         0.21s

   FAIL  Tests\Feature\VideoTest
  ✓ guest cannot access upload page                                                                              0.08s
  ⨯ authenticated user can access upload page                                                                    0.20s
  ✓ public video is visible to guests                                                                            0.06s
  ⨯ private video returns 403 for non-owner                                                                      0.19s
  ⨯ private video is accessible by owner                                                                         0.19s
  ⨯ video owner can access edit page                                                                             0.21s
  ⨯ non-owner cannot access video edit page                                                                      0.21s
  ⨯ video owner can update video                                                                                 0.20s
  ⨯ video owner can delete video                                                                                 0.19s
  ⨯ non-owner cannot delete video                                                                                0.18s
  ⨯ authenticated user can like a video                                                                          0.21s
  ⨯ authenticated user can dislike a video                                                                       0.22s
  ⨯ load more videos API returns JSON                                                                            0.08s
  ⨯ video ads API returns JSON                                                                                   0.06s
  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\ApiTest > authenticated API user returns user data
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/routes/api.php(25): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/CallableDispatcher.php(40): Illuminate\Routing\RouteFileRegistrar->{closure:{closure:/home/wybuntu/hubtube/routes/api.php:18}:19}()
#4 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Route.php(244): Illuminate\Routing\CallableDispatcher->dispatch()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Route.php(215): Illuminate\Routing\Route->runCallable()
#6 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->{closure:Illuminate\Routing\Router::runRouteWithinStack():807}()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(92): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#15 /home/wybuntu/hubtube/vendor/laravel/sanctum/src/Http/Middleware/EnsureFrontendRequestsAreStateful.php(26): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->{closure:Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful::handle():25}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#18 /home/wybuntu/hubtube/vendor/laravel/sanctum/src/Http/Middleware/EnsureFrontendRequestsAreStateful.php(25): Illuminate\Pipeline\Pipeline->then()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->handle()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#27 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#30 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
#51 /home/wybuntu/hubtube/tests/Feature/ApiTest.php(19): Illuminate\Foundation\Testing\TestCase->getJson()
#52 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\ApiTest->{closure:/home/wybuntu/hubtube/tests/Feature/ApiTest.php:16}()
#53 [internal function]: P\Tests\Feature\ApiTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#55 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\ApiTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\ApiTest->__callClosure()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(41): P\Tests\Feature\ApiTest->__runTest()
#59 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\ApiTest->__pest_evaluable_authenticated_API_user_returns_user_data()
#60 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#68 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#69 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#71 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#72 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/ApiTest.php:21
     17▕     $user = User::factory()->create();
     18▕
     19▕     $response = $this->actingAs($user, 'sanctum')->getJson('/api/user');
     20▕
  ➜  21▕     $response->assertStatus(200);
     22▕     $response->assertJsonStructure([
     23▕         'id',
     24▕         'username',
     25▕         'email',

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\ApiTest > translation API returns languages
  Expected response status code [200] but received 451.
Failed asserting that 451 is identical to 200.

  at tests/Feature/ApiTest.php:45
     41▕ });
     42▕
     43▕ test('translation API returns languages', function () {
     44▕     $response = $this->getJson('/api/languages');
  ➜  45▕     $response->assertStatus(200);
     46▕ });
     47▕

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\AuthTest > user can login with valid credentials
  The current user is not authenticated.
Failed asserting that null is not null.

  at tests/Feature/AuthTest.php:69
     65▕         'password' => 'Password123!',
     66▕     ]);
     67▕
     68▕     $response->assertRedirect();
  ➜  69▕     $this->assertAuthenticatedAs($user);
     70▕ });
     71▕
     72▕ test('login fails with wrong password', function () {
     73▕     User::factory()->create([

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\AuthTest > authenticated user can logout
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/AuthTest.php(89): Illuminate\Foundation\Testing\TestCase->post()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\AuthTest->{closure:/home/wybuntu/hubtube/tests/Feature/AuthTest.php:86}()
#55 [internal function]: P\Tests\Feature\AuthTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\AuthTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\AuthTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(131): P\Tests\Feature\AuthTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\AuthTest->__pest_evaluable_authenticated_user_can_logout()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/AuthTest.php:91
     87▕     $user = asUser();
     88▕
     89▕     $response = $this->post('/logout');
     90▕
  ➜  91▕     $response->assertRedirect();
     92▕     $this->assertGuest();
     93▕ });
     94▕
     95▕ test('forgot password page loads', function () {

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\AuthTest > authenticated users cannot access login page
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#28 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#30 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#51 /home/wybuntu/hubtube/tests/Feature/AuthTest.php(101): Illuminate\Foundation\Testing\TestCase->get()
#52 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\AuthTest->{closure:/home/wybuntu/hubtube/tests/Feature/AuthTest.php:99}()
#53 [internal function]: P\Tests\Feature\AuthTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#55 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\AuthTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\AuthTest->__callClosure()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(161): P\Tests\Feature\AuthTest->__runTest()
#59 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\AuthTest->__pest_evaluable_authenticated_users_cannot_access_login_page()
#60 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#68 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#69 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#71 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#72 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/AuthTest.php:101
     97▕ });
     98▕
     99▕ test('authenticated users cannot access login page', function () {
    100▕     asUser();
  ➜ 101▕     $this->get('/login')->assertRedirect();
    102▕ });
    103▕
    104▕ test('authenticated users cannot access register page', function () {
    105▕     asUser();

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\AuthTest > authenticated users cannot access register page
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#28 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#30 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#51 /home/wybuntu/hubtube/tests/Feature/AuthTest.php(106): Illuminate\Foundation\Testing\TestCase->get()
#52 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\AuthTest->{closure:/home/wybuntu/hubtube/tests/Feature/AuthTest.php:104}()
#53 [internal function]: P\Tests\Feature\AuthTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#55 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\AuthTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\AuthTest->__callClosure()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(176): P\Tests\Feature\AuthTest->__runTest()
#59 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\AuthTest->__pest_evaluable_authenticated_users_cannot_access_register_page()
#60 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#68 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#69 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#71 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#72 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/AuthTest.php:106
    102▕ });
    103▕
    104▕ test('authenticated users cannot access register page', function () {
    105▕     asUser();
  ➜ 106▕     $this->get('/register')->assertRedirect();
    107▕ });
    108▕

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\CommentTest > authenticated user can post a comment
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(92): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#30 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#33 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#53 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#54 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#55 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
#56 /home/wybuntu/hubtube/tests/Feature/CommentTest.php(16): Illuminate\Foundation\Testing\TestCase->post()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\CommentTest->{closure:/home/wybuntu/hubtube/tests/Feature/CommentTest.php:12}()
#58 [internal function]: P\Tests\Feature\CommentTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\CommentTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#61 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#62 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\CommentTest->__callClosure()
#63 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(26): P\Tests\Feature\CommentTest->__runTest()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\CommentTest->__pest_evaluable_authenticated_user_can_post_a_comment()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#70 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#71 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#72 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#73 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#74 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#75 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#76 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#77 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/CommentTest.php:20
     16▕     $response = $this->post("/videos/{$video->id}/comments", [
     17▕         'content' => 'This is a test comment.',
     18▕     ]);
     19▕
  ➜  20▕     $response->assertRedirect();
     21▕     $this->assertDatabaseHas('comments', [
     22▕         'video_id' => $video->id,
     23▕         'user_id' => $user->id,
     24▕         'content' => 'This is a test comment.',

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\CommentTest > comment requires content
  Session is missing expected key [errors].
Failed asserting that false is true.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(92): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#30 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#33 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#53 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#54 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#55 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
#56 /home/wybuntu/hubtube/tests/Feature/CommentTest.php(40): Illuminate\Foundation\Testing\TestCase->post()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\CommentTest->{closure:/home/wybuntu/hubtube/tests/Feature/CommentTest.php:36}()
#58 [internal function]: P\Tests\Feature\CommentTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\CommentTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#61 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#62 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\CommentTest->__callClosure()
#63 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(56): P\Tests\Feature\CommentTest->__runTest()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\CommentTest->__pest_evaluable_comment_requires_content()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#70 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#71 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#72 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#73 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#74 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#75 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#76 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#77 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/CommentTest.php:44
     40▕     $response = $this->post("/videos/{$video->id}/comments", [
     41▕         'content' => '',
     42▕     ]);
     43▕
  ➜  44▕     $response->assertSessionHasErrors('content');
     45▕ });
     46▕
     47▕ test('comment owner can update their comment', function () {
     48▕     $user = asUser();

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\CommentTest > comment owner can update their comment
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(427): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/CommentTest.php(55): Illuminate\Foundation\Testing\TestCase->put()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\CommentTest->{closure:/home/wybuntu/hubtube/tests/Feature/CommentTest.php:47}()
#55 [internal function]: P\Tests\Feature\CommentTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\CommentTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\CommentTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(71): P\Tests\Feature\CommentTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\CommentTest->__pest_evaluable_comment_owner_can_update_their_comment()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/CommentTest.php:59
     55▕     $response = $this->put("/comments/{$comment->id}", [
     56▕         'content' => 'Updated comment text.',
     57▕     ]);
     58▕
  ➜  59▕     $response->assertRedirect();
     60▕     expect($comment->fresh()->content)->toBe('Updated comment text.');
     61▕ });
     62▕
     63▕ test('non-owner cannot update comment', function () {

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\CommentTest > non-owner cannot update comment
  Expected response status code [403] but received 500.
Failed asserting that 500 is identical to 403.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(427): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/CommentTest.php(67): Illuminate\Foundation\Testing\TestCase->put()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\CommentTest->{closure:/home/wybuntu/hubtube/tests/Feature/CommentTest.php:63}()
#55 [internal function]: P\Tests\Feature\CommentTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\CommentTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\CommentTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(86): P\Tests\Feature\CommentTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\CommentTest->__pest_evaluable_non_owner_cannot_update_comment()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/CommentTest.php:69
     65▕     asUser();
     66▕
     67▕     $this->put("/comments/{$comment->id}", [
     68▕         'content' => 'Hacked!',
  ➜  69▕     ])->assertStatus(403);
     70▕ });
     71▕
     72▕ test('comment owner can delete their comment', function () {
     73▕     $user = asUser();

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\CommentTest > comment owner can delete their comment
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(487): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/CommentTest.php(76): Illuminate\Foundation\Testing\TestCase->delete()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\CommentTest->{closure:/home/wybuntu/hubtube/tests/Feature/CommentTest.php:72}()
#55 [internal function]: P\Tests\Feature\CommentTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\CommentTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\CommentTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(101): P\Tests\Feature\CommentTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\CommentTest->__pest_evaluable_comment_owner_can_delete_their_comment()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/CommentTest.php:77
     73▕     $user = asUser();
     74▕     $comment = Comment::factory()->create(['user_id' => $user->id]);
     75▕
     76▕     $response = $this->delete("/comments/{$comment->id}");
  ➜  77▕     $response->assertRedirect();
     78▕     $this->assertSoftDeleted('comments', ['id' => $comment->id]);
     79▕ });
     80▕
     81▕ test('authenticated user can like a comment', function () {

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\CommentTest > authenticated user can like a comment
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(92): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#30 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#33 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#53 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#54 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#55 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
#56 /home/wybuntu/hubtube/tests/Feature/CommentTest.php(85): Illuminate\Foundation\Testing\TestCase->post()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\CommentTest->{closure:/home/wybuntu/hubtube/tests/Feature/CommentTest.php:81}()
#58 [internal function]: P\Tests\Feature\CommentTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\CommentTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#61 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#62 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\CommentTest->__callClosure()
#63 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(116): P\Tests\Feature\CommentTest->__runTest()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\CommentTest->__pest_evaluable_authenticated_user_can_like_a_comment()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#70 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#71 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#72 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#73 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#74 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#75 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#76 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#77 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/CommentTest.php:86
     82▕     asUser();
     83▕     $comment = Comment::factory()->create();
     84▕
     85▕     $response = $this->post("/comments/{$comment->id}/like");
  ➜  86▕     $response->assertRedirect();
     87▕ });
     88▕

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\PlaylistTest > authenticated user can access playlists page
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/PlaylistTest.php(18): Illuminate\Foundation\Testing\TestCase->get()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\PlaylistTest->{closure:/home/wybuntu/hubtube/tests/Feature/PlaylistTest.php:16}()
#55 [internal function]: P\Tests\Feature\PlaylistTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\PlaylistTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\PlaylistTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(41): P\Tests\Feature\PlaylistTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\PlaylistTest->__pest_evaluable_authenticated_user_can_access_playlists_page()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/PlaylistTest.php:18
     14▕ });
     15▕
     16▕ test('authenticated user can access playlists page', function () {
     17▕     asUser();
  ➜  18▕     $this->get('/playlists')->assertStatus(200);
     19▕ });
     20▕
     21▕ test('authenticated user can create a playlist', function () {
     22▕     $user = asUser();

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\PlaylistTest > authenticated user can create a playlist
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/PlaylistTest.php(24): Illuminate\Foundation\Testing\TestCase->post()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\PlaylistTest->{closure:/home/wybuntu/hubtube/tests/Feature/PlaylistTest.php:21}()
#55 [internal function]: P\Tests\Feature\PlaylistTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\PlaylistTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\PlaylistTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(56): P\Tests\Feature\PlaylistTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\PlaylistTest->__pest_evaluable_authenticated_user_can_create_a_playlist()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/PlaylistTest.php:30
     26▕         'description' => 'A test playlist',
     27▕         'privacy' => 'public',
     28▕     ]);
     29▕
  ➜  30▕     $response->assertRedirect();
     31▕     $this->assertDatabaseHas('playlists', [
     32▕         'user_id' => $user->id,
     33▕         'title' => 'My Test Playlist',
     34▕     ]);

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\PlaylistTest > playlist owner can update playlist
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(427): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/PlaylistTest.php(41): Illuminate\Foundation\Testing\TestCase->put()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\PlaylistTest->{closure:/home/wybuntu/hubtube/tests/Feature/PlaylistTest.php:37}()
#55 [internal function]: P\Tests\Feature\PlaylistTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\PlaylistTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\PlaylistTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(71): P\Tests\Feature\PlaylistTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\PlaylistTest->__pest_evaluable_playlist_owner_can_update_playlist()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/PlaylistTest.php:47
     43▕         'description' => 'Updated description',
     44▕         'privacy' => 'private',
     45▕     ]);
     46▕
  ➜  47▕     $response->assertRedirect();
     48▕     expect($playlist->fresh()->title)->toBe('Updated Playlist');
     49▕ });
     50▕
     51▕ test('playlist owner can delete playlist', function () {

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\PlaylistTest > playlist owner can delete playlist
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(487): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/PlaylistTest.php(55): Illuminate\Foundation\Testing\TestCase->delete()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\PlaylistTest->{closure:/home/wybuntu/hubtube/tests/Feature/PlaylistTest.php:51}()
#55 [internal function]: P\Tests\Feature\PlaylistTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\PlaylistTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\PlaylistTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(86): P\Tests\Feature\PlaylistTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\PlaylistTest->__pest_evaluable_playlist_owner_can_delete_playlist()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/PlaylistTest.php:56
     52▕     $user = asUser();
     53▕     $playlist = Playlist::factory()->create(['user_id' => $user->id]);
     54▕
     55▕     $response = $this->delete("/playlists/{$playlist->id}");
  ➜  56▕     $response->assertRedirect();
     57▕     $this->assertDatabaseMissing('playlists', ['id' => $playlist->id]);
     58▕ });
     59▕
     60▕ test('non-owner cannot delete playlist', function () {

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\PlaylistTest > non-owner cannot delete playlist
  Expected response status code [403] but received 500.
Failed asserting that 500 is identical to 403.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(487): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/PlaylistTest.php(64): Illuminate\Foundation\Testing\TestCase->delete()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\PlaylistTest->{closure:/home/wybuntu/hubtube/tests/Feature/PlaylistTest.php:60}()
#55 [internal function]: P\Tests\Feature\PlaylistTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\PlaylistTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\PlaylistTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(101): P\Tests\Feature\PlaylistTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\PlaylistTest->__pest_evaluable_non_owner_cannot_delete_playlist()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/PlaylistTest.php:64
     60▕ test('non-owner cannot delete playlist', function () {
     61▕     $playlist = Playlist::factory()->create();
     62▕     asUser();
     63▕
  ➜  64▕     $this->delete("/playlists/{$playlist->id}")->assertStatus(403);
     65▕ });
     66▕
     67▕ test('public playlist page loads for guests', function () {
     68▕     $playlist = Playlist::factory()->create(['privacy' => 'public']);

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\PlaylistTest > authenticated user can add video to playlist
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/PlaylistTest.php(77): Illuminate\Foundation\Testing\TestCase->post()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\PlaylistTest->{closure:/home/wybuntu/hubtube/tests/Feature/PlaylistTest.php:72}()
#55 [internal function]: P\Tests\Feature\PlaylistTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\PlaylistTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\PlaylistTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(131): P\Tests\Feature\PlaylistTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\PlaylistTest->__pest_evaluable_authenticated_user_can_add_video_to_playlist()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/PlaylistTest.php:81
     77▕     $response = $this->post("/playlists/{$playlist->id}/videos", [
     78▕         'video_id' => $video->id,
     79▕     ]);
     80▕
  ➜  81▕     $response->assertRedirect();
     82▕ });
     83▕
     84▕ test('authenticated user can remove video from playlist', function () {
     85▕     $user = asUser();

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\PlaylistTest > authenticated user can remove video from playlist
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(487): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/PlaylistTest.php(90): Illuminate\Foundation\Testing\TestCase->delete()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\PlaylistTest->{closure:/home/wybuntu/hubtube/tests/Feature/PlaylistTest.php:84}()
#55 [internal function]: P\Tests\Feature\PlaylistTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\PlaylistTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\PlaylistTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(146): P\Tests\Feature\PlaylistTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\PlaylistTest->__pest_evaluable_authenticated_user_can_remove_video_from_playlist()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/PlaylistTest.php:94
     90▕     $response = $this->delete("/playlists/{$playlist->id}/videos", [
     91▕         'video_id' => $video->id,
     92▕     ]);
     93▕
  ➜  94▕     $response->assertRedirect();
     95▕ });
     96▕

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\ProductionReadinessTest > bcrypt rounds are at least 10
  Failed asserting that '4' is equal to 10 or is greater than 10.

  at tests/Feature/ProductionReadinessTest.php:136
    132▕ // ── Security ────────────────────────────────────────────────────────────
    133▕
    134▕ test('bcrypt rounds are at least 10', function () {
    135▕     $rounds = config('hashing.bcrypt.rounds', 12);
  ➜ 136▕     expect($rounds)->toBeGreaterThanOrEqual(10);
    137▕ });
    138▕
    139▕ test('session cookie is configured securely', function () {
    140▕     $httpOnly = config('session.http_only');

  1   tests/Feature/ProductionReadinessTest.php:136

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\SeoTest > sitemap.xml returns valid XML
  Header [Content-Type] was found, but value [application/xml] does not match [text/xml; charset=UTF-8].
Failed asserting that two strings are equal.
  -'text/xml; charset=UTF-8'
  +'application/xml'


  at tests/Feature/SeoTest.php:16
     12▕
     13▕ test('sitemap.xml returns valid XML', function () {
     14▕     $response = $this->get('/sitemap.xml');
     15▕     $response->assertStatus(200);
  ➜  16▕     $response->assertHeader('Content-Type', 'text/xml; charset=UTF-8');
     17▕ });
     18▕
     19▕ test('robots.txt returns plain text', function () {
     20▕     $response = $this->get('/robots.txt');

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\SeoTest > robots.txt returns plain text
  Header [Content-Type] was found, but value [text/plain; charset=utf-8] does not match [text/plain; charset=UTF-8].
Failed asserting that two strings are equal.
  -'text/plain; charset=UTF-8'
  +'text/plain; charset=utf-8'


  at tests/Feature/SeoTest.php:22
     18▕
     19▕ test('robots.txt returns plain text', function () {
     20▕     $response = $this->get('/robots.txt');
     21▕     $response->assertStatus(200);
  ➜  22▕     $response->assertHeader('Content-Type', 'text/plain; charset=UTF-8');
     23▕     expect($response->getContent())->toContain('User-agent');
     24▕ });
     25▕
     26▕ test('homepage returns Inertia response with seo prop', function () {

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\SubscriptionTest > authenticated user can subscribe to a channel
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/SubscriptionTest.php(15): Illuminate\Foundation\Testing\TestCase->post()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\SubscriptionTest->{closure:/home/wybuntu/hubtube/tests/Feature/SubscriptionTest.php:11}()
#55 [internal function]: P\Tests\Feature\SubscriptionTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\SubscriptionTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\SubscriptionTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(26): P\Tests\Feature\SubscriptionTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\SubscriptionTest->__pest_evaluable_authenticated_user_can_subscribe_to_a_channel()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/SubscriptionTest.php:16
     12▕     $subscriber = asUser();
     13▕     $channel = User::factory()->create();
     14▕
     15▕     $response = $this->post("/channel/{$channel->id}/subscribe");
  ➜  16▕     $response->assertRedirect();
     17▕
     18▕     $this->assertDatabaseHas('subscriptions', [
     19▕         'subscriber_id' => $subscriber->id,
     20▕         'channel_id' => $channel->id,

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\SubscriptionTest > authenticated user can unsubscribe from a channel
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(487): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/SubscriptionTest.php(32): Illuminate\Foundation\Testing\TestCase->delete()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\SubscriptionTest->{closure:/home/wybuntu/hubtube/tests/Feature/SubscriptionTest.php:24}()
#55 [internal function]: P\Tests\Feature\SubscriptionTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\SubscriptionTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\SubscriptionTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(41): P\Tests\Feature\SubscriptionTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\SubscriptionTest->__pest_evaluable_authenticated_user_can_unsubscribe_from_a_channel()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/SubscriptionTest.php:33
     29▕     $this->post("/channel/{$channel->id}/subscribe");
     30▕
     31▕     // Then unsubscribe
     32▕     $response = $this->delete("/channel/{$channel->id}/subscribe");
  ➜  33▕     $response->assertRedirect();
     34▕
     35▕     $this->assertDatabaseMissing('subscriptions', [
     36▕         'subscriber_id' => $subscriber->id,
     37▕         'channel_id' => $channel->id,

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\SubscriptionTest > user cannot subscribe to themselves
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/SubscriptionTest.php(49): Illuminate\Foundation\Testing\TestCase->post()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\SubscriptionTest->{closure:/home/wybuntu/hubtube/tests/Feature/SubscriptionTest.php:46}()
#55 [internal function]: P\Tests\Feature\SubscriptionTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\SubscriptionTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\SubscriptionTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(71): P\Tests\Feature\SubscriptionTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\SubscriptionTest->__pest_evaluable_user_cannot_subscribe_to_themselves()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/SubscriptionTest.php:51
     47▕     $user = asUser();
     48▕
     49▕     $response = $this->post("/channel/{$user->id}/subscribe");
     50▕     // Should fail or redirect with error
  ➜  51▕     $response->assertRedirect();
     52▕ });
     53▕

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\UserSettingsTest > authenticated user can access settings page
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/UserSettingsTest.php(17): Illuminate\Foundation\Testing\TestCase->get()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\UserSettingsTest->{closure:/home/wybuntu/hubtube/tests/Feature/UserSettingsTest.php:15}()
#55 [internal function]: P\Tests\Feature\UserSettingsTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\UserSettingsTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\UserSettingsTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(41): P\Tests\Feature\UserSettingsTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\UserSettingsTest->__pest_evaluable_authenticated_user_can_access_settings_page()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/UserSettingsTest.php:17
     13▕ });
     14▕
     15▕ test('authenticated user can access settings page', function () {
     16▕     asUser();
  ➜  17▕     $this->get('/settings')->assertStatus(200);
     18▕ });
     19▕
     20▕ test('user can update profile', function () {
     21▕     $user = asUser();

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\UserSettingsTest > user can update profile
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(427): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/UserSettingsTest.php(23): Illuminate\Foundation\Testing\TestCase->put()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\UserSettingsTest->{closure:/home/wybuntu/hubtube/tests/Feature/UserSettingsTest.php:20}()
#55 [internal function]: P\Tests\Feature\UserSettingsTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\UserSettingsTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\UserSettingsTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(56): P\Tests\Feature\UserSettingsTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\UserSettingsTest->__pest_evaluable_user_can_update_profile()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/UserSettingsTest.php:30
     26▕         'last_name' => 'Name',
     27▕         'bio' => 'Updated bio text',
     28▕     ]);
     29▕
  ➜  30▕     $response->assertRedirect();
     31▕     expect($user->fresh()->first_name)->toBe('Updated');
     32▕     expect($user->fresh()->last_name)->toBe('Name');
     33▕ });
     34▕

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\UserSettingsTest > user can update password
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(427): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/UserSettingsTest.php(39): Illuminate\Foundation\Testing\TestCase->put()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\UserSettingsTest->{closure:/home/wybuntu/hubtube/tests/Feature/UserSettingsTest.php:35}()
#55 [internal function]: P\Tests\Feature\UserSettingsTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\UserSettingsTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\UserSettingsTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(71): P\Tests\Feature\UserSettingsTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\UserSettingsTest->__pest_evaluable_user_can_update_password()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/UserSettingsTest.php:45
     41▕         'password' => 'NewPassword456!',
     42▕         'password_confirmation' => 'NewPassword456!',
     43▕     ]);
     44▕
  ➜  45▕     $response->assertRedirect();
     46▕ });
     47▕
     48▕ test('password update fails with wrong current password', function () {
     49▕     $user = User::factory()->create(['password' => bcrypt('OldPassword123!')]);

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\UserSettingsTest > password update fails with wrong current password
  Session is missing expected key [errors].
Failed asserting that false is true.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(427): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/UserSettingsTest.php(52): Illuminate\Foundation\Testing\TestCase->put()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\UserSettingsTest->{closure:/home/wybuntu/hubtube/tests/Feature/UserSettingsTest.php:48}()
#55 [internal function]: P\Tests\Feature\UserSettingsTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\UserSettingsTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\UserSettingsTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(86): P\Tests\Feature\UserSettingsTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\UserSettingsTest->__pest_evaluable_password_update_fails_with_wrong_current_password()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/UserSettingsTest.php:58
     54▕         'password' => 'NewPassword456!',
     55▕         'password_confirmation' => 'NewPassword456!',
     56▕     ]);
     57▕
  ➜  58▕     $response->assertSessionHasErrors();
     59▕ });
     60▕
     61▕ test('guest cannot access dashboard', function () {
     62▕     $this->get('/dashboard')->assertRedirect('/login');

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\UserSettingsTest > authenticated user can access dashboard
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/UserSettingsTest.php(67): Illuminate\Foundation\Testing\TestCase->get()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\UserSettingsTest->{closure:/home/wybuntu/hubtube/tests/Feature/UserSettingsTest.php:65}()
#55 [internal function]: P\Tests\Feature\UserSettingsTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\UserSettingsTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\UserSettingsTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(116): P\Tests\Feature\UserSettingsTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\UserSettingsTest->__pest_evaluable_authenticated_user_can_access_dashboard()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/UserSettingsTest.php:67
     63▕ });
     64▕
     65▕ test('authenticated user can access dashboard', function () {
     66▕     asUser();
  ➜  67▕     $this->get('/dashboard')->assertStatus(200);
     68▕ });
     69▕
     70▕ test('guest cannot access feed', function () {
     71▕     $this->get('/feed')->assertRedirect('/login');

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\UserSettingsTest > authenticated user can access feed
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/UserSettingsTest.php(76): Illuminate\Foundation\Testing\TestCase->get()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\UserSettingsTest->{closure:/home/wybuntu/hubtube/tests/Feature/UserSettingsTest.php:74}()
#55 [internal function]: P\Tests\Feature\UserSettingsTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\UserSettingsTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\UserSettingsTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(146): P\Tests\Feature\UserSettingsTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\UserSettingsTest->__pest_evaluable_authenticated_user_can_access_feed()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/UserSettingsTest.php:76
     72▕ });
     73▕
     74▕ test('authenticated user can access feed', function () {
     75▕     asUser();
  ➜  76▕     $this->get('/feed')->assertStatus(200);
     77▕ });
     78▕
     79▕ test('guest cannot access history', function () {
     80▕     $this->get('/history')->assertRedirect('/login');

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\UserSettingsTest > authenticated user can access history
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/UserSettingsTest.php(85): Illuminate\Foundation\Testing\TestCase->get()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\UserSettingsTest->{closure:/home/wybuntu/hubtube/tests/Feature/UserSettingsTest.php:83}()
#55 [internal function]: P\Tests\Feature\UserSettingsTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\UserSettingsTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\UserSettingsTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(176): P\Tests\Feature\UserSettingsTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\UserSettingsTest->__pest_evaluable_authenticated_user_can_access_history()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/UserSettingsTest.php:85
     81▕ });
     82▕
     83▕ test('authenticated user can access history', function () {
     84▕     asUser();
  ➜  85▕     $this->get('/history')->assertStatus(200);
     86▕ });
     87▕
     88▕ test('guest cannot access notifications', function () {
     89▕     $this->get('/notifications')->assertRedirect('/login');

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\UserSettingsTest > authenticated user can access notifications
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/UserSettingsTest.php(94): Illuminate\Foundation\Testing\TestCase->get()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\UserSettingsTest->{closure:/home/wybuntu/hubtube/tests/Feature/UserSettingsTest.php:92}()
#55 [internal function]: P\Tests\Feature\UserSettingsTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\UserSettingsTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\UserSettingsTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(206): P\Tests\Feature\UserSettingsTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\UserSettingsTest->__pest_evaluable_authenticated_user_can_access_notifications()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/UserSettingsTest.php:94
     90▕ });
     91▕
     92▕ test('authenticated user can access notifications', function () {
     93▕     asUser();
  ➜  94▕     $this->get('/notifications')->assertStatus(200);
     95▕ });
     96▕
     97▕ test('guest cannot access wallet', function () {
     98▕     $this->get('/wallet')->assertRedirect('/login');

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\UserSettingsTest > authenticated user can access wallet
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/UserSettingsTest.php(103): Illuminate\Foundation\Testing\TestCase->get()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\UserSettingsTest->{closure:/home/wybuntu/hubtube/tests/Feature/UserSettingsTest.php:101}()
#55 [internal function]: P\Tests\Feature\UserSettingsTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\UserSettingsTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\UserSettingsTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(236): P\Tests\Feature\UserSettingsTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\UserSettingsTest->__pest_evaluable_authenticated_user_can_access_wallet()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/UserSettingsTest.php:103
     99▕ });
    100▕
    101▕ test('authenticated user can access wallet', function () {
    102▕     asUser();
  ➜ 103▕     $this->get('/wallet')->assertStatus(200);
    104▕ });
    105▕

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\VideoTest > authenticated user can access upload page
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/VideoTest.php(19): Illuminate\Foundation\Testing\TestCase->get()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\VideoTest->{closure:/home/wybuntu/hubtube/tests/Feature/VideoTest.php:17}()
#55 [internal function]: P\Tests\Feature\VideoTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\VideoTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\VideoTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(41): P\Tests\Feature\VideoTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\VideoTest->__pest_evaluable_authenticated_user_can_access_upload_page()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/VideoTest.php:19
     15▕ });
     16▕
     17▕ test('authenticated user can access upload page', function () {
     18▕     asUser();
  ➜  19▕     $this->get('/upload')->assertStatus(200);
     20▕ });
     21▕
     22▕ test('public video is visible to guests', function () {
     23▕     $video = Video::factory()->create(['privacy' => 'public']);

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\VideoTest > private video returns 403 for non-owner
  Expected response status code [403] but received 500.
Failed asserting that 500 is identical to 403.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#28 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#30 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#51 /home/wybuntu/hubtube/tests/Feature/VideoTest.php(31): Illuminate\Foundation\Testing\TestCase->get()
#52 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\VideoTest->{closure:/home/wybuntu/hubtube/tests/Feature/VideoTest.php:27}()
#53 [internal function]: P\Tests\Feature\VideoTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#55 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\VideoTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\VideoTest->__callClosure()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(71): P\Tests\Feature\VideoTest->__runTest()
#59 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\VideoTest->__pest_evaluable_private_video_returns_403_for_non_owner()
#60 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#68 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#69 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#71 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#72 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/VideoTest.php:33
     29▕     $otherUser = asUser();
     30▕
     31▕     $response = $this->get("/{$video->slug}");
     32▕     // Private videos should not be accessible by other users
  ➜  33▕     $response->assertStatus(403);
     34▕ });
     35▕
     36▕ test('private video is accessible by owner', function () {
     37▕     $user = asUser();

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\VideoTest > private video is accessible by owner
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#28 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#30 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#51 /home/wybuntu/hubtube/tests/Feature/VideoTest.php(40): Illuminate\Foundation\Testing\TestCase->get()
#52 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\VideoTest->{closure:/home/wybuntu/hubtube/tests/Feature/VideoTest.php:36}()
#53 [internal function]: P\Tests\Feature\VideoTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#55 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\VideoTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\VideoTest->__callClosure()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(86): P\Tests\Feature\VideoTest->__runTest()
#59 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\VideoTest->__pest_evaluable_private_video_is_accessible_by_owner()
#60 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#68 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#69 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#71 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#72 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/VideoTest.php:40
     36▕ test('private video is accessible by owner', function () {
     37▕     $user = asUser();
     38▕     $video = Video::factory()->private()->create(['user_id' => $user->id]);
     39▕
  ➜  40▕     $this->get("/{$video->slug}")->assertStatus(200);
     41▕ });
     42▕
     43▕ test('video owner can access edit page', function () {
     44▕     $user = asUser();

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\VideoTest > video owner can access edit page
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/VideoTest.php(47): Illuminate\Foundation\Testing\TestCase->get()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\VideoTest->{closure:/home/wybuntu/hubtube/tests/Feature/VideoTest.php:43}()
#55 [internal function]: P\Tests\Feature\VideoTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\VideoTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\VideoTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(101): P\Tests\Feature\VideoTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\VideoTest->__pest_evaluable_video_owner_can_access_edit_page()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/VideoTest.php:47
     43▕ test('video owner can access edit page', function () {
     44▕     $user = asUser();
     45▕     $video = Video::factory()->create(['user_id' => $user->id]);
     46▕
  ➜  47▕     $this->get("/videos/{$video->id}/edit")->assertStatus(200);
     48▕ });
     49▕
     50▕ test('non-owner cannot access video edit page', function () {
     51▕     $video = Video::factory()->create();

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\VideoTest > non-owner cannot access video edit page
  Expected response status code [403] but received 500.
Failed asserting that 500 is identical to 403.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/VideoTest.php(54): Illuminate\Foundation\Testing\TestCase->get()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\VideoTest->{closure:/home/wybuntu/hubtube/tests/Feature/VideoTest.php:50}()
#55 [internal function]: P\Tests\Feature\VideoTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\VideoTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\VideoTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(116): P\Tests\Feature\VideoTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\VideoTest->__pest_evaluable_non_owner_cannot_access_video_edit_page()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/VideoTest.php:54
     50▕ test('non-owner cannot access video edit page', function () {
     51▕     $video = Video::factory()->create();
     52▕     asUser();
     53▕
  ➜  54▕     $this->get("/videos/{$video->id}/edit")->assertStatus(403);
     55▕ });
     56▕
     57▕ test('video owner can update video', function () {
     58▕     $user = asUser();

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\VideoTest > video owner can update video
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(427): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/VideoTest.php(61): Illuminate\Foundation\Testing\TestCase->put()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\VideoTest->{closure:/home/wybuntu/hubtube/tests/Feature/VideoTest.php:57}()
#55 [internal function]: P\Tests\Feature\VideoTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\VideoTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\VideoTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(131): P\Tests\Feature\VideoTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\VideoTest->__pest_evaluable_video_owner_can_update_video()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/VideoTest.php:68
     64▕         'privacy' => 'public',
     65▕         'category_id' => $video->category_id,
     66▕     ]);
     67▕
  ➜  68▕     $response->assertRedirect();
     69▕     expect($video->fresh()->title)->toBe('Updated Title');
     70▕ });
     71▕
     72▕ test('video owner can delete video', function () {

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\VideoTest > video owner can delete video
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(487): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/VideoTest.php(76): Illuminate\Foundation\Testing\TestCase->delete()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\VideoTest->{closure:/home/wybuntu/hubtube/tests/Feature/VideoTest.php:72}()
#55 [internal function]: P\Tests\Feature\VideoTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\VideoTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\VideoTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(146): P\Tests\Feature\VideoTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\VideoTest->__pest_evaluable_video_owner_can_delete_video()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/VideoTest.php:78
     74▕     $video = Video::factory()->create(['user_id' => $user->id]);
     75▕
     76▕     $response = $this->delete("/videos/{$video->id}");
     77▕
  ➜  78▕     $response->assertRedirect();
     79▕     $this->assertSoftDeleted('videos', ['id' => $video->id]);
     80▕ });
     81▕
     82▕ test('non-owner cannot delete video', function () {

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\VideoTest > non-owner cannot delete video
  Expected response status code [403] but received 500.
Failed asserting that 500 is identical to 403.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#30 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#33 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(487): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/wybuntu/hubtube/tests/Feature/VideoTest.php(86): Illuminate\Foundation\Testing\TestCase->delete()
#54 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\VideoTest->{closure:/home/wybuntu/hubtube/tests/Feature/VideoTest.php:82}()
#55 [internal function]: P\Tests\Feature\VideoTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#56 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\VideoTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#58 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\VideoTest->__callClosure()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(161): P\Tests\Feature\VideoTest->__runTest()
#61 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\VideoTest->__pest_evaluable_non_owner_cannot_delete_video()
#62 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#63 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#70 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#71 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#72 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#73 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#74 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/VideoTest.php:86
     82▕ test('non-owner cannot delete video', function () {
     83▕     $video = Video::factory()->create();
     84▕     asUser();
     85▕
  ➜  86▕     $this->delete("/videos/{$video->id}")->assertStatus(403);
     87▕ });
     88▕
     89▕ test('authenticated user can like a video', function () {
     90▕     asUser();

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\VideoTest > authenticated user can like a video
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(92): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#30 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#33 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#53 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#54 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#55 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
#56 /home/wybuntu/hubtube/tests/Feature/VideoTest.php(93): Illuminate\Foundation\Testing\TestCase->post()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\VideoTest->{closure:/home/wybuntu/hubtube/tests/Feature/VideoTest.php:89}()
#58 [internal function]: P\Tests\Feature\VideoTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\VideoTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#61 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#62 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\VideoTest->__callClosure()
#63 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(176): P\Tests\Feature\VideoTest->__runTest()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\VideoTest->__pest_evaluable_authenticated_user_can_like_a_video()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#70 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#71 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#72 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#73 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#74 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#75 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#76 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#77 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/VideoTest.php:94
     90▕     asUser();
     91▕     $video = Video::factory()->create();
     92▕
     93▕     $response = $this->post("/videos/{$video->id}/like");
  ➜  94▕     $response->assertRedirect();
     95▕ });
     96▕
     97▕ test('authenticated user can dislike a video', function () {
     98▕     asUser();

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\VideoTest > authenticated user can dislike a video
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\MissingAttributeException: The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User]. in /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:506
Stack trace:
#0 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(486): Illuminate\Database\Eloquent\Model->throwMissingAttributeExceptionIfApplicable()
#1 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2260): Illuminate\Database\Eloquent\Model->getAttribute()
#2 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(34): Illuminate\Database\Eloquent\Model->__get()
#3 /home/wybuntu/hubtube/app/Http/Middleware/HandleInertiaRequests.php(48): App\Http\Middleware\HandleInertiaRequests->{closure:App\Http\Middleware\HandleInertiaRequests::share():26}()
#4 /home/wybuntu/hubtube/vendor/inertiajs/inertia-laravel/src/Middleware.php(84): App\Http\Middleware\HandleInertiaRequests->share()
#5 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Inertia\Middleware->handle()
#6 /home/wybuntu/hubtube/app/Http/Middleware/SetLocale.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#7 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SetLocale->handle()
#8 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#9 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#11 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(92): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#12 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#13 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#14 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#15 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#16 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#17 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#18 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#19 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#20 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#21 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#22 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#23 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#24 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#25 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#26 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#27 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#28 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#29 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#30 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#31 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#32 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#33 /home/wybuntu/hubtube/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#34 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle()
#35 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#38 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#39 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#40 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#41 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#42 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#43 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#44 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#45 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#46 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#47 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#48 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#49 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#50 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#51 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#52 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#53 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#54 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#55 /home/wybuntu/hubtube/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
#56 /home/wybuntu/hubtube/tests/Feature/VideoTest.php(101): Illuminate\Foundation\Testing\TestCase->post()
#57 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(110): P\Tests\Feature\VideoTest->{closure:/home/wybuntu/hubtube/tests/Feature/VideoTest.php:97}()
#58 [internal function]: P\Tests\Feature\VideoTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():102}()
#59 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): call_user_func_array()
#60 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\VideoTest->{closure:Pest\Concerns\Testable::__callClosure():339}()
#61 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(339): Pest\Support\ExceptionTrace::ensure()
#62 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Concerns/Testable.php(256): P\Tests\Feature\VideoTest->__callClosure()
#63 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(197) : eval()'d code(191): P\Tests\Feature\VideoTest->__runTest()
#64 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(1548): P\Tests\Feature\VideoTest->__pest_evaluable_authenticated_user_can_dislike_a_video()
#65 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(686): PHPUnit\Framework\TestCase->runTest()
#66 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestRunner.php(106): PHPUnit\Framework\TestCase->runBare()
#67 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestCase.php(516): PHPUnit\Framework\TestRunner->run()
#68 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#69 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#70 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#71 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#72 /home/wybuntu/hubtube/vendor/phpunit/phpunit/src/TextUI/Application.php(204): PHPUnit\TextUI\TestRunner->run()
#73 /home/wybuntu/hubtube/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run()
#74 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(91): Pest\Kernel->handle()
#75 /home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest(99): {closure:/home/wybuntu/hubtube/vendor/pestphp/pest/bin/pest:12}()
#76 /home/wybuntu/hubtube/vendor/bin/pest(119): include('...')
#77 {main}

----------------------------------------------------------------------------------

The attribute [avatar] either does not exist or was not retrieved for model [App\Models\User].

  at tests/Feature/VideoTest.php:102
     98▕     asUser();
     99▕     $video = Video::factory()->create();
    100▕
    101▕     $response = $this->post("/videos/{$video->id}/dislike");
  ➜ 102▕     $response->assertRedirect();
    103▕ });
    104▕
    105▕ test('load more videos API returns JSON', function () {
    106▕     Video::factory()->count(5)->create();

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\VideoTest > load more videos API returns JSON
  Expected response status code [200] but received 451.
Failed asserting that 451 is identical to 200.

  at tests/Feature/VideoTest.php:109
    105▕ test('load more videos API returns JSON', function () {
    106▕     Video::factory()->count(5)->create();
    107▕
    108▕     $response = $this->getJson('/api/videos/load-more');
  ➜ 109▕     $response->assertStatus(200);
    110▕ });
    111▕
    112▕ test('video ads API returns JSON', function () {
    113▕     $response = $this->getJson('/api/video-ads');

  ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Feature\VideoTest > video ads API returns JSON
  Expected response status code [200] but received 451.
Failed asserting that 451 is identical to 200.

  at tests/Feature/VideoTest.php:114
    110▕ });
    111▕
    112▕ test('video ads API returns JSON', function () {
    113▕     $response = $this->getJson('/api/video-ads');
  ➜ 114▕     $response->assertStatus(200);
    115▕     $response->assertJsonStructure([]);
    116▕ });
    117▕


  Tests:    46 failed, 109 passed (257 assertions)
  Duration: 14.98s

wybuntu@Wyatt-Lat7490:~/hubtube$